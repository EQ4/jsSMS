/*
jsSMS - A Sega Master System/Game Gear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var aa=void 0,h=!0,n=!1;function ba(){return function(){}};function ca(b){this.e={ui:fa,swfPath:"lib/"};if(b!=aa)for(var a in this.e)b[a]!=aa&&(this.e[a]=b[a]);this.C=new ia(this);this.a=new b.ui(this);this.B=new ja(this);this.c=new ka(this);this.d=new na(this);this.b=new pa(this);this.a.updateStatus("Ready to load a ROM.");this.ui=this.a}
ca.prototype={X:n,ta:0,R:0,fa:0,Y:n,P:h,V:n,va:n,da:[],ea:0,ha:0,ba:[],za:"",Q:0,reset:function(){var b=this.B.J,a=0;0==b||this.V?(this.fa=60,this.R=262,a=3579545):(this.fa=50,this.R=313,a=3546893);this.ta=Math.round(a/this.fa/this.R+1);this.B.J=b;if(this.va){b=this.c;b.m=(a<<8)/16/44100;b.e=0;b.c=0;b.h=16;b.f=32768;for(a=0;4>a;a++)b.b[a<<1]=1,b.b[(a<<1)+1]=15,b.a[a]=0,b.d[a]=1,3!=a&&(b.g[a]=qa);this.ha=Math.round(44100/this.fa);if(0==this.da.length||this.da.length!=this.ha)this.da=Array(this.ha);
if(0==this.ba.length||this.ba.length!=this.R){this.ba=Array(this.R);for(var e=0,a=0;a<this.R;a++)b=(this.ha<<16)/this.R+e,e=b-(b>>16<<16),this.ba[a]=b>>16}}this.C.reset();this.a.reset();this.B.reset();this.d.reset();this.b.reset()},start:function(){this.X||(this.X=h,this.a.requestAnimationFrame(this.wa.bind(this),this.a.screen));this.a.updateStatus("Running")},stop:function(){this.X=n},wa:function(){if(this.X){var b=this.b;b.Q=0;for(b.n+=b.o.ta;;){var a=b,e=0,l=0,s=a.d(a.c++);a.n-=Aa[s];switch(s){case 1:var u=
a,m=a.p(a.c++);u.g=m>>8;u.f=m&255;a.c++;break;case 2:a.e(q(a),a.a);break;case 3:var t=a;t.f=t.f+1&255;0==t.f&&(t.g=t.g+1&255);break;case 4:a.g=v(a,a.g);break;case 5:a.g=w(a,a.g);break;case 6:a.g=a.d(a.c++);break;case 7:var E=a,ha=E.a>>7;E.a=E.a<<1&255|ha;E.b=E.b&236|ha;break;case 8:var R=a,Ha=R.a;R.a=R.ja;R.ja=Ha;Ha=R.b;R.b=R.oa;R.oa=Ha;break;case 9:Ba(a,Ca(a,x(a),q(a)));break;case 10:a.a=a.d(q(a));break;case 11:Ka(a);break;case 12:a.f=v(a,a.f);break;case 13:a.f=w(a,a.f);break;case 14:a.f=a.d(a.c++);
break;case 15:var Ta=a,Mb=Ta.a&1;Ta.a=Ta.a>>1|Mb<<7;Ta.b=Ta.b&236|Mb;break;case 16:a.g=a.g-1&255;Sa(a,0!=a.g);break;case 17:var Nb=a,Ob=a.p(a.c++);Nb.k=Ob>>8;Nb.i=Ob&255;a.c++;break;case 18:a.e(Ua(a),a.a);break;case 19:Ya(a);break;case 20:a.k=v(a,a.k);break;case 21:a.k=w(a,a.k);break;case 22:a.k=a.d(a.c++);break;case 23:var Ia=a,Bc=Ia.a>>7;Ia.a=(Ia.a<<1|Ia.b&1)&255;Ia.b=Ia.b&236|Bc;break;case 24:a.c+=$a(y(a)+1);break;case 25:Ba(a,Ca(a,x(a),Ua(a)));break;case 26:a.a=a.d(Ua(a));break;case 27:ab(a);
break;case 28:a.i=v(a,a.i);break;case 29:a.i=w(a,a.i);break;case 30:a.i=a.d(a.c++);break;case 31:var Ja=a,Cc=Ja.a&1;Ja.a=(Ja.a>>1|(Ja.b&1)<<7)&255;Ja.b=Ja.b&236|Cc;break;case 32:Sa(a,0==(a.b&64));break;case 33:Ba(a,a.p(a.c++));a.c++;break;case 34:e=a.p(a.c);a.e(e,a.j);a.e(++e,a.h);a.c+=2;break;case 35:ib(a);break;case 36:a.h=v(a,a.h);break;case 37:a.h=w(a,a.h);break;case 38:a.h=a.d(a.c++);break;case 39:var oa=a,Qb=oa.xa[oa.a|(oa.b&1)<<8|(oa.b&2)<<8|(oa.b&16)<<6];oa.a=Qb&255;oa.b=oa.b&2|Qb>>8;break;
case 40:Sa(a,0!=(a.b&64));break;case 41:Ba(a,Ca(a,x(a),x(a)));break;case 42:Ba(a,a.p(a.p(a.c)));a.c+=2;break;case 43:jb(a);break;case 44:a.j=v(a,a.j);break;case 45:a.j=w(a,a.j);break;case 46:a.j=a.d(a.c++);break;case 47:var Za=a;Za.a^=255;Za.b|=18;break;case 48:Sa(a,0==(a.b&1));break;case 49:a.m=a.p(a.c);a.c+=2;break;case 50:a.e(a.p(a.c),a.a);a.c+=2;break;case 51:a.m++;break;case 52:kb(a,x(a));break;case 53:lb(a,x(a));break;case 54:a.e(x(a),a.d(a.c++));break;case 55:a.b|=1;a.b&=-3;a.b&=-17;break;
case 56:Sa(a,0!=(a.b&1));break;case 57:Ba(a,Ca(a,x(a),a.m));break;case 58:a.a=a.d(a.p(a.c));a.c+=2;break;case 59:a.m--;break;case 60:a.a=v(a,a.a);break;case 61:a.a=w(a,a.a);break;case 62:a.a=a.d(a.c++);break;case 63:var ga=a;0!=(ga.b&1)?(ga.b&=-2,ga.b|=16):(ga.b|=1,ga.b&=-17);ga.b&=-3;break;case 65:a.g=a.f;break;case 66:a.g=a.k;break;case 67:a.g=a.i;break;case 68:a.g=a.h;break;case 69:a.g=a.j;break;case 70:a.g=a.d(x(a));break;case 71:a.g=a.a;break;case 72:a.f=a.g;break;case 74:a.f=a.k;break;case 75:a.f=
a.i;break;case 76:a.f=a.h;break;case 77:a.f=a.j;break;case 78:a.f=a.d(x(a));break;case 79:a.f=a.a;break;case 80:a.k=a.g;break;case 81:a.k=a.f;break;case 83:a.k=a.i;break;case 84:a.k=a.h;break;case 85:a.k=a.j;break;case 86:a.k=a.d(x(a));break;case 87:a.k=a.a;break;case 88:a.i=a.g;break;case 89:a.i=a.f;break;case 90:a.i=a.k;break;case 92:a.i=a.h;break;case 93:a.i=a.j;break;case 94:a.i=a.d(x(a));break;case 95:a.i=a.a;break;case 96:a.h=a.g;break;case 97:a.h=a.f;break;case 98:a.h=a.k;break;case 99:a.h=
a.i;break;case 101:a.h=a.j;break;case 102:a.h=a.d(x(a));break;case 103:a.h=a.a;break;case 104:a.j=a.g;break;case 105:a.j=a.f;break;case 106:a.j=a.k;break;case 107:a.j=a.i;break;case 108:a.j=a.h;break;case 110:a.j=a.d(x(a));break;case 111:a.j=a.a;break;case 112:a.e(x(a),a.g);break;case 113:a.e(x(a),a.f);break;case 114:a.e(x(a),a.k);break;case 115:a.e(x(a),a.i);break;case 116:a.e(x(a),a.h);break;case 117:a.e(x(a),a.j);break;case 118:a.n=0;a.L=h;a.c--;break;case 119:a.e(x(a),a.a);break;case 120:a.a=
a.g;break;case 121:a.a=a.f;break;case 122:a.a=a.k;break;case 123:a.a=a.i;break;case 124:a.a=a.h;break;case 125:a.a=a.j;break;case 126:a.a=a.d(x(a));break;case 128:B(a,a.g);break;case 129:B(a,a.f);break;case 130:B(a,a.k);break;case 131:B(a,a.i);break;case 132:B(a,a.h);break;case 133:B(a,a.j);break;case 134:B(a,a.d(x(a)));break;case 135:B(a,a.a);break;case 136:C(a,a.g);break;case 137:C(a,a.f);break;case 138:C(a,a.k);break;case 139:C(a,a.i);break;case 140:C(a,a.h);break;case 141:C(a,a.j);break;case 142:C(a,
a.d(x(a)));break;case 143:C(a,a.a);break;case 144:G(a,a.g);break;case 145:G(a,a.f);break;case 146:G(a,a.k);break;case 147:G(a,a.i);break;case 148:G(a,a.h);break;case 149:G(a,a.j);break;case 150:G(a,a.d(x(a)));break;case 151:G(a,a.a);break;case 152:H(a,a.g);break;case 153:H(a,a.f);break;case 154:H(a,a.k);break;case 155:H(a,a.i);break;case 156:H(a,a.h);break;case 157:H(a,a.j);break;case 158:H(a,a.d(x(a)));break;case 159:H(a,a.a);break;case 160:a.b=a.l[a.a&=a.g]|16;break;case 161:a.b=a.l[a.a&=a.f]|16;
break;case 162:a.b=a.l[a.a&=a.k]|16;break;case 163:a.b=a.l[a.a&=a.i]|16;break;case 164:a.b=a.l[a.a&=a.h]|16;break;case 165:a.b=a.l[a.a&=a.j]|16;break;case 166:a.b=a.l[a.a&=a.d(x(a))]|16;break;case 167:a.b=a.l[a.a]|16;break;case 168:a.b=a.l[a.a^=a.g];break;case 169:a.b=a.l[a.a^=a.f];break;case 170:a.b=a.l[a.a^=a.k];break;case 171:a.b=a.l[a.a^=a.i];break;case 172:a.b=a.l[a.a^=a.h];break;case 173:a.b=a.l[a.a^=a.j];break;case 174:a.b=a.l[a.a^=a.d(x(a))];break;case 175:a.b=a.l[a.a=0];break;case 176:a.b=
a.l[a.a|=a.g];break;case 177:a.b=a.l[a.a|=a.f];break;case 178:a.b=a.l[a.a|=a.k];break;case 179:a.b=a.l[a.a|=a.i];break;case 180:a.b=a.l[a.a|=a.h];break;case 181:a.b=a.l[a.a|=a.j];break;case 182:a.b=a.l[a.a|=a.d(x(a))];break;case 183:a.b=a.l[a.a];break;case 184:I(a,a.g);break;case 185:I(a,a.f);break;case 186:I(a,a.k);break;case 187:I(a,a.i);break;case 188:I(a,a.h);break;case 189:I(a,a.j);break;case 190:I(a,a.d(x(a)));break;case 191:I(a,a.a);break;case 192:sb(a,0==(a.b&64));break;case 193:var Rb=a,
Sb=a.p(a.m);Rb.g=Sb>>8;Rb.f=Sb&255;a.m+=2;break;case 194:Fb(a,0==(a.b&64));break;case 195:a.c=a.p(a.c);break;case 196:a.call(0==(a.b&64));break;case 197:Gb(a,a.g,a.f);break;case 198:B(a,a.d(a.c++));break;case 199:Hb(a,a.c);a.c=0;break;case 200:sb(a,0!=(a.b&64));break;case 201:a.c=a.p(a.m);a.m+=2;break;case 202:Fb(a,0!=(a.b&64));break;case 203:var c=a,Tb=a.d(a.c++);c.n-=Ib[Tb];switch(Tb){case 0:c.g=J(c,c.g);break;case 1:c.f=J(c,c.f);break;case 2:c.k=J(c,c.k);break;case 3:c.i=J(c,c.i);break;case 4:c.h=
J(c,c.h);break;case 5:c.j=J(c,c.j);break;case 6:c.e(x(c),J(c,c.d(x(c))));break;case 7:c.a=J(c,c.a);break;case 8:c.g=K(c,c.g);break;case 9:c.f=K(c,c.f);break;case 10:c.k=K(c,c.k);break;case 11:c.i=K(c,c.i);break;case 12:c.h=K(c,c.h);break;case 13:c.j=K(c,c.j);break;case 14:c.e(x(c),K(c,c.d(x(c))));break;case 15:c.a=K(c,c.a);break;case 16:c.g=L(c,c.g);break;case 17:c.f=L(c,c.f);break;case 18:c.k=L(c,c.k);break;case 19:c.i=L(c,c.i);break;case 20:c.h=L(c,c.h);break;case 21:c.j=L(c,c.j);break;case 22:c.e(x(c),
L(c,c.d(x(c))));break;case 23:c.a=L(c,c.a);break;case 24:c.g=M(c,c.g);break;case 25:c.f=M(c,c.f);break;case 26:c.k=M(c,c.k);break;case 27:c.i=M(c,c.i);break;case 28:c.h=M(c,c.h);break;case 29:c.j=M(c,c.j);break;case 30:c.e(x(c),M(c,c.d(x(c))));break;case 31:c.a=M(c,c.a);break;case 32:c.g=N(c,c.g);break;case 33:c.f=N(c,c.f);break;case 34:c.k=N(c,c.k);break;case 35:c.i=N(c,c.i);break;case 36:c.h=N(c,c.h);break;case 37:c.j=N(c,c.j);break;case 38:c.e(x(c),N(c,c.d(x(c))));break;case 39:c.a=N(c,c.a);break;
case 40:c.g=O(c,c.g);break;case 41:c.f=O(c,c.f);break;case 42:c.k=O(c,c.k);break;case 43:c.i=O(c,c.i);break;case 44:c.h=O(c,c.h);break;case 45:c.j=O(c,c.j);break;case 46:c.e(x(c),O(c,c.d(x(c))));break;case 47:c.a=O(c,c.a);break;case 48:c.g=Q(c,c.g);break;case 49:c.f=Q(c,c.f);break;case 50:c.k=Q(c,c.k);break;case 51:c.i=Q(c,c.i);break;case 52:c.h=Q(c,c.h);break;case 53:c.j=Q(c,c.j);break;case 54:c.e(x(c),Q(c,c.d(x(c))));break;case 55:c.a=Q(c,c.a);break;case 56:c.g=S(c,c.g);break;case 57:c.f=S(c,c.f);
break;case 58:c.k=S(c,c.k);break;case 59:c.i=S(c,c.i);break;case 60:c.h=S(c,c.h);break;case 61:c.j=L(c,c.j);break;case 62:c.e(x(c),S(c,c.d(x(c))));break;case 63:c.a=S(c,c.a);break;case 64:T(c,c.g&1);break;case 65:T(c,c.f&1);break;case 66:T(c,c.k&1);break;case 67:T(c,c.i&1);break;case 68:T(c,c.h&1);break;case 69:T(c,c.j&1);break;case 70:T(c,c.d(x(c))&1);break;case 71:T(c,c.a&1);break;case 72:T(c,c.g&2);break;case 73:T(c,c.f&2);break;case 74:T(c,c.k&2);break;case 75:T(c,c.i&2);break;case 76:T(c,c.h&
2);break;case 77:T(c,c.j&2);break;case 78:T(c,c.d(x(c))&2);break;case 79:T(c,c.a&2);break;case 80:T(c,c.g&4);break;case 81:T(c,c.f&4);break;case 82:T(c,c.k&4);break;case 83:T(c,c.i&4);break;case 84:T(c,c.h&4);break;case 85:T(c,c.j&4);break;case 86:T(c,c.d(x(c))&4);break;case 87:T(c,c.a&4);break;case 88:T(c,c.g&8);break;case 89:T(c,c.f&8);break;case 90:T(c,c.k&8);break;case 91:T(c,c.i&8);break;case 92:T(c,c.h&8);break;case 93:T(c,c.j&8);break;case 94:T(c,c.d(x(c))&8);break;case 95:T(c,c.a&8);break;
case 96:T(c,c.g&16);break;case 97:T(c,c.f&16);break;case 98:T(c,c.k&16);break;case 99:T(c,c.i&16);break;case 100:T(c,c.h&16);break;case 101:T(c,c.j&16);break;case 102:T(c,c.d(x(c))&16);break;case 103:T(c,c.a&16);break;case 104:T(c,c.g&32);break;case 105:T(c,c.f&32);break;case 106:T(c,c.k&32);break;case 107:T(c,c.i&32);break;case 108:T(c,c.h&32);break;case 109:T(c,c.j&32);break;case 110:T(c,c.d(x(c))&32);break;case 111:T(c,c.a&32);break;case 112:T(c,c.g&64);break;case 113:T(c,c.f&64);break;case 114:T(c,
c.k&64);break;case 115:T(c,c.i&64);break;case 116:T(c,c.h&64);break;case 117:T(c,c.j&64);break;case 118:T(c,c.d(x(c))&64);break;case 119:T(c,c.a&64);break;case 120:T(c,c.g&128);break;case 121:T(c,c.f&128);break;case 122:T(c,c.k&128);break;case 123:T(c,c.i&128);break;case 124:T(c,c.h&128);break;case 125:T(c,c.j&128);break;case 126:T(c,c.d(x(c))&128);break;case 127:T(c,c.a&128);break;case 128:c.g&=-2;break;case 129:c.f&=-2;break;case 130:c.k&=-2;break;case 131:c.i&=-2;break;case 132:c.h&=-2;break;case 133:c.j&=
-2;break;case 134:c.e(x(c),c.d(x(c))&-2);break;case 135:c.a&=-2;break;case 136:c.g&=-3;break;case 137:c.f&=-3;break;case 138:c.k&=-3;break;case 139:c.i&=-3;break;case 140:c.h&=-3;break;case 141:c.j&=-3;break;case 142:c.e(x(c),c.d(x(c))&-3);break;case 143:c.a&=-3;break;case 144:c.g&=-5;break;case 145:c.f&=-5;break;case 146:c.k&=-5;break;case 147:c.i&=-5;break;case 148:c.h&=-5;break;case 149:c.j&=-5;break;case 150:c.e(x(c),c.d(x(c))&-5);break;case 151:c.a&=-5;break;case 152:c.g&=-9;break;case 153:c.f&=
-9;break;case 154:c.k&=-9;break;case 155:c.i&=-9;break;case 156:c.h&=-9;break;case 157:c.j&=-9;break;case 158:c.e(x(c),c.d(x(c))&-9);break;case 159:c.a&=-9;break;case 160:c.g&=-17;break;case 161:c.f&=-17;break;case 162:c.k&=-17;break;case 163:c.i&=-17;break;case 164:c.h&=-17;break;case 165:c.j&=-17;break;case 166:c.e(x(c),c.d(x(c))&-17);break;case 167:c.a&=-17;break;case 168:c.g&=-33;break;case 169:c.f&=-33;break;case 170:c.k&=-33;break;case 171:c.i&=-33;break;case 172:c.h&=-33;break;case 173:c.j&=
-33;break;case 174:c.e(x(c),c.d(x(c))&-33);break;case 175:c.a&=-33;break;case 176:c.g&=-65;break;case 177:c.f&=-65;break;case 178:c.k&=-65;break;case 179:c.i&=-65;break;case 180:c.h&=-65;break;case 181:c.j&=-65;break;case 182:c.e(x(c),c.d(x(c))&-65);break;case 183:c.a&=-65;break;case 184:c.g&=-129;break;case 185:c.f&=-129;break;case 186:c.k&=-129;break;case 187:c.i&=-129;break;case 188:c.h&=-129;break;case 189:c.j&=-129;break;case 190:c.e(x(c),c.d(x(c))&-129);break;case 191:c.a&=-129;break;case 192:c.g|=
1;break;case 193:c.f|=1;break;case 194:c.k|=1;break;case 195:c.i|=1;break;case 196:c.h|=1;break;case 197:c.j|=1;break;case 198:c.e(x(c),c.d(x(c))|1);break;case 199:c.a|=1;break;case 200:c.g|=2;break;case 201:c.f|=2;break;case 202:c.k|=2;break;case 203:c.i|=2;break;case 204:c.h|=2;break;case 205:c.j|=2;break;case 206:c.e(x(c),c.d(x(c))|2);break;case 207:c.a|=2;break;case 208:c.g|=4;break;case 209:c.f|=4;break;case 210:c.k|=4;break;case 211:c.i|=4;break;case 212:c.h|=4;break;case 213:c.j|=4;break;case 214:c.e(x(c),
c.d(x(c))|4);break;case 215:c.a|=4;break;case 216:c.g|=8;break;case 217:c.f|=8;break;case 218:c.k|=8;break;case 219:c.i|=8;break;case 220:c.h|=8;break;case 221:c.j|=8;break;case 222:c.e(x(c),c.d(x(c))|8);break;case 223:c.a|=8;break;case 224:c.g|=16;break;case 225:c.f|=16;break;case 226:c.k|=16;break;case 227:c.i|=16;break;case 228:c.h|=16;break;case 229:c.j|=16;break;case 230:c.e(x(c),c.d(x(c))|16);break;case 231:c.a|=16;break;case 232:c.g|=32;break;case 233:c.f|=32;break;case 234:c.k|=32;break;case 235:c.i|=
32;break;case 236:c.h|=32;break;case 237:c.j|=32;break;case 238:c.e(x(c),c.d(x(c))|32);break;case 239:c.a|=32;break;case 240:c.g|=64;break;case 241:c.f|=64;break;case 242:c.k|=64;break;case 243:c.i|=64;break;case 244:c.h|=64;break;case 245:c.j|=64;break;case 246:c.e(x(c),c.d(x(c))|64);break;case 247:c.a|=64;break;case 248:c.g|=128;break;case 249:c.f|=128;break;case 250:c.k|=128;break;case 251:c.i|=128;break;case 252:c.h|=128;break;case 253:c.j|=128;break;case 254:c.e(x(c),c.d(x(c))|128);break;case 255:c.a|=
128}break;case 204:a.call(0!=(a.b&64));break;case 205:Hb(a,a.c+2);a.c=a.p(a.c);break;case 206:C(a,a.d(a.c++));break;case 207:Hb(a,a.c);a.c=8;break;case 208:sb(a,0==(a.b&1));break;case 209:var Ub=a,Vb=a.p(a.m);Ub.k=Vb>>8;Ub.i=Vb&255;a.m+=2;break;case 210:Fb(a,0==(a.b&1));break;case 211:U(a.u,a.d(a.c++),a.a);break;case 212:a.call(0==(a.b&1));break;case 213:Gb(a,a.k,a.i);break;case 214:G(a,a.d(a.c++));break;case 215:Hb(a,a.c);a.c=16;break;case 216:sb(a,0!=(a.b&1));break;case 217:var ra=a,mb=ra.g;ra.g=
ra.ka;ra.ka=mb;mb=ra.f;ra.f=ra.la;ra.la=mb;var sa=a,nb=sa.k;sa.k=sa.ma;sa.ma=nb;nb=sa.i;sa.i=sa.na;sa.na=nb;var ta=a,ob=ta.h;ta.h=ta.pa;ta.pa=ob;ob=ta.j;ta.j=ta.qa;ta.qa=ob;break;case 218:Fb(a,0!=(a.b&1));break;case 219:a.a=Jb(a.u,a.d(a.c++));break;case 220:a.call(0!=(a.b&1));break;case 221:var f=a,Wb=a.d(a.c++),La=0,pb=0;f.n-=Kb[Wb];switch(Wb){case 9:Lb(f,Ca(f,Y(f),q(f)));break;case 25:Lb(f,Ca(f,Y(f),Ua(f)));break;case 33:Lb(f,f.p(f.c));f.c+=2;break;case 34:La=f.p(f.c);f.e(La++,f.q);f.e(La,f.s);
f.c+=2;break;case 35:f.q=f.q+1&255;0==f.q&&(f.s=f.s+1&255);break;case 36:f.s=v(f,f.s);break;case 37:f.s=w(f,f.s);break;case 38:f.s=f.d(f.c++);break;case 41:Lb(f,Ca(f,Y(f),Y(f)));break;case 42:La=f.p(f.c);f.q=f.d(La);f.s=f.d(++La);f.c+=2;break;case 43:f.q=f.q-1&255;255==f.q&&(f.s=f.s-1&255);break;case 44:f.q=v(f,f.q);break;case 45:f.q=w(f,f.q);break;case 46:f.q=f.d(f.c++);break;case 52:kb(f,Y(f)+y(f));f.c++;break;case 53:lb(f,Y(f)+y(f));f.c++;break;case 54:f.e(Y(f)+y(f),f.d(++f.c));f.c++;break;case 57:Lb(f,
Ca(f,Y(f),f.m));break;case 68:f.g=f.s;break;case 69:f.g=f.q;break;case 70:f.g=f.d(Y(f)+y(f));f.c++;break;case 76:f.f=f.s;break;case 77:f.f=f.q;break;case 78:f.f=f.d(Y(f)+y(f));f.c++;break;case 84:f.k=f.s;break;case 85:f.k=f.q;break;case 86:f.k=f.d(Y(f)+y(f));f.c++;break;case 92:f.i=f.s;break;case 93:f.i=f.q;break;case 94:f.i=f.d(Y(f)+y(f));f.c++;break;case 96:f.s=f.g;break;case 97:f.s=f.f;break;case 98:f.s=f.k;break;case 99:f.s=f.i;break;case 100:break;case 101:f.s=f.q;break;case 102:f.h=f.d(Y(f)+
y(f));f.c++;break;case 103:f.s=f.a;break;case 104:f.q=f.g;break;case 105:f.q=f.f;break;case 106:f.q=f.k;break;case 107:f.q=f.i;break;case 108:f.q=f.s;break;case 109:break;case 110:f.j=f.d(Y(f)+y(f));f.c++;break;case 111:f.q=f.a;break;case 112:f.e(Y(f)+y(f),f.g);f.c++;break;case 113:f.e(Y(f)+y(f),f.f);f.c++;break;case 114:f.e(Y(f)+y(f),f.k);f.c++;break;case 115:f.e(Y(f)+y(f),f.i);f.c++;break;case 116:f.e(Y(f)+y(f),f.h);f.c++;break;case 117:f.e(Y(f)+y(f),f.j);f.c++;break;case 119:f.e(Y(f)+y(f),f.a);
f.c++;break;case 124:f.a=f.s;break;case 125:f.a=f.q;break;case 126:f.a=f.d(Y(f)+y(f));f.c++;break;case 132:B(f,f.s);break;case 133:B(f,f.q);break;case 134:B(f,f.d(Y(f)+y(f)));f.c++;break;case 140:C(f,f.s);break;case 141:C(f,f.q);break;case 142:C(f,f.d(Y(f)+y(f)));f.c++;break;case 148:G(f,f.s);break;case 149:G(f,f.q);break;case 150:G(f,f.d(Y(f)+y(f)));f.c++;break;case 156:H(f,f.s);break;case 157:H(f,f.q);break;case 158:H(f,f.d(Y(f)+y(f)));f.c++;break;case 164:f.b=f.l[f.a&=f.s]|16;break;case 165:f.b=
f.l[f.a&=f.q]|16;break;case 166:f.b=f.l[f.a&=f.d(Y(f)+y(f))]|16;f.c++;break;case 172:f.b=f.l[f.a^=f.s];break;case 173:f.b=f.l[f.a^=f.q];break;case 174:f.b=f.l[f.a^=f.d(Y(f)+y(f))];f.c++;break;case 180:f.b=f.l[f.a|=f.s];break;case 181:f.b=f.l[f.a|=f.q];break;case 182:f.b=f.l[f.a|=f.d(Y(f)+y(f))];f.c++;break;case 188:I(f,f.s);break;case 189:I(f,f.q);break;case 190:I(f,f.d(Y(f)+y(f)));f.c++;break;case 203:Pb(f,Y(f));break;case 225:Lb(f,f.p(f.m));f.m+=2;break;case 227:pb=Y(f);Lb(f,f.p(f.m));f.e(f.m,pb&
255);f.e(f.m+1,pb>>8);break;case 229:Gb(f,f.s,f.q);break;case 233:f.c=Y(f);break;case 249:f.m=Y(f);break;default:f.c--}break;case 222:H(a,a.d(a.c++));break;case 223:Hb(a,a.c);a.c=24;break;case 224:sb(a,0==(a.b&4));break;case 225:Ba(a,a.p(a.m));a.m+=2;break;case 226:Fb(a,0==(a.b&4));break;case 227:l=a.h;a.h=a.d(a.m+1);a.e(a.m+1,l);l=a.j;a.j=a.d(a.m);a.e(a.m,l);break;case 228:a.call(0==(a.b&4));break;case 229:Gb(a,a.h,a.j);break;case 230:a.b=a.l[a.a&=a.d(a.c++)]|16;break;case 231:Hb(a,a.c);a.c=32;break;
case 232:sb(a,0!=(a.b&4));break;case 233:a.c=x(a);break;case 234:Fb(a,0!=(a.b&4));break;case 235:l=a.k;a.k=a.h;a.h=l;l=a.i;a.i=a.j;a.j=l;break;case 236:a.call(0!=(a.b&4));break;case 237:var d=a,Zb=y(a),r=0,F=0;d.n-=Xb[Zb];switch(Zb){case 64:d.g=Jb(d.u,d.f);d.b=d.b&1|d.l[d.g];d.c++;break;case 65:U(d.u,d.f,d.g);d.c++;break;case 66:Yb(d,q(d));d.c++;break;case 67:F=d.p(d.c+1);d.e(F++,d.f);d.e(F,d.g);d.c+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:r=d.a;d.a=0;G(d,r);d.c++;
break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:d.c=d.p(d.m);d.m+=2;d.D=d.F;break;case 70:case 78:case 102:case 110:d.M=0;d.c++;break;case 71:d.T=d.a;d.c++;break;case 72:d.f=Jb(d.u,d.f);d.b=d.b&1|d.l[d.f];d.c++;break;case 73:U(d.u,d.f,d.f);d.c++;break;case 74:yc(d,q(d));d.c++;break;case 75:var $b=d,ac=d.p(d.p(d.c+1));$b.g=ac>>8;$b.f=ac&255;d.c+=3;break;case 79:d.c++;break;case 80:d.k=Jb(d.u,d.f);d.b=d.b&1|d.l[d.k];d.c++;break;case 81:U(d.u,d.f,d.k);d.c++;break;case 82:Yb(d,
Ua(d));d.c++;break;case 83:F=d.p(d.c+1);d.e(F++,d.i);d.e(F,d.k);d.c+=3;break;case 86:case 118:d.M=1;d.c++;break;case 87:d.a=d.T;d.b=d.b&1|d.ia[d.a]|(d.F?4:0);d.c++;break;case 88:d.i=Jb(d.u,d.f);d.b=d.b&1|d.l[d.i];d.c++;break;case 89:U(d.u,d.f,d.i);d.c++;break;case 90:yc(d,Ua(d));d.c++;break;case 91:var bc=d,cc=d.p(d.p(d.c+1));bc.k=cc>>8;bc.i=cc&255;d.c+=3;break;case 95:d.a=Math.round(255*Math.random());d.b=d.b&1|d.ia[d.a]|(d.F?4:0);d.c++;break;case 96:d.h=Jb(d.u,d.f);d.b=d.b&1|d.l[d.h];d.c++;break;
case 97:U(d.u,d.f,d.h);d.c++;break;case 98:Yb(d,x(d));d.c++;break;case 99:F=d.p(d.c+1);d.e(F++,d.j);d.e(F,d.h);d.c+=3;break;case 103:F=x(d);r=d.d(F);d.e(F,r>>4|(d.a&15)<<4);d.a=d.a&240|r&15;d.b=d.b&1|d.l[d.a];d.c++;break;case 104:d.j=Jb(d.u,d.f);d.b=d.b&1|d.l[d.j];d.c++;break;case 105:U(d.u,d.f,d.j);d.c++;break;case 106:yc(d,x(d));d.c++;break;case 107:Ba(d,d.p(d.p(d.c+1)));d.c+=3;break;case 111:F=x(d);r=d.d(F);d.e(F,(r&15)<<4|d.a&15);d.a=d.a&240|r>>4;d.b=d.b&1|d.l[d.a];d.c++;break;case 113:U(d.u,
d.f,0);d.c++;break;case 114:Yb(d,d.m);d.c++;break;case 115:F=d.p(d.c+1);d.e(F++,d.m&255);d.e(F,d.m>>8);d.c+=3;break;case 120:d.a=Jb(d.u,d.f);d.b=d.b&1|d.l[d.a];d.c++;break;case 121:U(d.u,d.f,d.a);d.c++;break;case 122:yc(d,d.m);d.c++;break;case 123:d.m=d.p(d.p(d.c+1));d.c+=3;break;case 160:d.e(Ua(d),d.d(x(d)));Ya(d);ib(d);Ka(d);d.b=d.b&193|(0!=q(d)?4:0);d.c++;break;case 161:r=d.b&1|2;I(d,d.d(x(d)));ib(d);Ka(d);r|=0==q(d)?0:4;d.b=d.b&248|r;d.c++;break;case 162:r=Jb(d.u,d.f);d.e(x(d),r);d.g=w(d,d.g);
ib(d);d.b=128==(r&128)?d.b|2:d.b&-3;d.c++;break;case 163:r=d.d(x(d));U(d.u,d.f,r);ib(d);d.g=w(d,d.g);255<d.j+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(r&128)?d.b|2:d.b&-3;d.c++;break;case 168:d.e(Ua(d),d.d(x(d)));ab(d);jb(d);Ka(d);d.b=d.b&193|(0!=q(d)?4:0);d.c++;break;case 169:r=d.b&1|2;I(d,d.d(x(d)));jb(d);Ka(d);r|=0==q(d)?0:4;d.b=d.b&248|r;d.c++;break;case 170:r=Jb(d.u,d.f);d.e(x(d),r);d.g=w(d,d.g);jb(d);d.b=0!=(r&128)?d.b|2:d.b&-3;d.c++;break;case 171:r=d.d(x(d));U(d.u,d.f,r);jb(d);d.g=w(d,
d.g);255<d.j+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(r&128)?d.b|2:d.b&-3;d.c++;break;case 176:d.e(Ua(d),d.d(x(d)));Ya(d);ib(d);Ka(d);0!=q(d)?(d.b|=4,d.n-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 177:r=d.b&1|2;I(d,d.d(x(d)));ib(d);Ka(d);r|=0==q(d)?0:4;0!=(r&4)&&0==(d.b&64)?(d.n-=5,d.c--):d.c++;d.b=d.b&248|r;break;case 178:r=Jb(d.u,d.f);d.e(x(d),r);d.g=w(d,d.g);ib(d);0!=d.g?(d.n-=5,d.c--):d.c++;d.b=128==(r&128)?d.b|2:d.b&-3;break;case 179:r=d.d(x(d));U(d.u,d.f,r);d.g=w(d,d.g);ib(d);
0!=d.g?(d.n-=5,d.c--):d.c++;255<d.j+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=0!=(r&128)?d.b|2:d.b&-3;break;case 184:d.e(Ua(d),d.d(x(d)));ab(d);jb(d);Ka(d);0!=q(d)?(d.b|=4,d.n-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 185:r=d.b&1|2;I(d,d.d(x(d)));jb(d);Ka(d);r|=0==q(d)?0:4;0!=(r&4)&&0==(d.b&64)?(d.n-=5,d.c--):d.c++;d.b=d.b&248|r;break;case 186:r=Jb(d.u,d.f);d.e(x(d),r);d.g=w(d,d.g);jb(d);0!=d.g?(d.n-=5,d.c--):d.c++;d.b=0!=(r&128)?d.b|2:d.b&-3;break;case 187:r=d.d(x(d));U(d.u,d.f,r);d.g=
w(d,d.g);jb(d);0!=d.g?(d.n-=5,d.c--):d.c++;255<d.j+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=0!=(r&128)?d.b|2:d.b&-3;break;default:d.c++}break;case 238:a.b=a.l[a.a^=a.d(a.c++)];break;case 239:Hb(a,a.c);a.c=40;break;case 240:sb(a,0==(a.b&128));break;case 241:a.b=a.d(a.m++);a.a=a.d(a.m++);break;case 242:Fb(a,0==(a.b&128));break;case 243:a.D=a.F=n;break;case 244:a.call(0==(a.b&128));break;case 245:Gb(a,a.a,a.b);break;case 246:a.b=a.l[a.a|=a.d(a.c++)];break;case 247:Hb(a,a.c);a.c=48;break;case 248:sb(a,
0!=(a.b&128));break;case 249:a.m=x(a);break;case 250:Fb(a,0!=(a.b&128));break;case 251:a.D=a.F=h;break;case 252:a.call(0!=(a.b&128));break;case 253:var g=a,dc=a.d(a.c++),Ma=aa,qb=aa;g.n-=Kb[dc];switch(dc){case 9:zc(g,Ca(g,Z(g),q(g)));break;case 25:zc(g,Ca(g,Z(g),Ua(g)));break;case 33:zc(g,g.p(g.c));g.c+=2;break;case 34:Ma=g.p(g.c);g.e(Ma++,g.r);g.e(Ma,g.t);g.c+=2;break;case 35:g.r=g.r+1&255;0==g.r&&(g.t=g.t+1&255);break;case 36:g.t=v(g,g.t);break;case 37:g.t=w(g,g.t);break;case 38:g.t=g.d(g.c++);
break;case 41:zc(g,Ca(g,Z(g),Z(g)));break;case 42:Ma=g.p(g.c);g.r=g.d(Ma);g.t=g.d(++Ma);g.c+=2;break;case 43:g.r=g.r-1&255;255==g.r&&(g.t=g.t-1&255);break;case 44:g.r=v(g,g.r);break;case 45:g.r=w(g,g.r);break;case 46:g.r=g.d(g.c++);break;case 52:kb(g,Z(g)+y(g));g.c++;break;case 53:lb(g,Z(g)+y(g));g.c++;break;case 54:g.e(Z(g)+y(g),g.d(++g.c));g.c++;break;case 57:zc(g,Ca(g,Z(g),g.m));break;case 68:g.g=g.t;break;case 69:g.g=g.r;break;case 70:g.g=g.d(Z(g)+y(g));g.c++;break;case 76:g.f=g.t;break;case 77:g.f=
g.r;break;case 78:g.f=g.d(Z(g)+y(g));g.c++;break;case 84:g.k=g.t;break;case 85:g.k=g.r;break;case 86:g.k=g.d(Z(g)+y(g));g.c++;break;case 92:g.i=g.t;break;case 93:g.i=g.r;break;case 94:g.i=g.d(Z(g)+y(g));g.c++;break;case 96:g.t=g.g;break;case 97:g.t=g.f;break;case 98:g.t=g.k;break;case 99:g.t=g.i;break;case 100:break;case 101:g.t=g.r;break;case 102:g.h=g.d(Z(g)+y(g));g.c++;break;case 103:g.t=g.a;break;case 104:g.r=g.g;break;case 105:g.r=g.f;break;case 106:g.r=g.k;break;case 107:g.r=g.i;break;case 108:g.r=
g.t;break;case 109:break;case 110:g.j=g.d(Z(g)+y(g));g.c++;break;case 111:g.r=g.a;break;case 112:g.e(Z(g)+y(g),g.g);g.c++;break;case 113:g.e(Z(g)+y(g),g.f);g.c++;break;case 114:g.e(Z(g)+y(g),g.k);g.c++;break;case 115:g.e(Z(g)+y(g),g.i);g.c++;break;case 116:g.e(Z(g)+y(g),g.h);g.c++;break;case 117:g.e(Z(g)+y(g),g.j);g.c++;break;case 119:g.e(Z(g)+y(g),g.a);g.c++;break;case 124:g.a=g.t;break;case 125:g.a=g.r;break;case 126:g.a=g.d(Z(g)+y(g));g.c++;break;case 132:B(g,g.t);break;case 133:B(g,g.r);break;
case 134:B(g,g.d(Z(g)+y(g)));g.c++;break;case 140:C(g,g.t);break;case 141:C(g,g.r);break;case 142:C(g,g.d(Z(g)+y(g)));g.c++;break;case 148:G(g,g.t);break;case 149:G(g,g.r);break;case 150:G(g,g.d(Z(g)+y(g)));g.c++;break;case 156:H(g,g.t);break;case 157:H(g,g.r);break;case 158:H(g,g.d(Z(g)+y(g)));g.c++;break;case 164:g.b=g.l[g.a&=g.t]|16;break;case 165:g.b=g.l[g.a&=g.r]|16;break;case 166:g.b=g.l[g.a&=g.d(Z(g)+y(g))]|16;g.c++;break;case 172:g.b=g.l[g.a^=g.t];break;case 173:g.b=g.l[g.a^=g.r];break;case 174:g.b=
g.l[g.a^=g.d(Z(g)+y(g))];g.c++;break;case 180:g.b=g.l[g.a|=g.t];break;case 181:g.b=g.l[g.a|=g.r];break;case 182:g.b=g.l[g.a|=g.d(Z(g)+y(g))];g.c++;break;case 188:I(g,g.t);break;case 189:I(g,g.r);break;case 190:I(g,g.d(Z(g)+y(g)));g.c++;break;case 203:Pb(g,Z(g));break;case 225:zc(g,g.p(g.m));g.m+=2;break;case 227:qb=Z(g);zc(g,g.p(g.m));g.e(g.m,qb&255);g.e(g.m+1,qb>>8);break;case 229:Gb(g,g.t,g.r);break;case 233:g.c=Z(g);break;case 249:g.m=Z(g);break;default:g.c--}break;case 254:I(a,a.d(a.c++));break;
case 255:Hb(a,a.c),a.c=56}var bb;if(bb=0>=b.n){var D=b;if(D.o.va){var Da=D.o,ec=D.Q;0==ec&&(Da.ea=0);for(var fc=Da.ba[ec],p=Da.c,Fc=Da.ea,gc=[],rb=0,A=0;rb<fc;rb++){for(A=0;3>A;A++)p.l[A]=p.g[A]!=qa?Ac[p.b[(A<<1)+1]]*p.g[A]>>8:Ac[p.b[(A<<1)+1]]*p.d[A];p.l[3]=Ac[p.b[7]]*(p.f&1)<<1;var Va=p.l[0]+p.l[1]+p.l[2]+p.l[3];127<Va?Va=127:-128>Va&&(Va=-128);gc[Fc+rb]=Va;p.e+=p.m;var Ea=p.e>>8,tb=Ea<<8;p.e-=tb;p.a[0]-=Ea;p.a[1]-=Ea;p.a[2]-=Ea;p.a[3]=128==p.h?p.a[2]:p.a[3]-Ea;for(A=0;3>A;A++){var hc=p.a[A];if(0>=
hc){var ub=p.b[A<<1];6<ub?(p.g[A]=(tb-p.e+512*hc<<8)*p.d[A]/(tb+p.e),p.d[A]=-p.d[A]):(p.d[A]=1,p.g[A]=qa);p.a[A]+=ub*(Ea/ub+1)}else p.g[A]=qa}if(0>=p.a[3]&&(p.d[3]=-p.d[3],128!=p.h&&(p.a[3]+=p.h*(Ea/p.h+1)),1==p.d[3])){var ic=0,ic=0!=(p.b[6]&4)?0!=(p.f&9)&&0!=(p.f&9^9)?1:0:p.f&1;p.f=p.f>>1|ic<<15}}Da.da=gc;Da.ea+=fc}D.B.p=D.Q;if(192>D.Q){var k=D.B,V=D.Q,Na=0,cb=0,db=0;if(!k.o.V||!(24>V||168<=V))if(0!=(k.c[1]&64)){if(-1!=k.n){for(var Oa=k.r;Oa<=k.n;Oa++)if(k.u[Oa]){k.u[Oa]=n;for(var Gc=k.D[Oa],Hc=
0,eb=Oa<<5,jc=0;8>jc;jc++)for(var Ic=k.d[eb++],Jc=k.d[eb++],Kc=k.d[eb++],Lc=k.d[eb++],Fa=128;0!=Fa;Fa>>=1){var la=0;0!=(Ic&Fa)&&(la|=1);0!=(Jc&Fa)&&(la|=2);0!=(Kc&Fa)&&(la|=4);0!=(Lc&Fa)&&(la|=8);Gc[Hc++]=la}}k.r=512;k.n=-1}var ua=0,Pa=0,va=0,wa=0,vb=k.c[8],kc=k.c[9];16>V&&0!=(k.c[0]&64)&&(vb=0);var Mc=k.c[0]&128,lc=32-(vb>>3)+k.z,Wa=V+kc>>3;27<Wa&&(Wa-=28);for(var wb=(V+(kc&7)&7)<<3,mc=V<<8,fb=k.z;fb<k.G;fb++){var nc=k.F+((lc&31)<<1)+(Wa<<6),Qa=k.d[nc+1],oc=(Qa&8)<<1,xa=(fb<<3)+(vb&7),pc=0==(Qa&
4)?wb:56-wb,qc=k.D[(k.d[nc]&255)+((Qa&1)<<8)];if(0==(Qa&2))for(ua=0;8>ua&&256>xa;ua++,xa++)Pa=qc[ua+pc],va=4*(xa+mc),wa=3*(Pa+oc),k.s[xa]=0!=(Qa&16)&&0!=Pa,k.b[va]=k.a[wa],k.b[va+1]=k.a[wa+1],k.b[va+2]=k.a[wa+2];else for(ua=7;0<=ua&&256>xa;ua--,xa++)Pa=qc[ua+pc],va=4*(xa+mc),wa=3*(Pa+oc),k.s[xa]=0!=(Qa&16)&&0!=Pa,k.b[va]=k.a[wa],k.b[va+1]=k.a[wa+1],k.b[va+2]=k.a[wa+2];lc++;0!=Mc&&23==fb&&(Wa=V>>3,wb=(V&7)<<3)}if(k.h){k.h=n;for(var xb=0;xb<k.q.length;xb++)k.q[xb][0]=0;var yb=0==(k.c[1]&2)?8:16;1==
(k.c[1]&1)&&(yb<<=1);for(var gb=0;64>gb;gb++){var ya=k.d[k.g+gb]&255;if(208==ya)break;ya++;240<ya&&(ya-=256);for(var hb=ya;192>hb;hb++)if(hb-ya<yb){var Ga=k.q[hb];if(!Ga||8<=Ga[0])break;var zb=3*Ga[0]+1,rc=k.g+(gb<<1)+128;Ga[zb++]=k.d[rc++]&255;Ga[zb++]=ya;Ga[zb++]=k.d[rc]&255;Ga[0]++}}}if(0!=k.q[V][0]){for(var za=0,da=0,ea=0,sc=0,Xa=k.q[V],tc=Math.min(8,Xa[0]),uc=k.c[1]&1,Ab=V<<8,Bb=3*tc;sc<tc;sc++){var Cb=Xa[Bb--]|(k.c[6]&4)<<6,Nc=Xa[Bb--],W=Xa[Bb--]-(k.c[0]&8),vc=V-Nc>>uc;0!=(k.c[1]&2)&&(Cb&=-2);
var wc=k.D[Cb+((vc&8)>>3)],Ra=0;0>W&&(Ra=-W,W=0);var xc=Ra+((vc&7)<<3);if(0==uc)for(;8>Ra&&256>W;Ra++,W++)za=wc[xc++],0!=za&&!k.s[W]&&(da=4*(W+Ab),ea=3*(za+16),k.b[da]=k.a[ea],k.b[da+1]=k.a[ea+1],k.b[da+2]=k.a[ea+2]);else for(;8>Ra&&256>W;Ra++,W+=2)za=wc[xc++],0!=za&&!k.s[W]&&(da=4*(W+Ab),ea=3*(za+16),k.b[da]=k.a[ea],k.b[da+1]=k.a[ea+1],k.b[da+2]=k.a[ea+2]),0!=za&&!k.s[W+1]&&(da=4*(W+Ab+1),ea=3*(za+16),k.b[da]=k.a[ea],k.b[da+1]=k.a[ea+1],k.b[da+2]=k.a[ea+2])}8<=Xa[0]&&(k.e|=64)}if(k.o.P&&0!=(k.c[0]&
32)){cb=4*(V<<8);db=3*((k.c[7]&15)+16);for(Na=0;8>Na;Na++)k.b[cb+Na]=k.a[db],k.b[cb+Na+1]=k.a[db+1],k.b[cb+Na+2]=k.a[db+2]}}else for(var ma=V<<8,Oc=4*(ma+1024),Db=3*((k.c[7]&15)+16),ma=4*ma;ma<Oc;ma+=4)k.b[ma]=k.a[Db],k.b[ma+1]=k.a[Db+1],k.b[ma+2]=k.a[Db+2]}var P=D.B,Eb=D.Q;192>=Eb?(192==Eb&&(P.e|=128),0==P.t?(P.t=P.c[10],P.e|=4):P.t--,0!=(P.e&4)&&0!=(P.c[0]&16)&&(P.o.b.G=h)):(P.t=P.c[10],0!=(P.e&128)&&(0!=(P.c[1]&32)&&224>Eb)&&(P.o.b.G=h));if(D.G){var z=D;z.D&&(z.L&&(z.c++,z.L=n),z.D=z.F=n,z.G=n,
Hb(z,z.c),0==z.M?(z.c=0==z.N||255==z.N?56:z.N,z.n-=13):1==z.M?(z.c=56,z.n-=13):(z.c=z.p((z.T<<8)+z.N),z.n-=19))}D.Q++;if(D.Q>=D.o.R){var X=D;X.o.Y&&(X.F=X.D,X.D=n,X.L&&(X.c++,X.L=n),Hb(X,X.c),X.c=102,X.n-=11,X.o.Y=n);X.o.a.Aa();bb=h}else D.n+=D.o.ta,bb=n}if(bb)break}this.a.requestAnimationFrame(this.wa.bind(this),this.a.screen)}},ua:function(b,a){0!=a%1024&&(b=b.substr(512),a-=512);var e,l,s=Math.round(a/16384),u=Array(s);for(e=0;e<s;e++){u[e]=new DataView(new ArrayBuffer(16384));for(l=0;16384>l;l++)u[e].setUint8(l,
b.charCodeAt(16384*e+l))}return u}};function Dc(b,a){var e=n;a==aa&&(a=document);b.some(function(b){return b in a?(e=b,h):n});return e};var Aa=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Ib=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Kb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Ec=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Xb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function pa(b){this.o=b;this.B=b.B;this.u=b.d;this.M=this.m=this.c=0;this.G=this.L=this.F=this.D=n;this.n=this.oa=this.b=this.T=this.t=this.r=this.s=this.q=this.qa=this.pa=this.j=this.h=this.na=this.ma=this.i=this.k=this.la=this.ka=this.f=this.g=this.ja=this.a=this.N=0;this.H=[];this.ca=new DataView(new ArrayBuffer(32768));this.A=Array(4);this.O=this.Z=0;this.W=new DataView(new ArrayBuffer(8192));this.xa=Array(2048);this.ia=Array(256);this.l=Array(256);this.J=Array(256);this.I=Array(256);this.z=Array(131072);
this.w=Array(131072);this.S=Array(256);var a,e,l,s,u,m;for(b=0;256>b;b++)a=0!=(b&128)?128:0,e=0==b?64:0,l=b&32,s=b&8,u=Pc(b)?4:0,this.ia[b]=a|e|l|s,this.l[b]=a|e|l|s|u,this.J[b]=a|e|l|s,this.J[b]|=128==b?4:0,this.J[b]|=0==(b&15)?16:0,this.I[b]=a|e|l|s|2,this.I[b]|=127==b?4:0,this.I[b]|=15==(b&15)?16:0,this.S[b]=0!=b?b&128:68,this.S[b]|=l|s|16;b=0;a=65536;e=0;l=65536;for(u=0;256>u;u++)for(m=0;256>m;m++)s=m-u,this.z[b]=0!=m?0!=(m&128)?128:0:64,this.z[b]|=m&40,(m&15)<(u&15)&&(this.z[b]|=16),m<u&&(this.z[b]|=
1),0!=((s^u^128)&(s^m)&128)&&(this.z[b]|=4),b++,s=m-u-1,this.z[a]=0!=m?0!=(m&128)?128:0:64,this.z[a]|=m&40,(m&15)<=(u&15)&&(this.z[a]|=16),m<=u&&(this.z[a]|=1),0!=((s^u^128)&(s^m)&128)&&(this.z[a]|=4),a++,s=u-m,this.w[e]=0!=m?0!=(m&128)?130:2:66,this.w[e]|=m&40,(m&15)>(u&15)&&(this.w[e]|=16),m>u&&(this.w[e]|=1),0!=((s^u)&(u^m)&128)&&(this.w[e]|=4),e++,s=u-m-1,this.w[l]=0!=m?0!=(m&128)?130:2:66,this.w[l]|=m&40,(m&15)>=(u&15)&&(this.w[l]|=16),m>=u&&(this.w[l]|=1),0!=((s^u)&(u^m)&128)&&(this.w[l]|=4),
l++;for(b=256;b--;)for(a=0;1>=a;a++)for(e=0;1>=e;e++)for(l=0;1>=l;l++){s=this.xa;u=a<<8|l<<9|e<<10|b;m=a|l<<1|e<<4;this.a=b;this.b=m;var t=this.a,E=0,ha=m&1,R=ha;if(0!=(m&16)||9<(t&15))E|=6;if(1==ha||159<t||143<t&&9<(t&15))E|=96,R=1;153<t&&(R=1);0!=(m&2)?G(this,E):B(this,E);m=this.b&254|R;m=Pc(this.a)?m&251|4:m&251;s[u]=this.a|m<<8}for(b=this.a=this.b=0;8192>b;b++)this.W.setUint8(b,0);for(b=0;32768>b;b++)this.ca.setUint8(b,0);this.O=2;for(b=0;4>b;b++)this.A[b]=b%3}
pa.prototype={reset:function(){this.c=this.oa=this.b=this.T=this.r=this.t=this.q=this.s=this.h=this.j=this.pa=this.qa=this.k=this.i=this.ma=this.na=this.g=this.f=this.ka=this.la=this.a=this.ja=0;this.m=57328;this.M=this.n=0;this.F=this.D=n;this.N=0;this.L=n},call:function(b){b?(Hb(this,this.c+2),this.c=this.p(this.c),this.n-=7):this.c+=2},e:function(b,a){65535>=b&&(this.W.setInt8(b&8191,a),65532==b?this.A[3]=a:65533==b?this.A[0]=a&this.Z:65534==b?this.A[1]=a&this.Z:65535==b&&(this.A[2]=a&this.Z))},
d:function(b){return 1024>b?this.H[0].getUint8(b):16384>b?this.H[this.A[0]].getUint8(b):32768>b?this.H[this.A[1]].getUint8(b-16384):49152>b?8==(this.A[3]&12)?this.ca.getUint8(b-32768):12==(this.A[3]&12)?this.ca.getUint8(b-16384):this.H[this.A[2]].getUint8(b-32768):57344>b?this.W.getUint8(b-49152):65532>b?this.W.getUint8(b-57344):65532==b?this.A[3]:65533==b?this.A[0]:65534==b?this.A[1]:65535==b?this.A[2]:0},p:function(b){return 1024>b?this.H[0].getUint16(b,h):16384>b?this.H[this.A[0]].getUint16(b,
h):32768>b?this.H[this.A[1]].getUint16(b-16384,h):49152>b?8==(this.A[3]&12)?this.ca[b-32768]:12==(this.A[3]&12)?this.ca[b-16384]:this.H[this.A[2]].getUint16(b-32768,h):57344>b?this.W.getUint16(b-49152,h):65532>b?this.W.getUint16(b-57344,h):65532==b?this.A[3]:65533==b?this.A[0]:65534==b?this.A[1]:65535==b?this.A[2]:0}};function y(b){return b.d(b.c)}function Pc(b){var a=h,e;for(e=0;8>e;e++)0!=(b&1<<e)&&(a=!a);return a}
function Yb(b,a){var e=x(b),l=e-a-(b.b&1);b.b=(e^l^a)>>8&16|2|l>>16&1|l>>8&128|(0!=(l&65535)?0:64)|((a^e)&(e^l)&32768)>>13;b.h=l>>8&255;b.j=l&255}function yc(b,a){var e=x(b),l=e+a+(b.b&1);b.b=(e^l^a)>>8&16|l>>16&1|l>>8&128|(0!=(l&65535)?0:64)|((a^e^32768)&(a^l)&32768)>>13;b.h=l>>8&255;b.j=l&255}function Ca(b,a,e){var l=a+e;b.b=b.b&196|(a^l^e)>>8&16|l>>16&1;return l&65535}function w(b,a){a=a-1&255;b.b=b.b&1|b.I[a];return a}function v(b,a){a=a+1&255;b.b=b.b&1|b.J[a];return a}
function jb(b){b.j=b.j-1&255;255==b.j&&(b.h=b.h-1&255)}function ab(b){b.i=b.i-1&255;255==b.i&&(b.k=b.k-1&255)}function Ka(b){b.f=b.f-1&255;255==b.f&&(b.g=b.g-1&255)}function ib(b){b.j=b.j+1&255;0==b.j&&(b.h=b.h+1&255)}function Ya(b){b.i=b.i+1&255;0==b.i&&(b.k=b.k+1&255)}function zc(b,a){b.t=a>>8;b.r=a&255}function Lb(b,a){b.s=a>>8;b.q=a&255}function Ba(b,a){b.h=a>>8;b.j=a&255}function Z(b){return b.t<<8|b.r}function Y(b){return b.s<<8|b.q}function x(b){return b.h<<8|b.j}
function Ua(b){return b.k<<8|b.i}function q(b){return b.g<<8|b.f}function I(b,a){b.b=b.w[b.a<<8|b.a-a&255]}function H(b,a){var e=b.b&1,l=b.a-a-e&255;b.b=b.w[e<<16|b.a<<8|l];b.a=l}function G(b,a){var e=b.a-a&255;b.b=b.w[b.a<<8|e];b.a=e}function C(b,a){var e=b.b&1,l=b.a+a+e&255;b.b=b.z[e<<16|b.a<<8|l];b.a=l}function B(b,a){var e=b.a+a&255;b.b=b.z[b.a<<8|e];b.a=e}
function Pb(b,a){var e=a+y(b)&65535,l=b.d(++b.c);b.n-=Ec[l];switch(l){case 0:b.g=J(b,b.d(e));b.e(e,b.g);break;case 1:b.f=J(b,b.d(e));b.e(e,b.f);break;case 2:b.k=J(b,b.d(e));b.e(e,b.k);break;case 3:b.i=J(b,b.d(e));b.e(e,b.i);break;case 4:b.h=J(b,b.d(e));b.e(e,b.h);break;case 5:b.j=J(b,b.d(e));b.e(e,b.j);break;case 6:b.e(e,J(b,b.d(e)));break;case 7:b.a=J(b,b.d(e));b.e(e,b.a);break;case 8:b.g=K(b,b.d(e));b.e(e,b.g);break;case 9:b.f=K(b,b.d(e));b.e(e,b.f);break;case 10:b.k=K(b,b.d(e));b.e(e,b.k);break;
case 11:b.i=K(b,b.d(e));b.e(e,b.i);break;case 12:b.h=K(b,b.d(e));b.e(e,b.h);break;case 13:b.j=K(b,b.d(e));b.e(e,b.j);break;case 14:b.e(e,K(b,b.d(e)));break;case 15:b.a=K(b,b.d(e));b.e(e,b.a);break;case 16:b.g=L(b,b.d(e));b.e(e,b.g);break;case 17:b.f=L(b,b.d(e));b.e(e,b.f);break;case 18:b.k=L(b,b.d(e));b.e(e,b.k);break;case 19:b.i=L(b,b.d(e));b.e(e,b.i);break;case 20:b.h=L(b,b.d(e));b.e(e,b.h);break;case 21:b.j=L(b,b.d(e));b.e(e,b.j);break;case 22:b.e(e,L(b,b.d(e)));break;case 23:b.a=L(b,b.d(e));b.e(e,
b.a);break;case 24:b.g=M(b,b.d(e));b.e(e,b.g);break;case 25:b.f=M(b,b.d(e));b.e(e,b.f);break;case 26:b.k=M(b,b.d(e));b.e(e,b.k);break;case 27:b.i=M(b,b.d(e));b.e(e,b.i);break;case 28:b.h=M(b,b.d(e));b.e(e,b.h);break;case 29:b.j=M(b,b.d(e));b.e(e,b.j);break;case 30:b.e(e,M(b,b.d(e)));break;case 31:b.a=M(b,b.d(e));b.e(e,b.a);break;case 32:b.g=N(b,b.d(e));b.e(e,b.g);break;case 33:b.f=N(b,b.d(e));b.e(e,b.f);break;case 34:b.k=N(b,b.d(e));b.e(e,b.k);break;case 35:b.i=N(b,b.d(e));b.e(e,b.i);break;case 36:b.h=
N(b,b.d(e));b.e(e,b.h);break;case 37:b.j=N(b,b.d(e));b.e(e,b.j);break;case 38:b.e(e,N(b,b.d(e)));break;case 39:b.a=N(b,b.d(e));b.e(e,b.a);break;case 40:b.g=O(b,b.d(e));b.e(e,b.g);break;case 41:b.f=O(b,b.d(e));b.e(e,b.f);break;case 42:b.k=O(b,b.d(e));b.e(e,b.k);break;case 43:b.i=O(b,b.d(e));b.e(e,b.i);break;case 44:b.h=O(b,b.d(e));b.e(e,b.h);break;case 45:b.j=O(b,b.d(e));b.e(e,b.j);break;case 46:b.e(e,O(b,b.d(e)));break;case 47:b.a=O(b,b.d(e));b.e(e,b.a);break;case 48:b.g=Q(b,b.d(e));b.e(e,b.g);break;
case 49:b.f=Q(b,b.d(e));b.e(e,b.f);break;case 50:b.k=Q(b,b.d(e));b.e(e,b.k);break;case 51:b.i=Q(b,b.d(e));b.e(e,b.i);break;case 52:b.h=Q(b,b.d(e));b.e(e,b.h);break;case 53:b.j=Q(b,b.d(e));b.e(e,b.j);break;case 54:b.e(e,Q(b,b.d(e)));break;case 55:b.a=Q(b,b.d(e));b.e(e,b.a);break;case 56:b.g=S(b,b.d(e));b.e(e,b.g);break;case 57:b.f=S(b,b.d(e));b.e(e,b.f);break;case 58:b.k=S(b,b.d(e));b.e(e,b.k);break;case 59:b.i=S(b,b.d(e));b.e(e,b.i);break;case 60:b.h=S(b,b.d(e));b.e(e,b.h);break;case 61:b.j=S(b,b.d(e));
b.e(e,b.j);break;case 62:b.e(e,S(b,b.d(e)));break;case 63:b.a=S(b,b.d(e));b.e(e,b.a);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:T(b,b.d(e)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:T(b,b.d(e)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:T(b,b.d(e)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:T(b,b.d(e)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:T(b,b.d(e)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:T(b,b.d(e)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:T(b,b.d(e)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:T(b,b.d(e)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:b.e(e,b.d(e)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:b.e(e,b.d(e)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:b.e(e,
b.d(e)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:b.e(e,b.d(e)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:b.e(e,b.d(e)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:b.e(e,b.d(e)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:b.e(e,b.d(e)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:b.e(e,b.d(e)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:b.e(e,
b.d(e)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:b.e(e,b.d(e)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:b.e(e,b.d(e)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:b.e(e,b.d(e)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:b.e(e,b.d(e)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:b.e(e,b.d(e)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:b.e(e,
b.d(e)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:b.e(e,b.d(e)|128)}b.c++}function T(b,a){b.b=b.b&1|b.S[a]}function S(b,a){var e=a&1;a=a>>1&255;b.b=e|b.l[a];return a}function O(b,a){var e=a&1;a=a>>1|a&128;b.b=e|b.l[a];return a}function Q(b,a){var e=(a&128)>>7;a=(a<<1|1)&255;b.b=e|b.l[a];return a}function N(b,a){var e=(a&128)>>7;a=a<<1&255;b.b=e|b.l[a];return a}function M(b,a){var e=a&1;a=(a>>1|b.b<<7)&255;b.b=e|b.l[a];return a}
function L(b,a){var e=(a&128)>>7;a=(a<<1|b.b&1)&255;b.b=e|b.l[a];return a}function K(b,a){var e=a&1;a=(a>>1|a<<7)&255;b.b=e|b.l[a];return a}function J(b,a){var e=(a&128)>>7;a=(a<<1|a>>7)&255;b.b=e|b.l[a];return a}function lb(b,a){b.e(a,w(b,b.d(a)))}function kb(b,a){b.e(a,v(b,b.d(a)))}function Gb(b,a,e){b.e(--b.m,a);b.e(--b.m,e)}function Hb(b,a){b.e(--b.m,a>>8);b.e(--b.m,a&255)}function sb(b,a){a&&(b.c=b.p(b.m),b.m+=2,b.n-=6)}function $a(b){128<=b&&(b-=256);return b}
function Sa(b,a){a?(b.c+=$a(y(b)+1),b.n-=5):b.c++}function Fb(b,a){a?b.c=b.p(b.c):b.c+=2};function ia(b){this.o=b;this.K=this.a=this.v=0}
ia.prototype={reset:function(){this.K=this.a=this.v=255;this.Y=n},keydown:function(b){switch(b.keyCode){case 38:this.v&=-2;break;case 40:this.v&=-3;break;case 37:this.v&=-5;break;case 39:this.v&=-9;break;case 88:this.v&=-17;break;case 90:this.v&=-33;break;case 13:this.o.P?this.o.Y=h:this.K&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}b.preventDefault()},
keyup:function(b){switch(b.keyCode){case 38:this.v|=1;break;case 40:this.v|=2;break;case 37:this.v|=4;break;case 39:this.v|=8;break;case 88:this.v|=16;break;case 90:this.v|=32;break;case 13:this.o.P||(this.K|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}b.preventDefault()}};var qa=Number.MIN_VALUE,Ac=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ka(b){this.o=b;this.e=this.m=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.l=Array(4)}ka.prototype={};function ja(b){this.o=b;var a=0;this.J=0;this.d=Array(16384);this.a=Array(96);for(a=0;96>a;a++)this.a[a]=255;this.c=Array(16);this.e=0;this.m=n;this.t=this.p=this.I=this.w=this.f=this.l=0;this.s=Array(256);this.F=0;this.b=b.a.sa.data;this.T=Array(64);this.S=Array(64);this.O=Array(64);this.N=Array(256);this.M=Array(256);this.L=Array(16);this.g=this.G=this.z=0;this.h=n;this.q=Array(192);for(a=0;192>a;a++)this.q[a]=Array(25);this.D=Array(512);this.u=Array(512);for(b=this.n=this.r=0;512>b;b++)this.D[b]=
Array(64);var e,l;for(b=0;64>b;b++)a=b&3,e=b>>2&3,l=b>>4&3,this.T[b]=85*a&255,this.S[b]=85*e&255,this.O[b]=85*l&255;for(b=0;256>b;b++)e=b&15,l=b>>4&15,this.N[b]=(e<<4|e)&255,this.M[b]=(l<<4|l)&255;for(b=0;16>b;b++)this.L[b]=(b<<4|b)&255}
ja.prototype={reset:function(){var b;this.m=h;for(b=this.w=this.e=this.t=this.f=0;16>b;b++)this.c[b]=0;this.c[2]=14;this.c[5]=126;this.o.b.G=n;this.h=h;this.r=512;this.n=-1;for(b=0;16384>b;b++)this.d[b]=0;for(b=0;196608>b;b+=4)this.b[b]=0,this.b[b+1]=0,this.b[b+2]=0,this.b[b+3]=255}};function fa(b){this.o=b;this.enable=ba();this.updateStatus=ba();this.Aa=ba()}
window.$&&($.fn.JSSMSUI=function(b){function a(a){this.o=a;var s=this;a=$("<div></div>");var u=$('<div id="screen"></div>'),m=$('<div class="gamepad"><div class="direction"><div class="up"></div><div class="right"></div><div class="left"></div><div class="down"></div></div><div class="buttons"><div class="start"></div><div class="fire1"></div><div class="fire2"></div></div></div>'),t=$('<div id="controls"></div>');Dc(["fullscreenEnabled","mozFullScreenEnabled"]);var E=Dc(["requestAnimationFrame",
"mozRequestAnimationFrame"],window),ha;this.requestAnimationFrame=window[E].bind(window);this.screen=$("<canvas width=256 height=192></canvas>");this.ra=this.screen[0].getContext("2d");this.sa=this.ra.getImageData(0,0,256,192);this.ga={Da:{i:$(".up",m),U:1},Ca:{i:$(".right",m),U:8},k:{i:$(".down",m),U:2},j:{i:$(".left",m),U:4},1:{i:$(".fire1",m),U:16},2:{i:$(".fire2",m),U:32}};E=$(".start",m);$("#play").click(function(a){if(!s.o.za)return a.preventDefault(),n;s.o.X?(s.o.stop(),s.updateStatus("Paused"),
$("#play span").removeClass("icon-pause").addClass("icon-play")):(s.o.start(),$("#play span").removeClass("icon-play").addClass("icon-pause"))});var R="",Ha=new FileReader;Ha.onload=function(a){s.ya(a.target.result,R)};$("#romUpload").change(function(){if(0!=document.getElementById("romUpload").files.length){var a=document.getElementById("romUpload").files[0];R=a.name;Ha.readAsBinaryString(a)}});this.aa=$("#romSelector").change(function(){s.ua()});$("#fullscreen").click(function(){var a=u[0];a.requestFullscreen?
a.requestFullscreen():a.mozRequestFullScreen()});this.screen.appendTo(u);m.appendTo(u);u.appendTo(a);t.appendTo(a);a.appendTo($(e));b!=aa&&this.Ba(b);$(document).bind("keydown",function(a){s.o.C.keydown(a)}).bind("keyup",function(a){s.o.C.keyup(a)});for(ha in this.ga)this.ga[ha].i.on("mousedown touchstart",function(a){return function(b){s.o.C.v&=~a;b.preventDefault()}}(this.ga[ha].U)).on("mouseup touchend",function(a){return function(b){s.o.C.v|=a;b.preventDefault()}}(this.ga[ha].U));E.on("mousedown touchstart",
function(a){s.o.P?s.o.Y=h:s.o.C.K&=-129;a.preventDefault()}).on("mouseup touchend",function(a){s.o.P||(s.o.C.K|=128);a.preventDefault()})}var e=this;a.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192},Ba:function(a){var b,e,m,t,E=0;this.aa.children().remove();$("<option></option>").appendTo(this.aa);for(b in a){if(a.hasOwnProperty(b)){e=$("<optgroup></optgroup>").attr("label",b);m=a[b].length;for(t=0;t<m;t++)$("<option>"+a[b][t][0]+"</option>").attr("value",a[b][t][1]).appendTo(e);
e.appendTo(this.aa)}E++}},ua:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.aa.val()),xhr:function(){var b=$.ajaxSettings.xhr();b.overrideMimeType!=aa&&b.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=b},complete:function(b,e){var m;"error"==e?alert("The selected ROM file could not be loaded."):(m=b.responseText,a.ya(m,a.aa.val()))}})},ya:function(a,b){this.o.stop();var e=this.o,m,t=".gg"==b.substr(-3).toLowerCase()?2:1;m=a.length;1==t?(e.P=
h,e.V=n,e.B.z=0,e.B.G=32):2==t&&(e.V=h,e.P=n,e.B.z=5,e.B.G=27);if(!(16384>=m)&&(m=e.ua(a,m),null!=m)){t=e.b;m&&(t.H=m);if(t.H.length){t.O=t.H.length;t.Z=t.O-1;for(m=0;3>m;m++)t.A[m]=m%t.O;t.A[3]=0}else t.O=0,t.Z=0;e.za=b}this.o.reset();e=this.o.B;e.F=(e.c[2]&14)<<10;e.r=0;e.n=511;t=0;for(m=e.u.length;t<m;t++)e.u[t]=h;e.g=(e.c[5]&-130)<<7;e.h=h;this.enable();$("#play").removeClass("disabled")},enable:ba(),updateStatus:ba(),Aa:function(){var a=Dc(["hidden","mozHidden"]);return a?function(){document[a]||
this.ra.putImageData(this.sa,0,0)}:function(){this.ra.putImageData(this.sa,0,0)}}()};return a});function na(b){this.o=b;this.B=b.B;this.b=b.c;this.C=b.C;this.a=[]}na.prototype={reset:function(){this.a=Array(2)}};
function Jb(b,a){if(b.o.V&&7>a)switch(a){case 0:return b.C.K&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(a&193){case 64:var e;a:{e=b.B;if(0==e.J){if(218<e.p){e=e.p-6;break a}}else if(242<e.p){e=e.p-57;break a}e=e.p}return e;case 65:return 0;case 128:e=b.B;e.m=h;var l=e.I;e.I=e.d[e.f++&16383]&255;return l;case 129:return e=b.B,e.m=h,l=e.e,e.e=0,e.o.b.G=n,l;case 192:return b.C.v;case 193:return b.C.a&63|b.a[0]|b.a[1]}return 255}
function U(b,a,e){if(!(b.o.V&&7>a))switch(a&193){case 1:b.a[0]=(e&32)<<1;b.a[1]=e&128;break;case 128:b=b.B;a=0;b.m=h;switch(b.w){case 0:case 1:case 2:a=b.f&16383;if(e!=(b.d[a]&255)){if(a>=b.g&&a<b.g+64)b.h=h;else if(a>=b.g+128&&a<b.g+256)b.h=h;else{var l=a>>5;b.u[l]=h;l<b.r&&(b.r=l);l>b.n&&(b.n=l)}b.d[a]=e}break;case 3:b.o.P?(a=3*(b.f&31),b.a[a]=b.T[e],b.a[a+1]=b.S[e],b.a[a+2]=b.O[e]):(a=3*((b.f&63)>>1),0==(b.f&1)?(b.a[a]=b.N[e],b.a[a+1]=b.M[e]):b.a[a+2]=b.L[e])}b.f++;break;case 129:b=b.B;if(b.m)b.m=
n,b.l=e,b.f=b.f&16128|e;else if(b.m=h,b.w=e>>6&3,b.f=b.l|e<<8,0==b.w)b.I=b.d[b.f++&16383]&255;else if(2==b.w){e&=15;switch(e){case 1:0!=(b.e&128)&&0!=(b.l&32)&&(b.o.b.G=h);(b.l&3)!=(b.c[e]&3)&&(b.h=h);break;case 2:b.F=(b.l&14)<<10;break;case 5:a=b.g,b.g=(b.l&-130)<<7,a!=b.g&&(b.h=h)}b.c[e]=b.l}break;case 64:case 65:if(b.o.va)switch(b=b.b,0!=(e&128)?(b.c=e>>4&7,b.b[b.c]=b.b[b.c]&1008|e&15):b.b[b.c]=0==b.c||2==b.c||4==b.c?b.b[b.c]&15|(e&63)<<4:e&15,b.c){case 0:case 2:case 4:0==b.b[b.c]&&(b.b[b.c]=1);
break;case 6:b.h=16<<(b.b[6]&3),b.f=32768}}};window.JSSMS=ca;})(window);
