/*
jsSMS - A Sega Master System/Game Gear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var aa=!(!window.DataView||!window.ArrayBuffer);function da(b){this.e={ui:ga,swfPath:"lib/"};if(void 0!=b)for(var a in this.e)void 0!=b[a]&&(this.e[a]=b[a]);this.F=new ha(this);this.a=new b.ui(this);this.D=new ia(this);this.c=new la(this);this.d=new na(this);this.b=new oa(this);this.a.updateStatus("Ready to load a ROM.");this.ui=this.a}
da.prototype={da:!1,wa:0,U:0,ka:0,ea:!1,S:!0,ba:!1,W:!1,ha:[],ia:0,ma:0,fa:[],ya:"",za:"",T:0,reset:function(){var b=this.D.M,a=0;0==b||this.ba?(this.ka=60,this.U=262,a=3579545):(this.ka=50,this.U=313,a=3546893);this.wa=Math.round(a/this.ka/this.U+1);this.D.M=b;if(this.W){b=this.c;b.m=(a<<8)/16/44100;b.e=0;b.c=0;b.h=16;b.f=32768;for(a=0;4>a;a++)b.b[a<<1]=1,b.b[(a<<1)+1]=15,b.a[a]=0,b.d[a]=1,3!=a&&(b.g[a]=ya);this.ma=Math.round(44100/this.ka);if(0==this.ha.length||this.ha.length!=this.ma)this.ha=Array(this.ma);
if(0==this.fa.length||this.fa.length!=this.U){this.fa=Array(this.U);for(var e=0,a=0;a<this.U;a++)b=(this.ma<<16)/this.U+e,e=b-(b>>16<<16),this.fa[a]=b>>16}}this.F.reset();this.a.reset();this.D.reset();this.d.reset();this.b.reset()},start:function(){this.da||(this.da=!0,this.a.requestAnimationFrame(this.Ba.bind(this),this.a.screen));this.a.updateStatus("Running")},stop:function(){this.da=!1},Ba:function(){if(this.da){var b=this.b;b.T=0;for(b.o+=b.n.wa;;){var a=b,e=0,k=0,m=a.d(a.c++);a.o-=za[m];switch(m){case 1:var t=
a,p=a.q(a.c++);t.g=p>>8;t.f=p&255;a.c++;break;case 2:a.e(h(a),a.a);break;case 3:var y=a;y.f=y.f+1&255;0==y.f&&(y.g=y.g+1&255);break;case 4:a.g=n(a,a.g);break;case 5:a.g=r(a,a.g);break;case 6:a.g=a.d(a.c++);break;case 7:var E=a,fa=E.a>>7;E.a=E.a<<1&255|fa;E.b=E.b&236|fa;break;case 8:var A=a,Fa=A.a;A.a=A.oa;A.oa=Fa;Fa=A.b;A.b=A.ta;A.ta=Fa;break;case 9:Aa(a,u(a,v(a),h(a)));break;case 10:a.a=a.d(h(a));break;case 11:Ia(a);break;case 12:a.f=n(a,a.f);break;case 13:a.f=r(a,a.f);break;case 14:a.f=a.d(a.c++);
break;case 15:var Qa=a,Kb=Qa.a&1;Qa.a=Qa.a>>1|Kb<<7;Qa.b=Qa.b&236|Kb;break;case 16:a.g=a.g-1&255;Ra(a,0!=a.g);break;case 17:var Lb=a,Mb=a.q(a.c++);Lb.k=Mb>>8;Lb.i=Mb&255;a.c++;break;case 18:a.e(Va(a),a.a);break;case 19:Xa(a);break;case 20:a.k=n(a,a.k);break;case 21:a.k=r(a,a.k);break;case 22:a.k=a.d(a.c++);break;case 23:var Ga=a,Dc=Ga.a>>7;Ga.a=(Ga.a<<1|Ga.b&1)&255;Ga.b=Ga.b&236|Dc;break;case 24:a.c+=Ya(z(a)+1);break;case 25:Aa(a,u(a,v(a),Va(a)));break;case 26:a.a=a.d(Va(a));break;case 27:fb(a);break;
case 28:a.i=n(a,a.i);break;case 29:a.i=r(a,a.i);break;case 30:a.i=a.d(a.c++);break;case 31:var Ha=a,Ec=Ha.a&1;Ha.a=(Ha.a>>1|(Ha.b&1)<<7)&255;Ha.b=Ha.b&236|Ec;break;case 32:Ra(a,0==(a.b&64));break;case 33:Aa(a,a.q(a.c++));a.c++;break;case 34:e=a.q(a.c);a.e(e++,a.j);a.e(e,a.h);a.c+=2;break;case 35:gb(a);break;case 36:a.h=n(a,a.h);break;case 37:a.h=r(a,a.h);break;case 38:a.h=a.d(a.c++);break;case 39:var ma=a,Ob=ma.Ca[ma.a|(ma.b&1)<<8|(ma.b&2)<<8|(ma.b&16)<<6];ma.a=Ob&255;ma.b=ma.b&2|Ob>>8;break;case 40:Ra(a,
0!=(a.b&64));break;case 41:Aa(a,u(a,v(a),v(a)));break;case 42:Aa(a,a.q(a.q(a.c)));a.c+=2;break;case 43:hb(a);break;case 44:a.j=n(a,a.j);break;case 45:a.j=r(a,a.j);break;case 46:a.j=a.d(a.c++);break;case 47:var Wa=a;Wa.a^=255;Wa.b|=18;break;case 48:Ra(a,0==(a.b&1));break;case 49:a.m=a.q(a.c);a.c+=2;break;case 50:a.e(a.q(a.c),a.a);a.c+=2;break;case 51:a.m++;break;case 52:ib(a,v(a));break;case 53:pb(a,v(a));break;case 54:a.e(v(a),a.d(a.c++));break;case 55:a.b|=1;a.b&=-3;a.b&=-17;break;case 56:Ra(a,0!=
(a.b&1));break;case 57:Aa(a,u(a,v(a),a.m));break;case 58:a.a=a.d(a.q(a.c));a.c+=2;break;case 59:a.m--;break;case 60:a.a=n(a,a.a);break;case 61:a.a=r(a,a.a);break;case 62:a.a=a.d(a.c++);break;case 63:var ea=a;0!=(ea.b&1)?(ea.b&=-2,ea.b|=16):(ea.b|=1,ea.b&=-17);ea.b&=-3;break;case 65:a.g=a.f;break;case 66:a.g=a.k;break;case 67:a.g=a.i;break;case 68:a.g=a.h;break;case 69:a.g=a.j;break;case 70:a.g=a.d(v(a));break;case 71:a.g=a.a;break;case 72:a.f=a.g;break;case 74:a.f=a.k;break;case 75:a.f=a.i;break;
case 76:a.f=a.h;break;case 77:a.f=a.j;break;case 78:a.f=a.d(v(a));break;case 79:a.f=a.a;break;case 80:a.k=a.g;break;case 81:a.k=a.f;break;case 83:a.k=a.i;break;case 84:a.k=a.h;break;case 85:a.k=a.j;break;case 86:a.k=a.d(v(a));break;case 87:a.k=a.a;break;case 88:a.i=a.g;break;case 89:a.i=a.f;break;case 90:a.i=a.k;break;case 92:a.i=a.h;break;case 93:a.i=a.j;break;case 94:a.i=a.d(v(a));break;case 95:a.i=a.a;break;case 96:a.h=a.g;break;case 97:a.h=a.f;break;case 98:a.h=a.k;break;case 99:a.h=a.i;break;
case 101:a.h=a.j;break;case 102:a.h=a.d(v(a));break;case 103:a.h=a.a;break;case 104:a.j=a.g;break;case 105:a.j=a.f;break;case 106:a.j=a.k;break;case 107:a.j=a.i;break;case 108:a.j=a.h;break;case 110:a.j=a.d(v(a));break;case 111:a.j=a.a;break;case 112:a.e(v(a),a.g);break;case 113:a.e(v(a),a.f);break;case 114:a.e(v(a),a.k);break;case 115:a.e(v(a),a.i);break;case 116:a.e(v(a),a.h);break;case 117:a.e(v(a),a.j);break;case 118:a.o=0;a.O=!0;a.c--;break;case 119:a.e(v(a),a.a);break;case 120:a.a=a.g;break;
case 121:a.a=a.f;break;case 122:a.a=a.k;break;case 123:a.a=a.i;break;case 124:a.a=a.h;break;case 125:a.a=a.j;break;case 126:a.a=a.d(v(a));break;case 128:B(a,a.g);break;case 129:B(a,a.f);break;case 130:B(a,a.k);break;case 131:B(a,a.i);break;case 132:B(a,a.h);break;case 133:B(a,a.j);break;case 134:B(a,a.d(v(a)));break;case 135:B(a,a.a);break;case 136:F(a,a.g);break;case 137:F(a,a.f);break;case 138:F(a,a.k);break;case 139:F(a,a.i);break;case 140:F(a,a.h);break;case 141:F(a,a.j);break;case 142:F(a,a.d(v(a)));
break;case 143:F(a,a.a);break;case 144:G(a,a.g);break;case 145:G(a,a.f);break;case 146:G(a,a.k);break;case 147:G(a,a.i);break;case 148:G(a,a.h);break;case 149:G(a,a.j);break;case 150:G(a,a.d(v(a)));break;case 151:G(a,a.a);break;case 152:H(a,a.g);break;case 153:H(a,a.f);break;case 154:H(a,a.k);break;case 155:H(a,a.i);break;case 156:H(a,a.h);break;case 157:H(a,a.j);break;case 158:H(a,a.d(v(a)));break;case 159:H(a,a.a);break;case 160:a.b=a.l[a.a&=a.g]|16;break;case 161:a.b=a.l[a.a&=a.f]|16;break;case 162:a.b=
a.l[a.a&=a.k]|16;break;case 163:a.b=a.l[a.a&=a.i]|16;break;case 164:a.b=a.l[a.a&=a.h]|16;break;case 165:a.b=a.l[a.a&=a.j]|16;break;case 166:a.b=a.l[a.a&=a.d(v(a))]|16;break;case 167:a.b=a.l[a.a]|16;break;case 168:a.b=a.l[a.a^=a.g];break;case 169:a.b=a.l[a.a^=a.f];break;case 170:a.b=a.l[a.a^=a.k];break;case 171:a.b=a.l[a.a^=a.i];break;case 172:a.b=a.l[a.a^=a.h];break;case 173:a.b=a.l[a.a^=a.j];break;case 174:a.b=a.l[a.a^=a.d(v(a))];break;case 175:a.b=a.l[a.a=0];break;case 176:a.b=a.l[a.a|=a.g];break;
case 177:a.b=a.l[a.a|=a.f];break;case 178:a.b=a.l[a.a|=a.k];break;case 179:a.b=a.l[a.a|=a.i];break;case 180:a.b=a.l[a.a|=a.h];break;case 181:a.b=a.l[a.a|=a.j];break;case 182:a.b=a.l[a.a|=a.d(v(a))];break;case 183:a.b=a.l[a.a];break;case 184:I(a,a.g);break;case 185:I(a,a.f);break;case 186:I(a,a.k);break;case 187:I(a,a.i);break;case 188:I(a,a.h);break;case 189:I(a,a.j);break;case 190:I(a,a.d(v(a)));break;case 191:I(a,a.a);break;case 192:Cb(a,0==(a.b&64));break;case 193:var Pb=a,Qb=a.q(a.m);Pb.g=Qb>>
8;Pb.f=Qb&255;a.m+=2;break;case 194:Db(a,0==(a.b&64));break;case 195:a.c=a.q(a.c);break;case 196:a.call(0==(a.b&64));break;case 197:Eb(a,a.g,a.f);break;case 198:B(a,a.d(a.c++));break;case 199:J(a,a.c);a.c=0;break;case 200:Cb(a,0!=(a.b&64));break;case 201:a.c=a.q(a.m);a.m+=2;break;case 202:Db(a,0!=(a.b&64));break;case 203:var c=a,Rb=a.d(a.c++);c.o-=Fb[Rb];switch(Rb){case 0:c.g=K(c,c.g);break;case 1:c.f=K(c,c.f);break;case 2:c.k=K(c,c.k);break;case 3:c.i=K(c,c.i);break;case 4:c.h=K(c,c.h);break;case 5:c.j=
K(c,c.j);break;case 6:c.e(v(c),K(c,c.d(v(c))));break;case 7:c.a=K(c,c.a);break;case 8:c.g=L(c,c.g);break;case 9:c.f=L(c,c.f);break;case 10:c.k=L(c,c.k);break;case 11:c.i=L(c,c.i);break;case 12:c.h=L(c,c.h);break;case 13:c.j=L(c,c.j);break;case 14:c.e(v(c),L(c,c.d(v(c))));break;case 15:c.a=L(c,c.a);break;case 16:c.g=M(c,c.g);break;case 17:c.f=M(c,c.f);break;case 18:c.k=M(c,c.k);break;case 19:c.i=M(c,c.i);break;case 20:c.h=M(c,c.h);break;case 21:c.j=M(c,c.j);break;case 22:c.e(v(c),M(c,c.d(v(c))));break;
case 23:c.a=M(c,c.a);break;case 24:c.g=N(c,c.g);break;case 25:c.f=N(c,c.f);break;case 26:c.k=N(c,c.k);break;case 27:c.i=N(c,c.i);break;case 28:c.h=N(c,c.h);break;case 29:c.j=N(c,c.j);break;case 30:c.e(v(c),N(c,c.d(v(c))));break;case 31:c.a=N(c,c.a);break;case 32:c.g=O(c,c.g);break;case 33:c.f=O(c,c.f);break;case 34:c.k=O(c,c.k);break;case 35:c.i=O(c,c.i);break;case 36:c.h=O(c,c.h);break;case 37:c.j=O(c,c.j);break;case 38:c.e(v(c),O(c,c.d(v(c))));break;case 39:c.a=O(c,c.a);break;case 40:c.g=Q(c,c.g);
break;case 41:c.f=Q(c,c.f);break;case 42:c.k=Q(c,c.k);break;case 43:c.i=Q(c,c.i);break;case 44:c.h=Q(c,c.h);break;case 45:c.j=Q(c,c.j);break;case 46:c.e(v(c),Q(c,c.d(v(c))));break;case 47:c.a=Q(c,c.a);break;case 48:c.g=R(c,c.g);break;case 49:c.f=R(c,c.f);break;case 50:c.k=R(c,c.k);break;case 51:c.i=R(c,c.i);break;case 52:c.h=R(c,c.h);break;case 53:c.j=R(c,c.j);break;case 54:c.e(v(c),R(c,c.d(v(c))));break;case 55:c.a=R(c,c.a);break;case 56:c.g=S(c,c.g);break;case 57:c.f=S(c,c.f);break;case 58:c.k=
S(c,c.k);break;case 59:c.i=S(c,c.i);break;case 60:c.h=S(c,c.h);break;case 61:c.j=S(c,c.j);break;case 62:c.e(v(c),S(c,c.d(v(c))));break;case 63:c.a=S(c,c.a);break;case 64:W(c,c.g&1);break;case 65:W(c,c.f&1);break;case 66:W(c,c.k&1);break;case 67:W(c,c.i&1);break;case 68:W(c,c.h&1);break;case 69:W(c,c.j&1);break;case 70:W(c,c.d(v(c))&1);break;case 71:W(c,c.a&1);break;case 72:W(c,c.g&2);break;case 73:W(c,c.f&2);break;case 74:W(c,c.k&2);break;case 75:W(c,c.i&2);break;case 76:W(c,c.h&2);break;case 77:W(c,
c.j&2);break;case 78:W(c,c.d(v(c))&2);break;case 79:W(c,c.a&2);break;case 80:W(c,c.g&4);break;case 81:W(c,c.f&4);break;case 82:W(c,c.k&4);break;case 83:W(c,c.i&4);break;case 84:W(c,c.h&4);break;case 85:W(c,c.j&4);break;case 86:W(c,c.d(v(c))&4);break;case 87:W(c,c.a&4);break;case 88:W(c,c.g&8);break;case 89:W(c,c.f&8);break;case 90:W(c,c.k&8);break;case 91:W(c,c.i&8);break;case 92:W(c,c.h&8);break;case 93:W(c,c.j&8);break;case 94:W(c,c.d(v(c))&8);break;case 95:W(c,c.a&8);break;case 96:W(c,c.g&16);
break;case 97:W(c,c.f&16);break;case 98:W(c,c.k&16);break;case 99:W(c,c.i&16);break;case 100:W(c,c.h&16);break;case 101:W(c,c.j&16);break;case 102:W(c,c.d(v(c))&16);break;case 103:W(c,c.a&16);break;case 104:W(c,c.g&32);break;case 105:W(c,c.f&32);break;case 106:W(c,c.k&32);break;case 107:W(c,c.i&32);break;case 108:W(c,c.h&32);break;case 109:W(c,c.j&32);break;case 110:W(c,c.d(v(c))&32);break;case 111:W(c,c.a&32);break;case 112:W(c,c.g&64);break;case 113:W(c,c.f&64);break;case 114:W(c,c.k&64);break;
case 115:W(c,c.i&64);break;case 116:W(c,c.h&64);break;case 117:W(c,c.j&64);break;case 118:W(c,c.d(v(c))&64);break;case 119:W(c,c.a&64);break;case 120:W(c,c.g&128);break;case 121:W(c,c.f&128);break;case 122:W(c,c.k&128);break;case 123:W(c,c.i&128);break;case 124:W(c,c.h&128);break;case 125:W(c,c.j&128);break;case 126:W(c,c.d(v(c))&128);break;case 127:W(c,c.a&128);break;case 128:c.g&=-2;break;case 129:c.f&=-2;break;case 130:c.k&=-2;break;case 131:c.i&=-2;break;case 132:c.h&=-2;break;case 133:c.j&=-2;
break;case 134:c.e(v(c),c.d(v(c))&-2);break;case 135:c.a&=-2;break;case 136:c.g&=-3;break;case 137:c.f&=-3;break;case 138:c.k&=-3;break;case 139:c.i&=-3;break;case 140:c.h&=-3;break;case 141:c.j&=-3;break;case 142:c.e(v(c),c.d(v(c))&-3);break;case 143:c.a&=-3;break;case 144:c.g&=-5;break;case 145:c.f&=-5;break;case 146:c.k&=-5;break;case 147:c.i&=-5;break;case 148:c.h&=-5;break;case 149:c.j&=-5;break;case 150:c.e(v(c),c.d(v(c))&-5);break;case 151:c.a&=-5;break;case 152:c.g&=-9;break;case 153:c.f&=
-9;break;case 154:c.k&=-9;break;case 155:c.i&=-9;break;case 156:c.h&=-9;break;case 157:c.j&=-9;break;case 158:c.e(v(c),c.d(v(c))&-9);break;case 159:c.a&=-9;break;case 160:c.g&=-17;break;case 161:c.f&=-17;break;case 162:c.k&=-17;break;case 163:c.i&=-17;break;case 164:c.h&=-17;break;case 165:c.j&=-17;break;case 166:c.e(v(c),c.d(v(c))&-17);break;case 167:c.a&=-17;break;case 168:c.g&=-33;break;case 169:c.f&=-33;break;case 170:c.k&=-33;break;case 171:c.i&=-33;break;case 172:c.h&=-33;break;case 173:c.j&=
-33;break;case 174:c.e(v(c),c.d(v(c))&-33);break;case 175:c.a&=-33;break;case 176:c.g&=-65;break;case 177:c.f&=-65;break;case 178:c.k&=-65;break;case 179:c.i&=-65;break;case 180:c.h&=-65;break;case 181:c.j&=-65;break;case 182:c.e(v(c),c.d(v(c))&-65);break;case 183:c.a&=-65;break;case 184:c.g&=-129;break;case 185:c.f&=-129;break;case 186:c.k&=-129;break;case 187:c.i&=-129;break;case 188:c.h&=-129;break;case 189:c.j&=-129;break;case 190:c.e(v(c),c.d(v(c))&-129);break;case 191:c.a&=-129;break;case 192:c.g|=
1;break;case 193:c.f|=1;break;case 194:c.k|=1;break;case 195:c.i|=1;break;case 196:c.h|=1;break;case 197:c.j|=1;break;case 198:c.e(v(c),c.d(v(c))|1);break;case 199:c.a|=1;break;case 200:c.g|=2;break;case 201:c.f|=2;break;case 202:c.k|=2;break;case 203:c.i|=2;break;case 204:c.h|=2;break;case 205:c.j|=2;break;case 206:c.e(v(c),c.d(v(c))|2);break;case 207:c.a|=2;break;case 208:c.g|=4;break;case 209:c.f|=4;break;case 210:c.k|=4;break;case 211:c.i|=4;break;case 212:c.h|=4;break;case 213:c.j|=4;break;case 214:c.e(v(c),
c.d(v(c))|4);break;case 215:c.a|=4;break;case 216:c.g|=8;break;case 217:c.f|=8;break;case 218:c.k|=8;break;case 219:c.i|=8;break;case 220:c.h|=8;break;case 221:c.j|=8;break;case 222:c.e(v(c),c.d(v(c))|8);break;case 223:c.a|=8;break;case 224:c.g|=16;break;case 225:c.f|=16;break;case 226:c.k|=16;break;case 227:c.i|=16;break;case 228:c.h|=16;break;case 229:c.j|=16;break;case 230:c.e(v(c),c.d(v(c))|16);break;case 231:c.a|=16;break;case 232:c.g|=32;break;case 233:c.f|=32;break;case 234:c.k|=32;break;case 235:c.i|=
32;break;case 236:c.h|=32;break;case 237:c.j|=32;break;case 238:c.e(v(c),c.d(v(c))|32);break;case 239:c.a|=32;break;case 240:c.g|=64;break;case 241:c.f|=64;break;case 242:c.k|=64;break;case 243:c.i|=64;break;case 244:c.h|=64;break;case 245:c.j|=64;break;case 246:c.e(v(c),c.d(v(c))|64);break;case 247:c.a|=64;break;case 248:c.g|=128;break;case 249:c.f|=128;break;case 250:c.k|=128;break;case 251:c.i|=128;break;case 252:c.h|=128;break;case 253:c.j|=128;break;case 254:c.e(v(c),c.d(v(c))|128);break;case 255:c.a|=
128}break;case 204:a.call(0!=(a.b&64));break;case 205:J(a,a.c+2);a.c=a.q(a.c);break;case 206:F(a,a.d(a.c++));break;case 207:J(a,a.c);a.c=8;break;case 208:Cb(a,0==(a.b&1));break;case 209:var Sb=a,Tb=a.q(a.m);Sb.k=Tb>>8;Sb.i=Tb&255;a.m+=2;break;case 210:Db(a,0==(a.b&1));break;case 211:X(a.v,a.d(a.c++),a.a);break;case 212:a.call(0==(a.b&1));break;case 213:Eb(a,a.k,a.i);break;case 214:G(a,a.d(a.c++));break;case 215:J(a,a.c);a.c=16;break;case 216:Cb(a,0!=(a.b&1));break;case 217:var pa=a,jb=pa.g;pa.g=pa.pa;
pa.pa=jb;jb=pa.f;pa.f=pa.qa;pa.qa=jb;var qa=a,kb=qa.k;qa.k=qa.ra;qa.ra=kb;kb=qa.i;qa.i=qa.sa;qa.sa=kb;var ra=a,lb=ra.h;ra.h=ra.ua;ra.ua=lb;lb=ra.j;ra.j=ra.va;ra.va=lb;break;case 218:Db(a,0!=(a.b&1));break;case 219:a.a=Gb(a.v,a.d(a.c++));break;case 220:a.call(0!=(a.b&1));break;case 221:var f=a,Ub=a.d(a.c++),Ja=0,mb=0;f.o-=Hb[Ub];switch(Ub){case 9:Ib(f,u(f,Y(f),h(f)));break;case 25:Ib(f,u(f,Y(f),Va(f)));break;case 33:Ib(f,f.q(f.c));f.c+=2;break;case 34:Ja=f.q(f.c);f.e(Ja++,f.r);f.e(Ja,f.t);f.c+=2;break;
case 35:f.r=f.r+1&255;0==f.r&&(f.t=f.t+1&255);break;case 36:f.t=n(f,f.t);break;case 37:f.t=r(f,f.t);break;case 38:f.t=f.d(f.c++);break;case 41:Ib(f,u(f,Y(f),Y(f)));break;case 42:Ja=f.q(f.c);f.r=f.d(Ja++);f.t=f.d(Ja);f.c+=2;break;case 43:f.r=f.r-1&255;255==f.r&&(f.t=f.t-1&255);break;case 44:f.r=n(f,f.r);break;case 45:f.r=r(f,f.r);break;case 46:f.r=f.d(f.c++);break;case 52:ib(f,Y(f)+z(f));f.c++;break;case 53:pb(f,Y(f)+z(f));f.c++;break;case 54:f.e(Y(f)+z(f),f.d(++f.c));f.c++;break;case 57:Ib(f,u(f,
Y(f),f.m));break;case 68:f.g=f.t;break;case 69:f.g=f.r;break;case 70:f.g=f.d(Y(f)+z(f));f.c++;break;case 76:f.f=f.t;break;case 77:f.f=f.r;break;case 78:f.f=f.d(Y(f)+z(f));f.c++;break;case 84:f.k=f.t;break;case 85:f.k=f.r;break;case 86:f.k=f.d(Y(f)+z(f));f.c++;break;case 92:f.i=f.t;break;case 93:f.i=f.r;break;case 94:f.i=f.d(Y(f)+z(f));f.c++;break;case 96:f.t=f.g;break;case 97:f.t=f.f;break;case 98:f.t=f.k;break;case 99:f.t=f.i;break;case 100:break;case 101:f.t=f.r;break;case 102:f.h=f.d(Y(f)+z(f));
f.c++;break;case 103:f.t=f.a;break;case 104:f.r=f.g;break;case 105:f.r=f.f;break;case 106:f.r=f.k;break;case 107:f.r=f.i;break;case 108:f.r=f.t;break;case 109:break;case 110:f.j=f.d(Y(f)+z(f));f.c++;break;case 111:f.r=f.a;break;case 112:f.e(Y(f)+z(f),f.g);f.c++;break;case 113:f.e(Y(f)+z(f),f.f);f.c++;break;case 114:f.e(Y(f)+z(f),f.k);f.c++;break;case 115:f.e(Y(f)+z(f),f.i);f.c++;break;case 116:f.e(Y(f)+z(f),f.h);f.c++;break;case 117:f.e(Y(f)+z(f),f.j);f.c++;break;case 119:f.e(Y(f)+z(f),f.a);f.c++;
break;case 124:f.a=f.t;break;case 125:f.a=f.r;break;case 126:f.a=f.d(Y(f)+z(f));f.c++;break;case 132:B(f,f.t);break;case 133:B(f,f.r);break;case 134:B(f,f.d(Y(f)+z(f)));f.c++;break;case 140:F(f,f.t);break;case 141:F(f,f.r);break;case 142:F(f,f.d(Y(f)+z(f)));f.c++;break;case 148:G(f,f.t);break;case 149:G(f,f.r);break;case 150:G(f,f.d(Y(f)+z(f)));f.c++;break;case 156:H(f,f.t);break;case 157:H(f,f.r);break;case 158:H(f,f.d(Y(f)+z(f)));f.c++;break;case 164:f.b=f.l[f.a&=f.t]|16;break;case 165:f.b=f.l[f.a&=
f.r]|16;break;case 166:f.b=f.l[f.a&=f.d(Y(f)+z(f))]|16;f.c++;break;case 172:f.b=f.l[f.a^=f.t];break;case 173:f.b=f.l[f.a^=f.r];break;case 174:f.b=f.l[f.a^=f.d(Y(f)+z(f))];f.c++;break;case 180:f.b=f.l[f.a|=f.t];break;case 181:f.b=f.l[f.a|=f.r];break;case 182:f.b=f.l[f.a|=f.d(Y(f)+z(f))];f.c++;break;case 188:I(f,f.t);break;case 189:I(f,f.r);break;case 190:I(f,f.d(Y(f)+z(f)));f.c++;break;case 203:Jb(f,Y(f));break;case 225:Ib(f,f.q(f.m));f.m+=2;break;case 227:mb=Y(f);Ib(f,f.q(f.m));f.e(f.m,mb&255);f.e(f.m+
1,mb>>8);break;case 229:Eb(f,f.t,f.r);break;case 233:f.c=Y(f);break;case 249:f.m=Y(f);break;default:f.c--}break;case 222:H(a,a.d(a.c++));break;case 223:J(a,a.c);a.c=24;break;case 224:Cb(a,0==(a.b&4));break;case 225:Aa(a,a.q(a.m));a.m+=2;break;case 226:Db(a,0==(a.b&4));break;case 227:k=a.h;a.h=a.d(a.m+1);a.e(a.m+1,k);k=a.j;a.j=a.d(a.m);a.e(a.m,k);break;case 228:a.call(0==(a.b&4));break;case 229:Eb(a,a.h,a.j);break;case 230:a.b=a.l[a.a&=a.d(a.c++)]|16;break;case 231:J(a,a.c);a.c=32;break;case 232:Cb(a,
0!=(a.b&4));break;case 233:a.c=v(a);break;case 234:Db(a,0!=(a.b&4));break;case 235:k=a.k;a.k=a.h;a.h=k;k=a.i;a.i=a.j;a.j=k;break;case 236:a.call(0!=(a.b&4));break;case 237:var d=a,Xb=z(a),s=0,D=0;d.o-=Nb[Xb];switch(Xb){case 64:d.g=Gb(d.v,d.f);d.b=d.b&1|d.l[d.g];d.c++;break;case 65:X(d.v,d.f,d.g);d.c++;break;case 66:Vb(d,h(d));d.c++;break;case 67:D=d.q(++d.c);d.e(D++,d.f);d.e(D,d.g);d.c+=2;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:s=d.a;d.a=0;G(d,s);d.c++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:d.c=
d.q(d.m);d.m+=2;d.H=d.I;break;case 70:case 78:case 102:case 110:d.P=0;d.c++;break;case 71:d.Y=d.a;d.c++;break;case 72:d.f=Gb(d.v,d.f);d.b=d.b&1|d.l[d.f];d.c++;break;case 73:X(d.v,d.f,d.f);d.c++;break;case 74:Wb(d,h(d));d.c++;break;case 75:var Yb=d,Zb=d.q(d.q(++d.c));Yb.g=Zb>>8;Yb.f=Zb&255;d.c+=2;break;case 79:d.c++;break;case 80:d.k=Gb(d.v,d.f);d.b=d.b&1|d.l[d.k];d.c++;break;case 81:X(d.v,d.f,d.k);d.c++;break;case 82:Vb(d,Va(d));d.c++;break;case 83:D=d.q(++d.c);d.e(D++,d.i);d.e(D,d.k);d.c+=2;break;
case 86:case 118:d.P=1;d.c++;break;case 87:d.a=d.Y;d.b=d.b&1|d.na[d.a]|(d.I?4:0);d.c++;break;case 88:d.i=Gb(d.v,d.f);d.b=d.b&1|d.l[d.i];d.c++;break;case 89:X(d.v,d.f,d.i);d.c++;break;case 90:Wb(d,Va(d));d.c++;break;case 91:var $b=d,ac=d.q(d.q(++d.c));$b.k=ac>>8;$b.i=ac&255;d.c+=2;break;case 95:d.a=Math.round(255*Math.random());d.b=d.b&1|d.na[d.a]|(d.I?4:0);d.c++;break;case 96:d.h=Gb(d.v,d.f);d.b=d.b&1|d.l[d.h];d.c++;break;case 97:X(d.v,d.f,d.h);d.c++;break;case 98:Vb(d,v(d));d.c++;break;case 99:D=
d.q(++d.c);d.e(D++,d.j);d.e(D,d.h);d.c+=2;break;case 103:D=v(d);s=d.d(D);d.e(D,s>>4|(d.a&15)<<4);d.a=d.a&240|s&15;d.b=d.b&1|d.l[d.a];d.c++;break;case 104:d.j=Gb(d.v,d.f);d.b=d.b&1|d.l[d.j];d.c++;break;case 105:X(d.v,d.f,d.j);d.c++;break;case 106:Wb(d,v(d));d.c++;break;case 107:Aa(d,d.q(d.q(++d.c)));d.c+=2;break;case 111:D=v(d);s=d.d(D);d.e(D,(s&15)<<4|d.a&15);d.a=d.a&240|s>>4;d.b=d.b&1|d.l[d.a];d.c++;break;case 113:X(d.v,d.f,0);d.c++;break;case 114:Vb(d,d.m);d.c++;break;case 115:D=d.q(++d.c);d.e(D++,
d.m&255);d.e(D,d.m>>8);d.c+=2;break;case 120:d.a=Gb(d.v,d.f);d.b=d.b&1|d.l[d.a];d.c++;break;case 121:X(d.v,d.f,d.a);d.c++;break;case 122:Wb(d,d.m);d.c++;break;case 123:d.m=d.q(d.q(++d.c));d.c+=2;break;case 160:d.e(Va(d),d.d(v(d)));Xa(d);gb(d);Ia(d);d.b=d.b&193|(0!=h(d)?4:0);d.c++;break;case 161:s=d.b&1|2;I(d,d.d(v(d)));gb(d);Ia(d);s|=0==h(d)?0:4;d.b=d.b&248|s;d.c++;break;case 162:s=Gb(d.v,d.f);d.e(v(d),s);d.g=r(d,d.g);gb(d);d.b=128==(s&128)?d.b|2:d.b&-3;d.c++;break;case 163:s=d.d(v(d));X(d.v,d.f,
s);gb(d);d.g=r(d,d.g);255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(s&128)?d.b|2:d.b&-3;d.c++;break;case 168:d.e(Va(d),d.d(v(d)));fb(d);hb(d);Ia(d);d.b=d.b&193|(0!=h(d)?4:0);d.c++;break;case 169:s=d.b&1|2;I(d,d.d(v(d)));hb(d);Ia(d);s|=0==h(d)?0:4;d.b=d.b&248|s;d.c++;break;case 170:s=Gb(d.v,d.f);d.e(v(d),s);d.g=r(d,d.g);hb(d);d.b=0!=(s&128)?d.b|2:d.b&-3;d.c++;break;case 171:s=d.d(v(d));X(d.v,d.f,s);hb(d);d.g=r(d,d.g);255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(s&128)?d.b|2:d.b&
-3;d.c++;break;case 176:d.e(Va(d),d.d(v(d)));Xa(d);gb(d);Ia(d);0!=h(d)?(d.b|=4,d.o-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 177:s=d.b&1|2;I(d,d.d(v(d)));gb(d);Ia(d);s|=0==h(d)?0:4;0!=(s&4)&&0==(d.b&64)?(d.o-=5,d.c--):d.c++;d.b=d.b&248|s;break;case 178:s=Gb(d.v,d.f);d.e(v(d),s);d.g=r(d,d.g);gb(d);0!=d.g?(d.o-=5,d.c--):d.c++;d.b=128==(s&128)?d.b|2:d.b&-3;break;case 179:s=d.d(v(d));X(d.v,d.f,s);d.g=r(d,d.g);gb(d);0!=d.g?(d.o-=5,d.c--):d.c++;255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);
d.b=0!=(s&128)?d.b|2:d.b&-3;break;case 184:d.e(Va(d),d.d(v(d)));fb(d);hb(d);Ia(d);0!=h(d)?(d.b|=4,d.o-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 185:s=d.b&1|2;I(d,d.d(v(d)));hb(d);Ia(d);s|=0==h(d)?0:4;0!=(s&4)&&0==(d.b&64)?(d.o-=5,d.c--):d.c++;d.b=d.b&248|s;break;case 186:s=Gb(d.v,d.f);d.e(v(d),s);d.g=r(d,d.g);hb(d);0!=d.g?(d.o-=5,d.c--):d.c++;d.b=0!=(s&128)?d.b|2:d.b&-3;break;case 187:s=d.d(v(d));X(d.v,d.f,s);d.g=r(d,d.g);hb(d);0!=d.g?(d.o-=5,d.c--):d.c++;255<d.j+s?(d.b|=1,d.b|=16):(d.b&=
-2,d.b&=-17);d.b=0!=(s&128)?d.b|2:d.b&-3;break;default:d.c++}break;case 238:a.b=a.l[a.a^=a.d(a.c++)];break;case 239:J(a,a.c);a.c=40;break;case 240:Cb(a,0==(a.b&128));break;case 241:var bc=a,cc=a.q(a.m);bc.a=cc>>8;bc.b=cc&255;a.m+=2;break;case 242:Db(a,0==(a.b&128));break;case 243:a.H=a.I=!1;break;case 244:a.call(0==(a.b&128));break;case 245:Eb(a,a.a,a.b);break;case 246:a.b=a.l[a.a|=a.d(a.c++)];break;case 247:J(a,a.c);a.c=48;break;case 248:Cb(a,0!=(a.b&128));break;case 249:a.m=v(a);break;case 250:Db(a,
0!=(a.b&128));break;case 251:a.H=a.I=!0;break;case 252:a.call(0!=(a.b&128));break;case 253:var g=a,dc=a.d(a.c++),Ka=void 0,nb=void 0;g.o-=Hb[dc];switch(dc){case 9:yc(g,u(g,Z(g),h(g)));break;case 25:yc(g,u(g,Z(g),Va(g)));break;case 33:yc(g,g.q(g.c));g.c+=2;break;case 34:Ka=g.q(g.c);g.e(Ka++,g.s);g.e(Ka,g.u);g.c+=2;break;case 35:g.s=g.s+1&255;0==g.s&&(g.u=g.u+1&255);break;case 36:g.u=n(g,g.u);break;case 37:g.u=r(g,g.u);break;case 38:g.u=g.d(g.c++);break;case 41:yc(g,u(g,Z(g),Z(g)));break;case 42:Ka=
g.q(g.c);g.s=g.d(Ka++);g.u=g.d(Ka);g.c+=2;break;case 43:g.s=g.s-1&255;255==g.s&&(g.u=g.u-1&255);break;case 44:g.s=n(g,g.s);break;case 45:g.s=r(g,g.s);break;case 46:g.s=g.d(g.c++);break;case 52:ib(g,Z(g)+z(g));g.c++;break;case 53:pb(g,Z(g)+z(g));g.c++;break;case 54:g.e(Z(g)+z(g),g.d(++g.c));g.c++;break;case 57:yc(g,u(g,Z(g),g.m));break;case 68:g.g=g.u;break;case 69:g.g=g.s;break;case 70:g.g=g.d(Z(g)+z(g));g.c++;break;case 76:g.f=g.u;break;case 77:g.f=g.s;break;case 78:g.f=g.d(Z(g)+z(g));g.c++;break;
case 84:g.k=g.u;break;case 85:g.k=g.s;break;case 86:g.k=g.d(Z(g)+z(g));g.c++;break;case 92:g.i=g.u;break;case 93:g.i=g.s;break;case 94:g.i=g.d(Z(g)+z(g));g.c++;break;case 96:g.u=g.g;break;case 97:g.u=g.f;break;case 98:g.u=g.k;break;case 99:g.u=g.i;break;case 100:break;case 101:g.u=g.s;break;case 102:g.h=g.d(Z(g)+z(g));g.c++;break;case 103:g.u=g.a;break;case 104:g.s=g.g;break;case 105:g.s=g.f;break;case 106:g.s=g.k;break;case 107:g.s=g.i;break;case 108:g.s=g.u;break;case 109:break;case 110:g.j=g.d(Z(g)+
z(g));g.c++;break;case 111:g.s=g.a;break;case 112:g.e(Z(g)+z(g),g.g);g.c++;break;case 113:g.e(Z(g)+z(g),g.f);g.c++;break;case 114:g.e(Z(g)+z(g),g.k);g.c++;break;case 115:g.e(Z(g)+z(g),g.i);g.c++;break;case 116:g.e(Z(g)+z(g),g.h);g.c++;break;case 117:g.e(Z(g)+z(g),g.j);g.c++;break;case 119:g.e(Z(g)+z(g),g.a);g.c++;break;case 124:g.a=g.u;break;case 125:g.a=g.s;break;case 126:g.a=g.d(Z(g)+z(g));g.c++;break;case 132:B(g,g.u);break;case 133:B(g,g.s);break;case 134:B(g,g.d(Z(g)+z(g)));g.c++;break;case 140:F(g,
g.u);break;case 141:F(g,g.s);break;case 142:F(g,g.d(Z(g)+z(g)));g.c++;break;case 148:G(g,g.u);break;case 149:G(g,g.s);break;case 150:G(g,g.d(Z(g)+z(g)));g.c++;break;case 156:H(g,g.u);break;case 157:H(g,g.s);break;case 158:H(g,g.d(Z(g)+z(g)));g.c++;break;case 164:g.b=g.l[g.a&=g.u]|16;break;case 165:g.b=g.l[g.a&=g.s]|16;break;case 166:g.b=g.l[g.a&=g.d(Z(g)+z(g))]|16;g.c++;break;case 172:g.b=g.l[g.a^=g.u];break;case 173:g.b=g.l[g.a^=g.s];break;case 174:g.b=g.l[g.a^=g.d(Z(g)+z(g))];g.c++;break;case 180:g.b=
g.l[g.a|=g.u];break;case 181:g.b=g.l[g.a|=g.s];break;case 182:g.b=g.l[g.a|=g.d(Z(g)+z(g))];g.c++;break;case 188:I(g,g.u);break;case 189:I(g,g.s);break;case 190:I(g,g.d(Z(g)+z(g)));g.c++;break;case 203:Jb(g,Z(g));break;case 225:yc(g,g.q(g.m));g.m+=2;break;case 227:nb=Z(g);yc(g,g.q(g.m));g.e(g.m,nb&255);g.e(g.m+1,nb>>8);break;case 229:Eb(g,g.u,g.s);break;case 233:g.c=Z(g);break;case 249:g.m=Z(g);break;default:g.c--}break;case 254:I(a,a.d(a.c++));break;case 255:J(a,a.c),a.c=56}var Za;if(Za=0>=b.o){var C=
b;if(C.n.W){var Ba=C.n,ec=C.T;0==ec&&(Ba.ia=0);for(var fc=Ba.fa[ec],q=Ba.c,Hc=Ba.ia,gc=[],ob=0,x=0;ob<fc;ob++){for(x=0;3>x;x++)q.l[x]=q.g[x]!=ya?zc[q.b[(x<<1)+1]]*q.g[x]>>8:zc[q.b[(x<<1)+1]]*q.d[x];q.l[3]=zc[q.b[7]]*(q.f&1)<<1;var Sa=q.l[0]+q.l[1]+q.l[2]+q.l[3];127<Sa?Sa=127:-128>Sa&&(Sa=-128);gc[Hc+ob]=Sa;q.e+=q.m;var Ca=q.e>>8,qb=Ca<<8;q.e-=qb;q.a[0]-=Ca;q.a[1]-=Ca;q.a[2]-=Ca;q.a[3]=128==q.h?q.a[2]:q.a[3]-Ca;for(x=0;3>x;x++){var hc=q.a[x];if(0>=hc){var rb=q.b[x<<1];6<rb?(q.g[x]=(qb-q.e+512*hc<<
8)*q.d[x]/(qb+q.e),q.d[x]=-q.d[x]):(q.d[x]=1,q.g[x]=ya);q.a[x]+=rb*(Ca/rb+1)}else q.g[x]=ya}if(0>=q.a[3]&&(q.d[3]=-q.d[3],128!=q.h&&(q.a[3]+=q.h*(Ca/q.h+1)),1==q.d[3])){var ic=0,ic=0!=(q.b[6]&4)?0!=(q.f&9)&&0!=(q.f&9^9)?1:0:q.f&1;q.f=q.f>>1|ic<<15}}Ba.ha=gc;Ba.ia+=fc}C.D.q=C.T;if(192>C.T){var l=C.D,T=C.T,La=0,$a=0,ab=0;if(!l.n.ba||!(24>T||168<=T))if(0!=(l.c[1]&64)){if(-1!=l.o){for(var Ma=l.s;Ma<=l.o;Ma++)if(l.v[Ma]){l.v[Ma]=!1;for(var Ic=l.H[Ma],Jc=0,bb=Ma<<5,jc=0;8>jc;jc++)for(var Kc=l.d[bb++],Lc=
l.d[bb++],Mc=l.d[bb++],Nc=l.d[bb++],Da=128;0!=Da;Da>>=1){var ja=0;0!=(Kc&Da)&&(ja|=1);0!=(Lc&Da)&&(ja|=2);0!=(Mc&Da)&&(ja|=4);0!=(Nc&Da)&&(ja|=8);Ic[Jc++]=ja}}l.s=512;l.o=-1}var sa=0,Na=0,ta=0,ua=0,sb=l.c[8],kc=l.c[9];16>T&&0!=(l.c[0]&64)&&(sb=0);var Oc=l.c[0]&128,lc=32-(sb>>3)+l.B,Ta=T+kc>>3;27<Ta&&(Ta-=28);for(var tb=(T+(kc&7)&7)<<3,mc=T<<8,cb=l.B;cb<l.K;cb++){var nc=l.I+((lc&31)<<1)+(Ta<<6),Oa=l.d[nc+1],oc=(Oa&8)<<1,va=(cb<<3)+(sb&7),pc=0==(Oa&4)?tb:56-tb,qc=l.H[(l.d[nc]&255)+((Oa&1)<<8)];if(0==
(Oa&2))for(sa=0;8>sa&&256>va;sa++,va++)Na=qc[sa+pc],ta=4*(va+mc),ua=3*(Na+oc),l.t[va]=0!=(Oa&16)&&0!=Na,l.b[ta]=l.a[ua],l.b[ta+1]=l.a[ua+1],l.b[ta+2]=l.a[ua+2];else for(sa=7;0<=sa&&256>va;sa--,va++)Na=qc[sa+pc],ta=4*(va+mc),ua=3*(Na+oc),l.t[va]=0!=(Oa&16)&&0!=Na,l.b[ta]=l.a[ua],l.b[ta+1]=l.a[ua+1],l.b[ta+2]=l.a[ua+2];lc++;0!=Oc&&23==cb&&(Ta=T>>3,tb=(T&7)<<3)}if(l.h){l.h=!1;for(var ub=0;ub<l.r.length;ub++)l.r[ub][0]=0;var vb=0==(l.c[1]&2)?8:16;1==(l.c[1]&1)&&(vb<<=1);for(var db=0;64>db;db++){var wa=
l.d[l.g+db]&255;if(208==wa)break;wa++;240<wa&&(wa-=256);for(var eb=wa;192>eb;eb++)if(eb-wa<vb){var Ea=l.r[eb];if(!Ea||8<=Ea[0])break;var wb=3*Ea[0]+1,rc=l.g+(db<<1)+128;Ea[wb++]=l.d[rc++]&255;Ea[wb++]=wa;Ea[wb++]=l.d[rc]&255;Ea[0]++}}}if(0!=l.r[T][0]){for(var xa=0,ba=0,ca=0,sc=0,Ua=l.r[T],tc=Math.min(8,Ua[0]),uc=l.c[1]&1,xb=T<<8,yb=3*tc;sc<tc;sc++){var zb=Ua[yb--]|(l.c[6]&4)<<6,Pc=Ua[yb--],U=Ua[yb--]-(l.c[0]&8),vc=T-Pc>>uc;0!=(l.c[1]&2)&&(zb&=-2);var wc=l.H[zb+((vc&8)>>3)],Pa=0;0>U&&(Pa=-U,U=0);var xc=
Pa+((vc&7)<<3);if(0==uc)for(;8>Pa&&256>U;Pa++,U++)xa=wc[xc++],0==xa||l.t[U]||(ba=4*(U+xb),ca=3*(xa+16),l.b[ba]=l.a[ca],l.b[ba+1]=l.a[ca+1],l.b[ba+2]=l.a[ca+2]);else for(;8>Pa&&256>U;Pa++,U+=2)xa=wc[xc++],0==xa||l.t[U]||(ba=4*(U+xb),ca=3*(xa+16),l.b[ba]=l.a[ca],l.b[ba+1]=l.a[ca+1],l.b[ba+2]=l.a[ca+2]),0==xa||l.t[U+1]||(ba=4*(U+xb+1),ca=3*(xa+16),l.b[ba]=l.a[ca],l.b[ba+1]=l.a[ca+1],l.b[ba+2]=l.a[ca+2])}8<=Ua[0]&&(l.e|=64)}if(l.n.S&&0!=(l.c[0]&32))for($a=4*(T<<8),ab=3*((l.c[7]&15)+16),La=0;8>La;La++)l.b[$a+
La]=l.a[ab],l.b[$a+La+1]=l.a[ab+1],l.b[$a+La+2]=l.a[ab+2]}else for(var ka=T<<8,Qc=4*(ka+1024),Ab=3*((l.c[7]&15)+16),ka=4*ka;ka<Qc;ka+=4)l.b[ka]=l.a[Ab],l.b[ka+1]=l.a[Ab+1],l.b[ka+2]=l.a[Ab+2]}var P=C.D,Bb=C.T;192>=Bb?(192==Bb&&(P.e|=128),0==P.u?(P.u=P.c[10],P.e|=4):P.u--,0!=(P.e&4)&&0!=(P.c[0]&16)&&(P.n.b.K=!0)):(P.u=P.c[10],0!=(P.e&128)&&(0!=(P.c[1]&32)&&224>Bb)&&(P.n.b.K=!0));if(C.K){var w=C;w.H&&(w.O&&(w.c++,w.O=!1),w.H=w.I=!1,w.K=!1,J(w,w.c),0==w.P?(w.c=0==w.Q||255==w.Q?56:w.Q,w.o-=13):1==w.P?
(w.c=56,w.o-=13):(w.c=w.q((w.Y<<8)+w.Q),w.o-=19))}C.T++;if(C.T>=C.n.U){var V=C;V.n.ea&&(V.I=V.H,V.H=!1,V.O&&(V.c++,V.O=!1),J(V,V.c),V.c=102,V.o-=11,V.n.ea=!1);V.n.a.Fa();Za=!0}else C.o+=C.n.wa,Za=!1}if(Za)break}this.a.requestAnimationFrame(this.Ba.bind(this),this.a.screen)}},xa:function(b,a){0!=a%1024&&(b=b.substr(512),a-=512);var e,k,m=Math.round(a/16384),t=Array(m);for(e=0;e<m;e++)if(t[e]=Ac(16384),aa)for(k=0;16384>k;k++)t[e].setUint8(k,b.charCodeAt(16384*e+k));else for(k=0;16384>k;k++)t[e][k]=
b.charCodeAt(16384*e+k)&255;return t}};function Bc(b,a,e){var k,m=".gg"==e.substr(-3).toLowerCase()?2:1;k=a.length;1==m?(b.S=!0,b.ba=!1,b.D.B=0,b.D.K=32):2==m&&(b.ba=!0,b.S=!1,b.D.B=5,b.D.K=27);if(16384>=k)return!1;k=b.xa(a,k);if(null==k)return!1;m=b.b;k&&(m.C=k);if(m.C.length){m.R=m.C.length;m.V=m.R-1;for(k=0;3>k;k++)m.p[k]=k%m.R;m.p[3]=0}else m.R=0,m.V=0;b.ya=a;b.za=e;return!0};var Ac=aa?function(b){return new DataView(new ArrayBuffer(b))}:Array,Cc=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function Fc(b,a){var e=!1;void 0==a&&(a=document);b.some(function(b){return b in a?(e=b,!0):!1});return e};var za=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Fb=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Hb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Gc=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Nb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function oa(b){this.n=b;this.D=b.D;this.v=b.d;this.P=this.m=this.c=0;this.K=this.O=this.I=this.H=!1;this.o=this.ta=this.b=this.Y=this.u=this.s=this.t=this.r=this.va=this.ua=this.j=this.h=this.sa=this.ra=this.i=this.k=this.qa=this.pa=this.f=this.g=this.oa=this.a=this.Q=0;this.C=[];this.J=Ac(32768);this.p=Array(4);this.R=this.V=0;this.G=Ac(8192);this.Ca=Array(2048);this.na=Array(256);this.l=Array(256);this.M=Array(256);this.L=Array(256);this.B=Array(131072);this.A=Array(131072);this.X=Array(256);var a,
e,k,m,t,p;for(b=0;256>b;b++)a=0!=(b&128)?128:0,e=0==b?64:0,k=b&32,m=b&8,t=Rc(b)?4:0,this.na[b]=a|e|k|m,this.l[b]=a|e|k|m|t,this.M[b]=a|e|k|m,this.M[b]|=128==b?4:0,this.M[b]|=0==(b&15)?16:0,this.L[b]=a|e|k|m|2,this.L[b]|=127==b?4:0,this.L[b]|=15==(b&15)?16:0,this.X[b]=0!=b?b&128:68,this.X[b]|=k|m|16;b=0;a=65536;e=0;k=65536;for(t=0;256>t;t++)for(p=0;256>p;p++)m=p-t,this.B[b]=0!=p?0!=(p&128)?128:0:64,this.B[b]|=p&40,(p&15)<(t&15)&&(this.B[b]|=16),p<t&&(this.B[b]|=1),0!=((m^t^128)&(m^p)&128)&&(this.B[b]|=
4),b++,m=p-t-1,this.B[a]=0!=p?0!=(p&128)?128:0:64,this.B[a]|=p&40,(p&15)<=(t&15)&&(this.B[a]|=16),p<=t&&(this.B[a]|=1),0!=((m^t^128)&(m^p)&128)&&(this.B[a]|=4),a++,m=t-p,this.A[e]=0!=p?0!=(p&128)?130:2:66,this.A[e]|=p&40,(p&15)>(t&15)&&(this.A[e]|=16),p>t&&(this.A[e]|=1),0!=((m^t)&(t^p)&128)&&(this.A[e]|=4),e++,m=t-p-1,this.A[k]=0!=p?0!=(p&128)?130:2:66,this.A[k]|=p&40,(p&15)>=(t&15)&&(this.A[k]|=16),p>=t&&(this.A[k]|=1),0!=((m^t)&(t^p)&128)&&(this.A[k]|=4),k++;for(b=256;b--;)for(a=0;1>=a;a++)for(e=
0;1>=e;e++)for(k=0;1>=k;k++){m=this.Ca;t=a<<8|k<<9|e<<10|b;p=a|k<<1|e<<4;this.a=b;this.b=p;var y=this.a,E=0,fa=p&1,A=fa;if(0!=(p&16)||9<(y&15))E|=6;if(1==fa||159<y||143<y&&9<(y&15))E|=96,A=1;153<y&&(A=1);0!=(p&2)?G(this,E):B(this,E);p=this.b&254|A;p=Rc(this.a)?p&251|4:p&251;m[t]=this.a|p<<8}this.a=this.b=0;if(aa)for(b=0;8192>b;b++)this.G.setUint8(b,0);else for(b=0;8192>b;b++)this.G[b]=0;if(aa)for(b=0;32768>b;b++)this.J.setUint8(b,0);else for(b=0;32768>b;b++)this.J[b]=0;this.R=2;for(b=0;4>b;b++)this.p[b]=
b%3}
oa.prototype={reset:function(){this.c=this.ta=this.b=this.Y=this.s=this.u=this.r=this.t=this.h=this.j=this.ua=this.va=this.k=this.i=this.ra=this.sa=this.g=this.f=this.pa=this.qa=this.a=this.oa=0;this.m=57328;this.P=this.o=0;this.I=this.H=!1;this.Q=0;this.O=!1},call:function(b){b?(J(this,this.c+2),this.c=this.q(this.c),this.o-=7):this.c+=2},e:aa?function(b,a){65535>=b&&(this.G.setInt8(b&8191,a),65532==b?this.p[3]=a:65533==b?this.p[0]=a&this.V:65534==b?this.p[1]=a&this.V:65535==b&&(this.p[2]=a&this.V))}:
function(b,a){65535>=b&&(this.G[b&8191]=a,65532==b?this.p[3]=a:65533==b?this.p[0]=a&this.V:65534==b?this.p[1]=a&this.V:65535==b&&(this.p[2]=a&this.V))},d:aa?function(b){return 1024>b?this.C[0].getUint8(b):16384>b?this.C[this.p[0]].getUint8(b):32768>b?this.C[this.p[1]].getUint8(b-16384):49152>b?8==(this.p[3]&12)?this.J.getUint8(b-32768):12==(this.p[3]&12)?this.J.getUint8(b-16384):this.C[this.p[2]].getUint8(b-32768):57344>b?this.G.getUint8(b-49152):65532>b?this.G.getUint8(b-57344):65532==b?this.p[3]:
65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0}:function(b){return 1024>b?this.C[0][b]:16384>b?this.C[this.p[0]][b]:32768>b?this.C[this.p[1]][b-16384]:49152>b?8==(this.p[3]&12)?this.J[b-32768]:12==(this.p[3]&12)?this.J[b-16384]:this.C[this.p[2]][b-32768]:57344>b?this.G[b-49152]:65532>b?this.G[b-57344]:65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0},q:aa?function(b){return 1024>b?this.C[0].getUint16(b,!0):16384>b?this.C[this.p[0]].getUint16(b,!0):32768>b?
this.C[this.p[1]].getUint16(b-16384,!0):49152>b?8==(this.p[3]&12)?this.J[b-32768]:12==(this.p[3]&12)?this.J[b-16384]:this.C[this.p[2]].getUint16(b-32768,!0):57344>b?this.G.getUint16(b-49152,!0):65532>b?this.G.getUint16(b-57344,!0):65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0}:function(b){return 1024>b?this.C[0][b]|this.C[0][++b]<<8:16384>b?this.C[this.p[0]][b]|this.C[this.p[0]][++b]<<8:32768>b?this.C[this.p[1]][b-16384]|this.C[this.p[1]][++b-16384]<<8:49152>b?8==(this.p[3]&
12)?this.J[b-32768]|this.J[++b-32768]<<8:12==(this.p[3]&12)?this.J[b-16384]|this.J[++b-16384]<<8:this.C[this.p[2]][b-32768]|this.C[this.p[2]][++b-32768]<<8:57344>b?this.G[b-49152]|this.G[++b-49152]<<8:65532>b?this.G[b-57344]|this.G[++b-57344]<<8:65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0}};function z(b){return b.d(b.c)}function Rc(b){var a=!0,e;for(e=0;8>e;e++)0!=(b&1<<e)&&(a=!a);return a}
function Vb(b,a){var e=v(b),k=e-a-(b.b&1);b.b=(e^k^a)>>8&16|2|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((a^e)&(e^k)&32768)>>13;b.h=k>>8&255;b.j=k&255}function Wb(b,a){var e=v(b),k=e+a+(b.b&1);b.b=(e^k^a)>>8&16|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((a^e^32768)&(a^k)&32768)>>13;b.h=k>>8&255;b.j=k&255}function u(b,a,e){var k=a+e;b.b=b.b&196|(a^k^e)>>8&16|k>>16&1;return k&65535}function r(b,a){a=a-1&255;b.b=b.b&1|b.L[a];return a}function n(b,a){a=a+1&255;b.b=b.b&1|b.M[a];return a}
function hb(b){b.j=b.j-1&255;255==b.j&&(b.h=b.h-1&255)}function fb(b){b.i=b.i-1&255;255==b.i&&(b.k=b.k-1&255)}function Ia(b){b.f=b.f-1&255;255==b.f&&(b.g=b.g-1&255)}function gb(b){b.j=b.j+1&255;0==b.j&&(b.h=b.h+1&255)}function Xa(b){b.i=b.i+1&255;0==b.i&&(b.k=b.k+1&255)}function yc(b,a){b.u=a>>8;b.s=a&255}function Ib(b,a){b.t=a>>8;b.r=a&255}function Aa(b,a){b.h=a>>8;b.j=a&255}function Z(b){return b.u<<8|b.s}function Y(b){return b.t<<8|b.r}function v(b){return b.h<<8|b.j}
function Va(b){return b.k<<8|b.i}function h(b){return b.g<<8|b.f}function I(b,a){b.b=b.A[b.a<<8|b.a-a&255]}function H(b,a){var e=b.b&1,k=b.a-a-e&255;b.b=b.A[e<<16|b.a<<8|k];b.a=k}function G(b,a){var e=b.a-a&255;b.b=b.A[b.a<<8|e];b.a=e}function F(b,a){var e=b.b&1,k=b.a+a+e&255;b.b=b.B[e<<16|b.a<<8|k];b.a=k}function B(b,a){var e=b.a+a&255;b.b=b.B[b.a<<8|e];b.a=e}
function Jb(b,a){var e=a+z(b)&65535,k=b.d(++b.c);b.o-=Gc[k];switch(k){case 0:b.g=K(b,b.d(e));b.e(e,b.g);break;case 1:b.f=K(b,b.d(e));b.e(e,b.f);break;case 2:b.k=K(b,b.d(e));b.e(e,b.k);break;case 3:b.i=K(b,b.d(e));b.e(e,b.i);break;case 4:b.h=K(b,b.d(e));b.e(e,b.h);break;case 5:b.j=K(b,b.d(e));b.e(e,b.j);break;case 6:b.e(e,K(b,b.d(e)));break;case 7:b.a=K(b,b.d(e));b.e(e,b.a);break;case 8:b.g=L(b,b.d(e));b.e(e,b.g);break;case 9:b.f=L(b,b.d(e));b.e(e,b.f);break;case 10:b.k=L(b,b.d(e));b.e(e,b.k);break;
case 11:b.i=L(b,b.d(e));b.e(e,b.i);break;case 12:b.h=L(b,b.d(e));b.e(e,b.h);break;case 13:b.j=L(b,b.d(e));b.e(e,b.j);break;case 14:b.e(e,L(b,b.d(e)));break;case 15:b.a=L(b,b.d(e));b.e(e,b.a);break;case 16:b.g=M(b,b.d(e));b.e(e,b.g);break;case 17:b.f=M(b,b.d(e));b.e(e,b.f);break;case 18:b.k=M(b,b.d(e));b.e(e,b.k);break;case 19:b.i=M(b,b.d(e));b.e(e,b.i);break;case 20:b.h=M(b,b.d(e));b.e(e,b.h);break;case 21:b.j=M(b,b.d(e));b.e(e,b.j);break;case 22:b.e(e,M(b,b.d(e)));break;case 23:b.a=M(b,b.d(e));b.e(e,
b.a);break;case 24:b.g=N(b,b.d(e));b.e(e,b.g);break;case 25:b.f=N(b,b.d(e));b.e(e,b.f);break;case 26:b.k=N(b,b.d(e));b.e(e,b.k);break;case 27:b.i=N(b,b.d(e));b.e(e,b.i);break;case 28:b.h=N(b,b.d(e));b.e(e,b.h);break;case 29:b.j=N(b,b.d(e));b.e(e,b.j);break;case 30:b.e(e,N(b,b.d(e)));break;case 31:b.a=N(b,b.d(e));b.e(e,b.a);break;case 32:b.g=O(b,b.d(e));b.e(e,b.g);break;case 33:b.f=O(b,b.d(e));b.e(e,b.f);break;case 34:b.k=O(b,b.d(e));b.e(e,b.k);break;case 35:b.i=O(b,b.d(e));b.e(e,b.i);break;case 36:b.h=
O(b,b.d(e));b.e(e,b.h);break;case 37:b.j=O(b,b.d(e));b.e(e,b.j);break;case 38:b.e(e,O(b,b.d(e)));break;case 39:b.a=O(b,b.d(e));b.e(e,b.a);break;case 40:b.g=Q(b,b.d(e));b.e(e,b.g);break;case 41:b.f=Q(b,b.d(e));b.e(e,b.f);break;case 42:b.k=Q(b,b.d(e));b.e(e,b.k);break;case 43:b.i=Q(b,b.d(e));b.e(e,b.i);break;case 44:b.h=Q(b,b.d(e));b.e(e,b.h);break;case 45:b.j=Q(b,b.d(e));b.e(e,b.j);break;case 46:b.e(e,Q(b,b.d(e)));break;case 47:b.a=Q(b,b.d(e));b.e(e,b.a);break;case 48:b.g=R(b,b.d(e));b.e(e,b.g);break;
case 49:b.f=R(b,b.d(e));b.e(e,b.f);break;case 50:b.k=R(b,b.d(e));b.e(e,b.k);break;case 51:b.i=R(b,b.d(e));b.e(e,b.i);break;case 52:b.h=R(b,b.d(e));b.e(e,b.h);break;case 53:b.j=R(b,b.d(e));b.e(e,b.j);break;case 54:b.e(e,R(b,b.d(e)));break;case 55:b.a=R(b,b.d(e));b.e(e,b.a);break;case 56:b.g=S(b,b.d(e));b.e(e,b.g);break;case 57:b.f=S(b,b.d(e));b.e(e,b.f);break;case 58:b.k=S(b,b.d(e));b.e(e,b.k);break;case 59:b.i=S(b,b.d(e));b.e(e,b.i);break;case 60:b.h=S(b,b.d(e));b.e(e,b.h);break;case 61:b.j=S(b,b.d(e));
b.e(e,b.j);break;case 62:b.e(e,S(b,b.d(e)));break;case 63:b.a=S(b,b.d(e));b.e(e,b.a);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:W(b,b.d(e)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:W(b,b.d(e)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:W(b,b.d(e)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:W(b,b.d(e)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:W(b,b.d(e)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:W(b,b.d(e)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:W(b,b.d(e)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:W(b,b.d(e)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:b.e(e,b.d(e)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:b.e(e,b.d(e)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:b.e(e,
b.d(e)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:b.e(e,b.d(e)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:b.e(e,b.d(e)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:b.e(e,b.d(e)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:b.e(e,b.d(e)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:b.e(e,b.d(e)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:b.e(e,
b.d(e)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:b.e(e,b.d(e)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:b.e(e,b.d(e)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:b.e(e,b.d(e)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:b.e(e,b.d(e)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:b.e(e,b.d(e)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:b.e(e,
b.d(e)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:b.e(e,b.d(e)|128)}b.c++}function W(b,a){b.b=b.b&1|b.X[a]}function S(b,a){var e=a&1;a=a>>1&255;b.b=e|b.l[a];return a}function Q(b,a){var e=a&1;a=a>>1|a&128;b.b=e|b.l[a];return a}function R(b,a){var e=(a&128)>>7;a=(a<<1|1)&255;b.b=e|b.l[a];return a}function O(b,a){var e=(a&128)>>7;a=a<<1&255;b.b=e|b.l[a];return a}function N(b,a){var e=a&1;a=(a>>1|b.b<<7)&255;b.b=e|b.l[a];return a}
function M(b,a){var e=(a&128)>>7;a=(a<<1|b.b&1)&255;b.b=e|b.l[a];return a}function L(b,a){var e=a&1;a=(a>>1|a<<7)&255;b.b=e|b.l[a];return a}function K(b,a){var e=(a&128)>>7;a=(a<<1|a>>7)&255;b.b=e|b.l[a];return a}function pb(b,a){b.e(a,r(b,b.d(a)))}function ib(b,a){b.e(a,n(b,b.d(a)))}function Eb(b,a,e){b.e(--b.m,a);b.e(--b.m,e)}function J(b,a){b.e(--b.m,a>>8);b.e(--b.m,a&255)}function Cb(b,a){a&&(b.c=b.q(b.m),b.m+=2,b.o-=6)}function Ya(b){128<=b&&(b-=256);return b}
function Ra(b,a){a?(b.c+=Ya(z(b)+1),b.o-=5):b.c++}function Db(b,a){a?b.c=b.q(b.c):b.c+=2};function ha(b){this.n=b;this.N=this.a=this.w=0}
ha.prototype={reset:function(){this.N=this.a=this.w=255;this.ea=!1},keydown:function(b){switch(b.keyCode){case 38:this.w&=-2;break;case 40:this.w&=-3;break;case 37:this.w&=-5;break;case 39:this.w&=-9;break;case 88:this.w&=-17;break;case 90:this.w&=-33;break;case 13:this.n.S?this.n.ea=!0:this.N&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}b.preventDefault()},
keyup:function(b){switch(b.keyCode){case 38:this.w|=1;break;case 40:this.w|=2;break;case 37:this.w|=4;break;case 39:this.w|=8;break;case 88:this.w|=16;break;case 90:this.w|=32;break;case 13:this.n.S||(this.N|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}b.preventDefault()}};var ya=Number.MIN_VALUE,zc=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function la(b){this.n=b;this.e=this.m=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.l=Array(4)}la.prototype={};function ia(b){this.n=b;var a=0;this.M=0;this.d=Array(16384);this.a=Array(96);for(a=0;96>a;a++)this.a[a]=255;this.c=Array(16);this.e=0;this.m=!1;this.u=this.q=this.L=this.A=this.f=this.l=0;this.t=Array(256);this.I=0;this.b=b.a.ja.data;this.Y=Array(64);this.X=Array(64);this.R=Array(64);this.Q=Array(256);this.P=Array(256);this.O=Array(16);this.g=this.K=this.B=0;this.h=!1;this.r=Array(192);for(a=0;192>a;a++)this.r[a]=Array(25);this.H=Array(512);this.v=Array(512);for(b=this.o=this.s=0;512>b;b++)this.H[b]=
Array(64);var e,k;for(b=0;64>b;b++)a=b&3,e=b>>2&3,k=b>>4&3,this.Y[b]=85*a&255,this.X[b]=85*e&255,this.R[b]=85*k&255;for(b=0;256>b;b++)e=b&15,k=b>>4&15,this.Q[b]=(e<<4|e)&255,this.P[b]=(k<<4|k)&255;for(b=0;16>b;b++)this.O[b]=(b<<4|b)&255}
ia.prototype={reset:function(){var b;this.m=!0;for(b=this.A=this.e=this.u=this.f=0;16>b;b++)this.c[b]=0;this.c[2]=14;this.c[5]=126;this.n.b.K=!1;this.h=!0;this.s=512;this.o=-1;for(b=0;16384>b;b++)this.d[b]=0;for(b=0;196608>b;b+=4)this.b[b]=0,this.b[b+1]=0,this.b[b+2]=0,this.b[b+3]=255}};function Sc(b){b.I=(b.c[2]&14)<<10;b.s=0;b.o=511;for(var a=0,e=b.v.length;a<e;a++)b.v[a]=!0;b.g=(b.c[5]&-130)<<7;b.h=!0};function ga(b){this.n=b;this.reset=function(){};this.updateStatus=function(){};this.ja={data:[]}}
window.$&&($.fn.JSSMSUI=function(b){function a(a){this.n=a;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(e).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var m=this;a=$("<div></div>");var t=$('<div id="screen"></div>'),p=$('<div class="gamepad"><div class="direction"><div class="up"></div><div class="right"></div><div class="left"></div><div class="down"></div></div><div class="buttons"><div class="start"></div><div class="fire1"></div><div class="fire2"></div></div></div>'),y=
$('<div id="controls"></div>'),E=Fc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),fa=Fc(["requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window),A;if(fa)this.requestAnimationFrame=window[fa].bind(window);else{var Fa=0;this.requestAnimationFrame=function(a){var b=Cc(),e=Math.max(0,16-(b-Fa));window.setTimeout(function(){a(b+e)},e);Fa=b+e}}this.screen=$("<canvas width=256 height=192 moz-opaque></canvas>");this.Z=this.screen[0].getContext("2d");
this.Z.webkitImageSmoothingEnabled=!1;this.Z.mozImageSmoothingEnabled=!1;this.Z.imageSmoothingEnabled=!1;if(this.Z.getImageData){this.ja=this.Z.getImageData(0,0,256,192);this.la={Ia:{i:$(".up",p),aa:1},Ha:{i:$(".right",p),aa:8},k:{i:$(".down",p),aa:2},j:{i:$(".left",p),aa:4},1:{i:$(".fire1",p),aa:16},2:{i:$(".fire2",p),aa:32}};fa=$(".start",p);this.Da=$('<div id="romSelector"></div>');this.ca=$("<select></select>").change(function(){m.xa()});this.buttons=Object.create(null);this.buttons.start=$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){m.n.da?
(m.n.stop(),m.updateStatus("Paused"),m.buttons.start.attr("value","Start")):(m.n.start(),m.buttons.start.attr("value","Pause"))});this.buttons.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=m.n.ya&&""!=m.n.za&&Bc(m.n,m.n.ya,m.n.za)?(m.n.reset(),Sc(m.n.D),m.n.start()):$(this).attr("disabled","disabled")});this.n.W&&(this.buttons.ga=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){m.n.W?(m.n.W=!1,m.buttons.ga.attr("value",
"Enable sound")):(m.n.W=!0,m.buttons.ga.attr("value","Disable sound"))}));E?this.buttons.Ga=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=t[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.Aa=!1,this.buttons.zoom=$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){m.Aa?(m.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),
m.buttons.zoom.attr("value","Zoom in")):(m.screen.animate({width:"512px",height:"384px"}),m.buttons.zoom.attr("value","Zoom out"));m.Aa=!m.Aa}));for(A in this.buttons)this.buttons[A].appendTo(y);this.log=$('<div id="status"></div>');this.screen.appendTo(t);p.appendTo(t);t.appendTo(a);this.Da.appendTo(a);y.appendTo(a);this.log.appendTo(a);a.appendTo($(e));void 0!=b&&this.Ea(b);$(document).bind("keydown",function(a){m.n.F.keydown(a)}).bind("keyup",function(a){m.n.F.keyup(a)});for(A in this.la)this.la[A].i.on("mousedown touchstart",
function(a){return function(b){m.n.F.w&=~a;b.preventDefault()}}(this.la[A].aa)).on("mouseup touchend",function(a){return function(b){m.n.F.w|=a;b.preventDefault()}}(this.la[A].aa));fa.on("mousedown touchstart",function(a){m.n.S?m.n.ea=!0:m.n.F.N&=-129;a.preventDefault()}).on("mouseup touchend",function(a){m.n.S||(m.n.F.N|=128);a.preventDefault()})}else $(e).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}
var e=this;a.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.empty()},Ea:function(a){var b,e,p,y,E=0;this.ca.children().remove();$("<option>Select a ROM...</option>").appendTo(this.ca);for(b in a){if(a.hasOwnProperty(b)){e=$("<optgroup></optgroup>").attr("label",b);p=a[b].length;for(y=0;y<p;y++)$("<option>"+a[b][y][0]+"</option>").attr("value",a[b][y][1]).appendTo(e);e.appendTo(this.ca)}E++}E&&this.ca.appendTo(this.Da)},xa:function(){var a=this;this.updateStatus("Downloading...");
$.ajax({url:escape(this.ca.val()),xhr:function(){var b=$.ajaxSettings.xhr();void 0!=b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=b},complete:function(b,e){var p;"error"==e?a.updateStatus("The selected ROM file could not be loaded."):(p=b.responseText,a.n.stop(),Bc(a.n,p,a.ca.val()),a.n.reset(),Sc(a.n.D),a.enable())}})},enable:function(){this.buttons.start.removeAttr("disabled");this.buttons.start.attr("value","Start");this.buttons.reset.removeAttr("disabled");
this.n.W&&(this.buttons.ga?this.buttons.ga.attr("value","Disable sound"):this.buttons.ga.attr("value","Enable sound"))},updateStatus:function(a){this.log.text(a)},Fa:function(){var a=Fc(["hidden","mozHidden","webkitHidden","msHidden"]);return a?function(){document[a]||this.Z.putImageData(this.ja,0,0)}:function(){this.Z.putImageData(this.ja,0,0)}}()};return a});function na(b){this.n=b;this.D=b.D;this.b=b.c;this.F=b.F;this.a=[]}na.prototype={reset:function(){this.a=Array(2)}};
function Gb(b,a){if(b.n.ba&&7>a)switch(a){case 0:return b.F.N&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(a&193){case 64:var e;a:{e=b.D;if(0==e.M){if(218<e.q){e=e.q-6;break a}}else if(242<e.q){e=e.q-57;break a}e=e.q}return e;case 65:return 0;case 128:e=b.D;e.m=!0;var k=e.L;e.L=e.d[e.f++&16383]&255;return k;case 129:return e=b.D,e.m=!0,k=e.e,e.e=0,e.n.b.K=!1,k;case 192:return b.F.w;case 193:return b.F.a&63|b.a[0]|b.a[1]}return 255}
function X(b,a,e){if(!(b.n.ba&&7>a))switch(a&193){case 1:b.a[0]=(e&32)<<1;b.a[1]=e&128;break;case 128:b=b.D;a=0;b.m=!0;switch(b.A){case 0:case 1:case 2:a=b.f&16383;if(e!=(b.d[a]&255)){if(a>=b.g&&a<b.g+64)b.h=!0;else if(a>=b.g+128&&a<b.g+256)b.h=!0;else{var k=a>>5;b.v[k]=!0;k<b.s&&(b.s=k);k>b.o&&(b.o=k)}b.d[a]=e}break;case 3:b.n.S?(a=3*(b.f&31),b.a[a]=b.Y[e],b.a[a+1]=b.X[e],b.a[a+2]=b.R[e]):(a=3*((b.f&63)>>1),0==(b.f&1)?(b.a[a]=b.Q[e],b.a[a+1]=b.P[e]):b.a[a+2]=b.O[e])}b.f++;break;case 129:b=b.D;if(b.m)b.m=
!1,b.l=e,b.f=b.f&16128|e;else if(b.m=!0,b.A=e>>6&3,b.f=b.l|e<<8,0==b.A)b.L=b.d[b.f++&16383]&255;else if(2==b.A){e&=15;switch(e){case 1:0!=(b.e&128)&&0!=(b.l&32)&&(b.n.b.K=!0);(b.l&3)!=(b.c[e]&3)&&(b.h=!0);break;case 2:b.I=(b.l&14)<<10;break;case 5:a=b.g,b.g=(b.l&-130)<<7,a!=b.g&&(b.h=!0)}b.c[e]=b.l}break;case 64:case 65:if(b.n.W)switch(b=b.b,0!=(e&128)?(b.c=e>>4&7,b.b[b.c]=b.b[b.c]&1008|e&15):b.b[b.c]=0==b.c||2==b.c||4==b.c?b.b[b.c]&15|(e&63)<<4:e&15,b.c){case 0:case 2:case 4:0==b.b[b.c]&&(b.b[b.c]=
1);break;case 6:b.h=16<<(b.b[6]&3),b.f=32768}}};window.JSSMS=da;})(window);
