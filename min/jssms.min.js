/*
jsSMS - A Sega Master System/Game Gear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var ba=!(!window.DataView||!window.ArrayBuffer);function ca(a){this.f={ui:da,swfPath:"lib/"};if(void 0!=a)for(var b in this.f)void 0!=a[b]&&(this.f[b]=a[b]);this.R=new ea(this);this.c=new a.ui(this);this.O=new ia(this);this.d=new ja(this);this.e=new ka(this);this.a=new la(this);this.c.updateStatus("Ready to load a ROM.");this.ui=this.c}
ca.prototype={$a:!1,Fb:0,Ha:0,mb:0,ab:!1,Fa:!0,Ua:!1,Ja:!1,ib:[],jb:0,rb:0,bb:[],Kb:"",Lb:"",Ga:0,reset:function(){var a=this.O.ea,b=0;0==a||this.Ua?(this.mb=60,this.Ha=262,b=3579545):(this.mb=50,this.Ha=313,b=3546893);this.Fb=Math.round(b/this.mb/this.Ha+1);this.O.ea=a;if(this.Ja){a=this.d;a.o=(b<<8)/16/44100;a.f=0;a.d=0;a.i=16;a.g=32768;for(b=0;4>b;b++)a.c[b<<1]=1,a.c[(b<<1)+1]=15,a.a[b]=0,a.e[b]=1,3!=b&&(a.h[b]=ma);this.rb=Math.round(44100/this.mb);if(0==this.ib.length||this.ib.length!=this.rb)this.ib=
Array(this.rb);if(0==this.bb.length||this.bb.length!=this.Ha){this.bb=Array(this.Ha);for(var d=0,b=0;b<this.Ha;b++)a=(this.rb<<16)/this.Ha+d,d=a-(a>>16<<16),this.bb[b]=a>>16}}this.R.reset();this.c.reset();this.O.reset();this.e.reset();this.a.reset()},start:function(){this.$a||(this.$a=!0,this.c.requestAnimationFrame(this.Nb.bind(this),this.c.screen));this.c.updateStatus("Running")},stop:function(){this.$a=!1},Nb:function(){if(this.$a){var a=this.a;a.Ga=0;for(a.r+=a.q.Fb;;){var b=a;if(1024>b.a)b.P[0][b.a]||
na(b.ua,b.a,0,0),b.P[0][b.a].call(b);else if(16384>b.a)b.P[b.p[0]][b.a]||na(b.ua,b.a,b.p[0],0),b.P[b.p[0]][b.a].call(b);else if(32768>b.a)b.P[b.p[1]][b.a-16384]||na(b.ua,b.a,b.p[1],1),b.P[b.p[1]][b.a-16384].call(b);else if(49152>b.a)b.P[b.p[2]][b.a-32768]||na(b.ua,b.a,b.p[2],2),b.P[b.p[2]][b.a-32768].call(b);else{var d=0,l=0,t=b.e(b.a++);b.r-=oa[t];switch(t){case 1:var B=b,A=b.s(b.a++);B.h=A>>8;B.g=A&255;b.a++;break;case 2:b.f(ra(b),b.c);break;case 3:var w=b;w.g=w.g+1&255;0==w.g&&(w.h=w.h+1&255);
break;case 4:b.h=ta(b,b.h);break;case 5:b.h=f(b,b.h);break;case 6:b.h=b.e(b.a++);break;case 7:var y=b,F=y.c>>7;y.c=y.c<<1&255|F;y.d=y.d&236|F;break;case 8:var z=b,ua=z.c;z.c=z.wb;z.wb=ua;ua=z.d;z.d=z.Db;z.Db=ua;break;case 9:va(b,wa(b,k(b),ra(b)));break;case 10:b.c=b.e(ra(b));break;case 11:xa(b);break;case 12:b.g=ta(b,b.g);break;case 13:b.g=f(b,b.g);break;case 14:b.g=b.e(b.a++);break;case 15:var fb=b,nc=fb.c&1;fb.c=fb.c>>1|nc<<7;fb.d=fb.d&236|nc;break;case 16:b.h=b.h-1&255;Aa(b,0!=b.h);break;case 17:var oc=
b,pc=b.s(b.a++);oc.l=pc>>8;oc.j=pc&255;b.a++;break;case 18:b.f(Ca(b),b.c);break;case 19:Da(b);break;case 20:b.l=ta(b,b.l);break;case 21:b.l=f(b,b.l);break;case 22:b.l=b.e(b.a++);break;case 23:var Va=b,pd=Va.c>>7;Va.c=(Va.c<<1|Va.d&1)&255;Va.d=Va.d&236|pd;break;case 24:b.a+=Na(m(b)+1);break;case 25:va(b,wa(b,k(b),Ca(b)));break;case 26:b.c=b.e(Ca(b));break;case 27:Oa(b);break;case 28:b.j=ta(b,b.j);break;case 29:b.j=f(b,b.j);break;case 30:b.j=b.e(b.a++);break;case 31:var Wa=b,qd=Wa.c&1;Wa.c=(Wa.c>>1|
(Wa.d&1)<<7)&255;Wa.d=Wa.d&236|qd;break;case 32:Aa(b,0==(b.d&64));break;case 33:va(b,b.s(b.a++));b.a++;break;case 34:d=b.s(b.a);b.f(d++,b.k);b.f(d,b.i);b.a+=2;break;case 35:Pa(b);break;case 36:b.i=ta(b,b.i);break;case 37:b.i=f(b,b.i);break;case 38:b.i=b.e(b.a++);break;case 39:var Ba=b,rc=Ba.Ob[Ba.c|(Ba.d&1)<<8|(Ba.d&2)<<8|(Ba.d&16)<<6];Ba.c=rc&255;Ba.d=Ba.d&2|rc>>8;break;case 40:Aa(b,0!=(b.d&64));break;case 41:va(b,wa(b,k(b),k(b)));break;case 42:va(b,b.s(b.s(b.a)));b.a+=2;break;case 43:Qa(b);break;
case 44:b.k=ta(b,b.k);break;case 45:b.k=f(b,b.k);break;case 46:b.k=b.e(b.a++);break;case 47:var rb=b;rb.c^=255;rb.d|=18;break;case 48:Aa(b,0==(b.d&1));break;case 49:b.o=b.s(b.a);b.a+=2;break;case 50:b.f(b.s(b.a),b.c);b.a+=2;break;case 51:b.o++;break;case 52:Xa(b,k(b));break;case 53:eb(b,k(b));break;case 54:b.f(k(b),b.e(b.a++));break;case 55:b.d|=1;b.d&=-3;b.d&=-17;break;case 56:Aa(b,0!=(b.d&1));break;case 57:va(b,wa(b,k(b),b.o));break;case 58:b.c=b.e(b.s(b.a));b.a+=2;break;case 59:b.o--;break;case 60:b.c=
ta(b,b.c);break;case 61:b.c=f(b,b.c);break;case 62:b.c=b.e(b.a++);break;case 63:var sa=b;0!=(sa.d&1)?(sa.d&=-2,sa.d|=16):(sa.d|=1,sa.d&=-17);sa.d&=-3;break;case 65:b.h=b.g;break;case 66:b.h=b.l;break;case 67:b.h=b.j;break;case 68:b.h=b.i;break;case 69:b.h=b.k;break;case 70:b.h=b.e(k(b));break;case 71:b.h=b.c;break;case 72:b.g=b.h;break;case 74:b.g=b.l;break;case 75:b.g=b.j;break;case 76:b.g=b.i;break;case 77:b.g=b.k;break;case 78:b.g=b.e(k(b));break;case 79:b.g=b.c;break;case 80:b.l=b.h;break;case 81:b.l=
b.g;break;case 83:b.l=b.j;break;case 84:b.l=b.i;break;case 85:b.l=b.k;break;case 86:b.l=b.e(k(b));break;case 87:b.l=b.c;break;case 88:b.j=b.h;break;case 89:b.j=b.g;break;case 90:b.j=b.l;break;case 92:b.j=b.i;break;case 93:b.j=b.k;break;case 94:b.j=b.e(k(b));break;case 95:b.j=b.c;break;case 96:b.i=b.h;break;case 97:b.i=b.g;break;case 98:b.i=b.l;break;case 99:b.i=b.j;break;case 101:b.i=b.k;break;case 102:b.i=b.e(k(b));break;case 103:b.i=b.c;break;case 104:b.k=b.h;break;case 105:b.k=b.g;break;case 106:b.k=
b.l;break;case 107:b.k=b.j;break;case 108:b.k=b.i;break;case 110:b.k=b.e(k(b));break;case 111:b.k=b.c;break;case 112:b.f(k(b),b.h);break;case 113:b.f(k(b),b.g);break;case 114:b.f(k(b),b.l);break;case 115:b.f(k(b),b.j);break;case 116:b.f(k(b),b.i);break;case 117:b.f(k(b),b.k);break;case 118:b.r=0;b.ta=!0;b.a--;break;case 119:b.f(k(b),b.c);break;case 120:b.c=b.h;break;case 121:b.c=b.g;break;case 122:b.c=b.l;break;case 123:b.c=b.j;break;case 124:b.c=b.i;break;case 125:b.c=b.k;break;case 126:b.c=b.e(k(b));
break;case 128:n(b,b.h);break;case 129:n(b,b.g);break;case 130:n(b,b.l);break;case 131:n(b,b.j);break;case 132:n(b,b.i);break;case 133:n(b,b.k);break;case 134:n(b,b.e(k(b)));break;case 135:n(b,b.c);break;case 136:gb(b,b.h);break;case 137:gb(b,b.g);break;case 138:gb(b,b.l);break;case 139:gb(b,b.j);break;case 140:gb(b,b.i);break;case 141:gb(b,b.k);break;case 142:gb(b,b.e(k(b)));break;case 143:gb(b,b.c);break;case 144:p(b,b.h);break;case 145:p(b,b.g);break;case 146:p(b,b.l);break;case 147:p(b,b.j);break;
case 148:p(b,b.i);break;case 149:p(b,b.k);break;case 150:p(b,b.e(k(b)));break;case 151:p(b,b.c);break;case 152:ob(b,b.h);break;case 153:ob(b,b.g);break;case 154:ob(b,b.l);break;case 155:ob(b,b.j);break;case 156:ob(b,b.i);break;case 157:ob(b,b.k);break;case 158:ob(b,b.e(k(b)));break;case 159:ob(b,b.c);break;case 160:b.d=b.m[b.c&=b.h]|16;break;case 161:b.d=b.m[b.c&=b.g]|16;break;case 162:b.d=b.m[b.c&=b.l]|16;break;case 163:b.d=b.m[b.c&=b.j]|16;break;case 164:b.d=b.m[b.c&=b.i]|16;break;case 165:b.d=
b.m[b.c&=b.k]|16;break;case 166:b.d=b.m[b.c&=b.e(k(b))]|16;break;case 167:b.d=b.m[b.c]|16;break;case 168:b.d=b.m[b.c^=b.h];break;case 169:b.d=b.m[b.c^=b.g];break;case 170:b.d=b.m[b.c^=b.l];break;case 171:b.d=b.m[b.c^=b.j];break;case 172:b.d=b.m[b.c^=b.i];break;case 173:b.d=b.m[b.c^=b.k];break;case 174:b.d=b.m[b.c^=b.e(k(b))];break;case 175:b.d=b.m[b.c=0];break;case 176:b.d=b.m[b.c|=b.h];break;case 177:b.d=b.m[b.c|=b.g];break;case 178:b.d=b.m[b.c|=b.l];break;case 179:b.d=b.m[b.c|=b.j];break;case 180:b.d=
b.m[b.c|=b.i];break;case 181:b.d=b.m[b.c|=b.k];break;case 182:b.d=b.m[b.c|=b.e(k(b))];break;case 183:b.d=b.m[b.c];break;case 184:q(b,b.h);break;case 185:q(b,b.g);break;case 186:q(b,b.l);break;case 187:q(b,b.j);break;case 188:q(b,b.i);break;case 189:q(b,b.k);break;case 190:q(b,b.e(k(b)));break;case 191:q(b,b.c);break;case 192:pb(b,0==(b.d&64));break;case 193:var sc=b,tc=b.s(b.o);sc.h=tc>>8;sc.g=tc&255;b.o+=2;break;case 194:qb(b,0==(b.d&64));break;case 195:b.a=b.s(b.a);break;case 196:b.call(0==(b.d&
64));break;case 197:sb(b,b.h,b.g);break;case 198:n(b,b.e(b.a++));break;case 199:tb(b,b.a);b.a=0;break;case 200:pb(b,0!=(b.d&64));break;case 201:b.a=b.s(b.o);b.o+=2;break;case 202:qb(b,0!=(b.d&64));break;case 203:var c=b,uc=b.e(b.a++);c.r-=Bb[uc];switch(uc){case 0:c.h=r(c,c.h);break;case 1:c.g=r(c,c.g);break;case 2:c.l=r(c,c.l);break;case 3:c.j=r(c,c.j);break;case 4:c.i=r(c,c.i);break;case 5:c.k=r(c,c.k);break;case 6:c.f(k(c),r(c,c.e(k(c))));break;case 7:c.c=r(c,c.c);break;case 8:c.h=s(c,c.h);break;
case 9:c.g=s(c,c.g);break;case 10:c.l=s(c,c.l);break;case 11:c.j=s(c,c.j);break;case 12:c.i=s(c,c.i);break;case 13:c.k=s(c,c.k);break;case 14:c.f(k(c),s(c,c.e(k(c))));break;case 15:c.c=s(c,c.c);break;case 16:c.h=v(c,c.h);break;case 17:c.g=v(c,c.g);break;case 18:c.l=v(c,c.l);break;case 19:c.j=v(c,c.j);break;case 20:c.i=v(c,c.i);break;case 21:c.k=v(c,c.k);break;case 22:c.f(k(c),v(c,c.e(k(c))));break;case 23:c.c=v(c,c.c);break;case 24:c.h=x(c,c.h);break;case 25:c.g=x(c,c.g);break;case 26:c.l=x(c,c.l);
break;case 27:c.j=x(c,c.j);break;case 28:c.i=x(c,c.i);break;case 29:c.k=x(c,c.k);break;case 30:c.f(k(c),x(c,c.e(k(c))));break;case 31:c.c=x(c,c.c);break;case 32:c.h=D(c,c.h);break;case 33:c.g=D(c,c.g);break;case 34:c.l=D(c,c.l);break;case 35:c.j=D(c,c.j);break;case 36:c.i=D(c,c.i);break;case 37:c.k=D(c,c.k);break;case 38:c.f(k(c),D(c,c.e(k(c))));break;case 39:c.c=D(c,c.c);break;case 40:c.h=G(c,c.h);break;case 41:c.g=G(c,c.g);break;case 42:c.l=G(c,c.l);break;case 43:c.j=G(c,c.j);break;case 44:c.i=
G(c,c.i);break;case 45:c.k=G(c,c.k);break;case 46:c.f(k(c),G(c,c.e(k(c))));break;case 47:c.c=G(c,c.c);break;case 48:c.h=H(c,c.h);break;case 49:c.g=H(c,c.g);break;case 50:c.l=H(c,c.l);break;case 51:c.j=H(c,c.j);break;case 52:c.i=H(c,c.i);break;case 53:c.k=H(c,c.k);break;case 54:c.f(k(c),H(c,c.e(k(c))));break;case 55:c.c=H(c,c.c);break;case 56:c.h=K(c,c.h);break;case 57:c.g=K(c,c.g);break;case 58:c.l=K(c,c.l);break;case 59:c.j=K(c,c.j);break;case 60:c.i=K(c,c.i);break;case 61:c.k=K(c,c.k);break;case 62:c.f(k(c),
K(c,c.e(k(c))));break;case 63:c.c=K(c,c.c);break;case 64:L(c,c.h&1);break;case 65:L(c,c.g&1);break;case 66:L(c,c.l&1);break;case 67:L(c,c.j&1);break;case 68:L(c,c.i&1);break;case 69:L(c,c.k&1);break;case 70:L(c,c.e(k(c))&1);break;case 71:L(c,c.c&1);break;case 72:L(c,c.h&2);break;case 73:L(c,c.g&2);break;case 74:L(c,c.l&2);break;case 75:L(c,c.j&2);break;case 76:L(c,c.i&2);break;case 77:L(c,c.k&2);break;case 78:L(c,c.e(k(c))&2);break;case 79:L(c,c.c&2);break;case 80:L(c,c.h&4);break;case 81:L(c,c.g&
4);break;case 82:L(c,c.l&4);break;case 83:L(c,c.j&4);break;case 84:L(c,c.i&4);break;case 85:L(c,c.k&4);break;case 86:L(c,c.e(k(c))&4);break;case 87:L(c,c.c&4);break;case 88:L(c,c.h&8);break;case 89:L(c,c.g&8);break;case 90:L(c,c.l&8);break;case 91:L(c,c.j&8);break;case 92:L(c,c.i&8);break;case 93:L(c,c.k&8);break;case 94:L(c,c.e(k(c))&8);break;case 95:L(c,c.c&8);break;case 96:L(c,c.h&16);break;case 97:L(c,c.g&16);break;case 98:L(c,c.l&16);break;case 99:L(c,c.j&16);break;case 100:L(c,c.i&16);break;
case 101:L(c,c.k&16);break;case 102:L(c,c.e(k(c))&16);break;case 103:L(c,c.c&16);break;case 104:L(c,c.h&32);break;case 105:L(c,c.g&32);break;case 106:L(c,c.l&32);break;case 107:L(c,c.j&32);break;case 108:L(c,c.i&32);break;case 109:L(c,c.k&32);break;case 110:L(c,c.e(k(c))&32);break;case 111:L(c,c.c&32);break;case 112:L(c,c.h&64);break;case 113:L(c,c.g&64);break;case 114:L(c,c.l&64);break;case 115:L(c,c.j&64);break;case 116:L(c,c.i&64);break;case 117:L(c,c.k&64);break;case 118:L(c,c.e(k(c))&64);break;
case 119:L(c,c.c&64);break;case 120:L(c,c.h&128);break;case 121:L(c,c.g&128);break;case 122:L(c,c.l&128);break;case 123:L(c,c.j&128);break;case 124:L(c,c.i&128);break;case 125:L(c,c.k&128);break;case 126:L(c,c.e(k(c))&128);break;case 127:L(c,c.c&128);break;case 128:c.h&=-2;break;case 129:c.g&=-2;break;case 130:c.l&=-2;break;case 131:c.j&=-2;break;case 132:c.i&=-2;break;case 133:c.k&=-2;break;case 134:c.f(k(c),c.e(k(c))&-2);break;case 135:c.c&=-2;break;case 136:c.h&=-3;break;case 137:c.g&=-3;break;
case 138:c.l&=-3;break;case 139:c.j&=-3;break;case 140:c.i&=-3;break;case 141:c.k&=-3;break;case 142:c.f(k(c),c.e(k(c))&-3);break;case 143:c.c&=-3;break;case 144:c.h&=-5;break;case 145:c.g&=-5;break;case 146:c.l&=-5;break;case 147:c.j&=-5;break;case 148:c.i&=-5;break;case 149:c.k&=-5;break;case 150:c.f(k(c),c.e(k(c))&-5);break;case 151:c.c&=-5;break;case 152:c.h&=-9;break;case 153:c.g&=-9;break;case 154:c.l&=-9;break;case 155:c.j&=-9;break;case 156:c.i&=-9;break;case 157:c.k&=-9;break;case 158:c.f(k(c),
c.e(k(c))&-9);break;case 159:c.c&=-9;break;case 160:c.h&=-17;break;case 161:c.g&=-17;break;case 162:c.l&=-17;break;case 163:c.j&=-17;break;case 164:c.i&=-17;break;case 165:c.k&=-17;break;case 166:c.f(k(c),c.e(k(c))&-17);break;case 167:c.c&=-17;break;case 168:c.h&=-33;break;case 169:c.g&=-33;break;case 170:c.l&=-33;break;case 171:c.j&=-33;break;case 172:c.i&=-33;break;case 173:c.k&=-33;break;case 174:c.f(k(c),c.e(k(c))&-33);break;case 175:c.c&=-33;break;case 176:c.h&=-65;break;case 177:c.g&=-65;break;
case 178:c.l&=-65;break;case 179:c.j&=-65;break;case 180:c.i&=-65;break;case 181:c.k&=-65;break;case 182:c.f(k(c),c.e(k(c))&-65);break;case 183:c.c&=-65;break;case 184:c.h&=-129;break;case 185:c.g&=-129;break;case 186:c.l&=-129;break;case 187:c.j&=-129;break;case 188:c.i&=-129;break;case 189:c.k&=-129;break;case 190:c.f(k(c),c.e(k(c))&-129);break;case 191:c.c&=-129;break;case 192:c.h|=1;break;case 193:c.g|=1;break;case 194:c.l|=1;break;case 195:c.j|=1;break;case 196:c.i|=1;break;case 197:c.k|=1;break;
case 198:c.f(k(c),c.e(k(c))|1);break;case 199:c.c|=1;break;case 200:c.h|=2;break;case 201:c.g|=2;break;case 202:c.l|=2;break;case 203:c.j|=2;break;case 204:c.i|=2;break;case 205:c.k|=2;break;case 206:c.f(k(c),c.e(k(c))|2);break;case 207:c.c|=2;break;case 208:c.h|=4;break;case 209:c.g|=4;break;case 210:c.l|=4;break;case 211:c.j|=4;break;case 212:c.i|=4;break;case 213:c.k|=4;break;case 214:c.f(k(c),c.e(k(c))|4);break;case 215:c.c|=4;break;case 216:c.h|=8;break;case 217:c.g|=8;break;case 218:c.l|=8;
break;case 219:c.j|=8;break;case 220:c.i|=8;break;case 221:c.k|=8;break;case 222:c.f(k(c),c.e(k(c))|8);break;case 223:c.c|=8;break;case 224:c.h|=16;break;case 225:c.g|=16;break;case 226:c.l|=16;break;case 227:c.j|=16;break;case 228:c.i|=16;break;case 229:c.k|=16;break;case 230:c.f(k(c),c.e(k(c))|16);break;case 231:c.c|=16;break;case 232:c.h|=32;break;case 233:c.g|=32;break;case 234:c.l|=32;break;case 235:c.j|=32;break;case 236:c.i|=32;break;case 237:c.k|=32;break;case 238:c.f(k(c),c.e(k(c))|32);break;
case 239:c.c|=32;break;case 240:c.h|=64;break;case 241:c.g|=64;break;case 242:c.l|=64;break;case 243:c.j|=64;break;case 244:c.i|=64;break;case 245:c.k|=64;break;case 246:c.f(k(c),c.e(k(c))|64);break;case 247:c.c|=64;break;case 248:c.h|=128;break;case 249:c.g|=128;break;case 250:c.l|=128;break;case 251:c.j|=128;break;case 252:c.i|=128;break;case 253:c.k|=128;break;case 254:c.f(k(c),c.e(k(c))|128);break;case 255:c.c|=128}break;case 204:b.call(0!=(b.d&64));break;case 205:tb(b,b.a+2);b.a=b.s(b.a);break;
case 206:gb(b,b.e(b.a++));break;case 207:tb(b,b.a);b.a=8;break;case 208:pb(b,0==(b.d&1));break;case 209:var wc=b,xc=b.s(b.o);wc.l=xc>>8;wc.j=xc&255;b.o+=2;break;case 210:qb(b,0==(b.d&1));break;case 211:Cb(b.port,b.e(b.a++),b.c);break;case 212:b.call(0==(b.d&1));break;case 213:sb(b,b.l,b.j);break;case 214:p(b,b.e(b.a++));break;case 215:tb(b,b.a);b.a=16;break;case 216:pb(b,0!=(b.d&1));break;case 217:var Ea=b,Hb=Ea.h;Ea.h=Ea.xb;Ea.xb=Hb;Hb=Ea.g;Ea.g=Ea.yb;Ea.yb=Hb;var Fa=b,Ib=Fa.l;Fa.l=Fa.zb;Fa.zb=Ib;
Ib=Fa.j;Fa.j=Fa.Ab;Fa.Ab=Ib;var Ga=b,Jb=Ga.i;Ga.i=Ga.Eb;Ga.Eb=Jb;Jb=Ga.k;Ga.k=Ga.Gb;Ga.Gb=Jb;break;case 218:qb(b,0!=(b.d&1));break;case 219:b.c=Db(b.port,b.e(b.a++));break;case 220:b.call(0!=(b.d&1));break;case 221:var g=b,yc=b.e(b.a++),Ya=0,Kb=0;g.r-=Eb[yc];switch(yc){case 9:Fb(g,wa(g,M(g),ra(g)));break;case 25:Fb(g,wa(g,M(g),Ca(g)));break;case 33:Fb(g,g.s(g.a));g.a+=2;break;case 34:Ya=g.s(g.a);g.f(Ya++,g.t);g.f(Ya,g.v);g.a+=2;break;case 35:var hb=g;hb.t=hb.t+1&255;0==hb.t&&(hb.v=hb.v+1&255);break;
case 36:g.v=ta(g,g.v);break;case 37:g.v=f(g,g.v);break;case 38:g.v=g.e(g.a++);break;case 41:Fb(g,wa(g,M(g),M(g)));break;case 42:Ya=g.s(g.a);g.t=g.e(Ya++);g.v=g.e(Ya);g.a+=2;break;case 43:var ib=g;ib.t=ib.t-1&255;255==ib.t&&(ib.v=ib.v-1&255);break;case 44:g.t=ta(g,g.t);break;case 45:g.t=f(g,g.t);break;case 46:g.t=g.e(g.a++);break;case 52:Xa(g,M(g)+m(g));g.a++;break;case 53:eb(g,M(g)+m(g));g.a++;break;case 54:g.f(M(g)+m(g),g.e(++g.a));g.a++;break;case 57:Fb(g,wa(g,M(g),g.o));break;case 68:g.h=g.v;break;
case 69:g.h=g.t;break;case 70:g.h=g.e(M(g)+m(g));g.a++;break;case 76:g.g=g.v;break;case 77:g.g=g.t;break;case 78:g.g=g.e(M(g)+m(g));g.a++;break;case 84:g.l=g.v;break;case 85:g.l=g.t;break;case 86:g.l=g.e(M(g)+m(g));g.a++;break;case 92:g.j=g.v;break;case 93:g.j=g.t;break;case 94:g.j=g.e(M(g)+m(g));g.a++;break;case 96:g.v=g.h;break;case 97:g.v=g.g;break;case 98:g.v=g.l;break;case 99:g.v=g.j;break;case 100:break;case 101:g.v=g.t;break;case 102:g.i=g.e(M(g)+m(g));g.a++;break;case 103:g.v=g.c;break;case 104:g.t=
g.h;break;case 105:g.t=g.g;break;case 106:g.t=g.l;break;case 107:g.t=g.j;break;case 108:g.t=g.v;break;case 109:break;case 110:g.k=g.e(M(g)+m(g));g.a++;break;case 111:g.t=g.c;break;case 112:g.f(M(g)+m(g),g.h);g.a++;break;case 113:g.f(M(g)+m(g),g.g);g.a++;break;case 114:g.f(M(g)+m(g),g.l);g.a++;break;case 115:g.f(M(g)+m(g),g.j);g.a++;break;case 116:g.f(M(g)+m(g),g.i);g.a++;break;case 117:g.f(M(g)+m(g),g.k);g.a++;break;case 119:g.f(M(g)+m(g),g.c);g.a++;break;case 124:g.c=g.v;break;case 125:g.c=g.t;break;
case 126:g.c=g.e(M(g)+m(g));g.a++;break;case 132:n(g,g.v);break;case 133:n(g,g.t);break;case 134:n(g,g.e(M(g)+m(g)));g.a++;break;case 140:gb(g,g.v);break;case 141:gb(g,g.t);break;case 142:gb(g,g.e(M(g)+m(g)));g.a++;break;case 148:p(g,g.v);break;case 149:p(g,g.t);break;case 150:p(g,g.e(M(g)+m(g)));g.a++;break;case 156:ob(g,g.v);break;case 157:ob(g,g.t);break;case 158:ob(g,g.e(M(g)+m(g)));g.a++;break;case 164:g.d=g.m[g.c&=g.v]|16;break;case 165:g.d=g.m[g.c&=g.t]|16;break;case 166:g.d=g.m[g.c&=g.e(M(g)+
m(g))]|16;g.a++;break;case 172:g.d=g.m[g.c^=g.v];break;case 173:g.d=g.m[g.c^=g.t];break;case 174:g.d=g.m[g.c^=g.e(M(g)+m(g))];g.a++;break;case 180:g.d=g.m[g.c|=g.v];break;case 181:g.d=g.m[g.c|=g.t];break;case 182:g.d=g.m[g.c|=g.e(M(g)+m(g))];g.a++;break;case 188:q(g,g.v);break;case 189:q(g,g.t);break;case 190:q(g,g.e(M(g)+m(g)));g.a++;break;case 203:Gb(g,M(g));break;case 225:Fb(g,g.s(g.o));g.o+=2;break;case 227:Kb=M(g);Fb(g,g.s(g.o));g.f(g.o,Kb&255);g.f(g.o+1,Kb>>8);break;case 229:sb(g,g.v,g.t);break;
case 233:g.a=M(g);break;case 249:g.o=M(g);break;default:g.a--}break;case 222:ob(b,b.e(b.a++));break;case 223:tb(b,b.a);b.a=24;break;case 224:pb(b,0==(b.d&4));break;case 225:va(b,b.s(b.o));b.o+=2;break;case 226:qb(b,0==(b.d&4));break;case 227:l=b.i;b.i=b.e(b.o+1);b.f(b.o+1,l);l=b.k;b.k=b.e(b.o);b.f(b.o,l);break;case 228:b.call(0==(b.d&4));break;case 229:sb(b,b.i,b.k);break;case 230:b.d=b.m[b.c&=b.e(b.a++)]|16;break;case 231:tb(b,b.a);b.a=32;break;case 232:pb(b,0!=(b.d&4));break;case 233:b.a=k(b);break;
case 234:qb(b,0!=(b.d&4));break;case 235:l=b.l;b.l=b.i;b.i=l;l=b.j;b.j=b.k;b.k=l;break;case 236:b.call(0!=(b.d&4));break;case 237:var e=b,Ac=m(b),E=0,P=0;e.r-=Lb[Ac];switch(Ac){case 64:e.h=Db(e.port,e.g);e.d=e.d&1|e.m[e.h];e.a++;break;case 65:Cb(e.port,e.g,e.h);e.a++;break;case 66:Ob(e,ra(e));e.a++;break;case 67:P=e.s(++e.a);e.f(P++,e.g);e.f(P,e.h);e.a+=2;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:E=e.c;e.c=0;p(e,E);e.a++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:e.a=
e.s(e.o);e.o+=2;e.W=e.X;break;case 70:case 78:case 102:case 110:e.Ca=0;e.a++;break;case 71:e.hb=e.c;e.a++;break;case 72:e.g=Db(e.port,e.g);e.d=e.d&1|e.m[e.g];e.a++;break;case 73:Cb(e.port,e.g,e.g);e.a++;break;case 74:ac(e,ra(e));e.a++;break;case 75:var Cc=e,Dc=e.s(e.s(++e.a));Cc.h=Dc>>8;Cc.g=Dc&255;e.a+=2;break;case 79:e.a++;break;case 80:e.l=Db(e.port,e.g);e.d=e.d&1|e.m[e.l];e.a++;break;case 81:Cb(e.port,e.g,e.l);e.a++;break;case 82:Ob(e,Ca(e));e.a++;break;case 83:P=e.s(++e.a);e.f(P++,e.j);e.f(P,
e.l);e.a+=2;break;case 86:case 118:e.Ca=1;e.a++;break;case 87:e.c=e.hb;e.d=e.d&1|e.vb[e.c]|(e.X?4:0);e.a++;break;case 88:e.j=Db(e.port,e.g);e.d=e.d&1|e.m[e.j];e.a++;break;case 89:Cb(e.port,e.g,e.j);e.a++;break;case 90:ac(e,Ca(e));e.a++;break;case 91:var Ec=e,Fc=e.s(e.s(++e.a));Ec.l=Fc>>8;Ec.j=Fc&255;e.a+=2;break;case 95:e.c=Math.round(255*Math.random());e.d=e.d&1|e.vb[e.c]|(e.X?4:0);e.a++;break;case 96:e.i=Db(e.port,e.g);e.d=e.d&1|e.m[e.i];e.a++;break;case 97:Cb(e.port,e.g,e.i);e.a++;break;case 98:Ob(e,
k(e));e.a++;break;case 99:P=e.s(++e.a);e.f(P++,e.k);e.f(P,e.i);e.a+=2;break;case 103:P=k(e);E=e.e(P);e.f(P,E>>4|(e.c&15)<<4);e.c=e.c&240|E&15;e.d=e.d&1|e.m[e.c];e.a++;break;case 104:e.k=Db(e.port,e.g);e.d=e.d&1|e.m[e.k];e.a++;break;case 105:Cb(e.port,e.g,e.k);e.a++;break;case 106:ac(e,k(e));e.a++;break;case 107:va(e,e.s(e.s(++e.a)));e.a+=2;break;case 111:P=k(e);E=e.e(P);e.f(P,(E&15)<<4|e.c&15);e.c=e.c&240|E>>4;e.d=e.d&1|e.m[e.c];e.a++;break;case 113:Cb(e.port,e.g,0);e.a++;break;case 114:Ob(e,e.o);
e.a++;break;case 115:P=e.s(++e.a);e.f(P++,e.o&255);e.f(P,e.o>>8);e.a+=2;break;case 120:e.c=Db(e.port,e.g);e.d=e.d&1|e.m[e.c];e.a++;break;case 121:Cb(e.port,e.g,e.c);e.a++;break;case 122:ac(e,e.o);e.a++;break;case 123:e.o=e.s(e.s(++e.a));e.a+=2;break;case 160:e.f(Ca(e),e.e(k(e)));Da(e);Pa(e);xa(e);e.d=e.d&193|(0!=ra(e)?4:0);e.a++;break;case 161:E=e.d&1|2;q(e,e.e(k(e)));Pa(e);xa(e);E|=0==ra(e)?0:4;e.d=e.d&248|E;e.a++;break;case 162:E=Db(e.port,e.g);e.f(k(e),E);e.h=f(e,e.h);Pa(e);e.d=128==(E&128)?e.d|
2:e.d&-3;e.a++;break;case 163:E=e.e(k(e));Cb(e.port,e.g,E);Pa(e);e.h=f(e,e.h);255<e.k+E?(e.d|=1,e.d|=16):(e.d&=-2,e.d&=-17);e.d=128==(E&128)?e.d|2:e.d&-3;e.a++;break;case 168:e.f(Ca(e),e.e(k(e)));Oa(e);Qa(e);xa(e);e.d=e.d&193|(0!=ra(e)?4:0);e.a++;break;case 169:E=e.d&1|2;q(e,e.e(k(e)));Qa(e);xa(e);E|=0==ra(e)?0:4;e.d=e.d&248|E;e.a++;break;case 170:E=Db(e.port,e.g);e.f(k(e),E);e.h=f(e,e.h);Qa(e);e.d=0!=(E&128)?e.d|2:e.d&-3;e.a++;break;case 171:E=e.e(k(e));Cb(e.port,e.g,E);Qa(e);e.h=f(e,e.h);255<e.k+
E?(e.d|=1,e.d|=16):(e.d&=-2,e.d&=-17);e.d=128==(E&128)?e.d|2:e.d&-3;e.a++;break;case 176:e.f(Ca(e),e.e(k(e)));Da(e);Pa(e);xa(e);0!=ra(e)?(e.d|=4,e.r-=5,e.a--):(e.d&=-5,e.a++);e.d&=-3;e.d&=-17;break;case 177:E=e.d&1|2;q(e,e.e(k(e)));Pa(e);xa(e);E|=0==ra(e)?0:4;0!=(E&4)&&0==(e.d&64)?(e.r-=5,e.a--):e.a++;e.d=e.d&248|E;break;case 178:E=Db(e.port,e.g);e.f(k(e),E);e.h=f(e,e.h);Pa(e);0!=e.h?(e.r-=5,e.a--):e.a++;e.d=128==(E&128)?e.d|2:e.d&-3;break;case 179:E=e.e(k(e));Cb(e.port,e.g,E);e.h=f(e,e.h);Pa(e);
0!=e.h?(e.r-=5,e.a--):e.a++;255<e.k+E?(e.d|=1,e.d|=16):(e.d&=-2,e.d&=-17);e.d=0!=(E&128)?e.d|2:e.d&-3;break;case 184:e.f(Ca(e),e.e(k(e)));Oa(e);Qa(e);xa(e);0!=ra(e)?(e.d|=4,e.r-=5,e.a--):(e.d&=-5,e.a++);e.d&=-3;e.d&=-17;break;case 185:E=e.d&1|2;q(e,e.e(k(e)));Qa(e);xa(e);E|=0==ra(e)?0:4;0!=(E&4)&&0==(e.d&64)?(e.r-=5,e.a--):e.a++;e.d=e.d&248|E;break;case 186:E=Db(e.port,e.g);e.f(k(e),E);e.h=f(e,e.h);Qa(e);0!=e.h?(e.r-=5,e.a--):e.a++;e.d=0!=(E&128)?e.d|2:e.d&-3;break;case 187:E=e.e(k(e));Cb(e.port,
e.g,E);e.h=f(e,e.h);Qa(e);0!=e.h?(e.r-=5,e.a--):e.a++;255<e.k+E?(e.d|=1,e.d|=16):(e.d&=-2,e.d&=-17);e.d=0!=(E&128)?e.d|2:e.d&-3;break;default:e.a++}break;case 238:b.d=b.m[b.c^=b.e(b.a++)];break;case 239:tb(b,b.a);b.a=40;break;case 240:pb(b,0==(b.d&128));break;case 241:var Gc=b,Hc=b.s(b.o);Gc.c=Hc>>8;Gc.d=Hc&255;b.o+=2;break;case 242:qb(b,0==(b.d&128));break;case 243:b.W=b.X=!1;break;case 244:b.call(0==(b.d&128));break;case 245:sb(b,b.c,b.d);break;case 246:b.d=b.m[b.c|=b.e(b.a++)];break;case 247:tb(b,
b.a);b.a=48;break;case 248:pb(b,0!=(b.d&128));break;case 249:b.o=k(b);break;case 250:qb(b,0!=(b.d&128));break;case 251:b.W=b.X=!0;break;case 252:b.call(0!=(b.d&128));break;case 253:var h=b,Ic=b.e(b.a++),Za=void 0,Mb=void 0;h.r-=Eb[Ic];switch(Ic){case 9:bc(h,wa(h,N(h),ra(h)));break;case 25:bc(h,wa(h,N(h),Ca(h)));break;case 33:bc(h,h.s(h.a));h.a+=2;break;case 34:Za=h.s(h.a);h.f(Za++,h.u);h.f(Za,h.w);h.a+=2;break;case 35:var jb=h;jb.u=jb.u+1&255;0==jb.u&&(jb.w=jb.w+1&255);break;case 36:h.w=ta(h,h.w);
break;case 37:h.w=f(h,h.w);break;case 38:h.w=h.e(h.a++);break;case 41:bc(h,wa(h,N(h),N(h)));break;case 42:Za=h.s(h.a);h.u=h.e(Za++);h.w=h.e(Za);h.a+=2;break;case 43:var kb=h;kb.u=kb.u-1&255;255==kb.u&&(kb.w=kb.w-1&255);break;case 44:h.u=ta(h,h.u);break;case 45:h.u=f(h,h.u);break;case 46:h.u=h.e(h.a++);break;case 52:Xa(h,N(h)+m(h));h.a++;break;case 53:eb(h,N(h)+m(h));h.a++;break;case 54:h.f(N(h)+m(h),h.e(++h.a));h.a++;break;case 57:bc(h,wa(h,N(h),h.o));break;case 68:h.h=h.w;break;case 69:h.h=h.u;break;
case 70:h.h=h.e(N(h)+m(h));h.a++;break;case 76:h.g=h.w;break;case 77:h.g=h.u;break;case 78:h.g=h.e(N(h)+m(h));h.a++;break;case 84:h.l=h.w;break;case 85:h.l=h.u;break;case 86:h.l=h.e(N(h)+m(h));h.a++;break;case 92:h.j=h.w;break;case 93:h.j=h.u;break;case 94:h.j=h.e(N(h)+m(h));h.a++;break;case 96:h.w=h.h;break;case 97:h.w=h.g;break;case 98:h.w=h.l;break;case 99:h.w=h.j;break;case 100:break;case 101:h.w=h.u;break;case 102:h.i=h.e(N(h)+m(h));h.a++;break;case 103:h.w=h.c;break;case 104:h.u=h.h;break;case 105:h.u=
h.g;break;case 106:h.u=h.l;break;case 107:h.u=h.j;break;case 108:h.u=h.w;break;case 109:break;case 110:h.k=h.e(N(h)+m(h));h.a++;break;case 111:h.u=h.c;break;case 112:h.f(N(h)+m(h),h.h);h.a++;break;case 113:h.f(N(h)+m(h),h.g);h.a++;break;case 114:h.f(N(h)+m(h),h.l);h.a++;break;case 115:h.f(N(h)+m(h),h.j);h.a++;break;case 116:h.f(N(h)+m(h),h.i);h.a++;break;case 117:h.f(N(h)+m(h),h.k);h.a++;break;case 119:h.f(N(h)+m(h),h.c);h.a++;break;case 124:h.c=h.w;break;case 125:h.c=h.u;break;case 126:h.c=h.e(N(h)+
m(h));h.a++;break;case 132:n(h,h.w);break;case 133:n(h,h.u);break;case 134:n(h,h.e(N(h)+m(h)));h.a++;break;case 140:gb(h,h.w);break;case 141:gb(h,h.u);break;case 142:gb(h,h.e(N(h)+m(h)));h.a++;break;case 148:p(h,h.w);break;case 149:p(h,h.u);break;case 150:p(h,h.e(N(h)+m(h)));h.a++;break;case 156:ob(h,h.w);break;case 157:ob(h,h.u);break;case 158:ob(h,h.e(N(h)+m(h)));h.a++;break;case 164:h.d=h.m[h.c&=h.w]|16;break;case 165:h.d=h.m[h.c&=h.u]|16;break;case 166:h.d=h.m[h.c&=h.e(N(h)+m(h))]|16;h.a++;break;
case 172:h.d=h.m[h.c^=h.w];break;case 173:h.d=h.m[h.c^=h.u];break;case 174:h.d=h.m[h.c^=h.e(N(h)+m(h))];h.a++;break;case 180:h.d=h.m[h.c|=h.w];break;case 181:h.d=h.m[h.c|=h.u];break;case 182:h.d=h.m[h.c|=h.e(N(h)+m(h))];h.a++;break;case 188:q(h,h.w);break;case 189:q(h,h.u);break;case 190:q(h,h.e(N(h)+m(h)));h.a++;break;case 203:Gb(h,N(h));break;case 225:bc(h,h.s(h.o));h.o+=2;break;case 227:Mb=N(h);bc(h,h.s(h.o));h.f(h.o,Mb&255);h.f(h.o+1,Mb>>8);break;case 229:sb(h,h.w,h.u);break;case 233:h.a=N(h);
break;case 249:h.o=N(h);break;default:h.a--}break;case 254:q(b,b.e(b.a++));break;case 255:tb(b,b.a),b.a=56}}var ub;if(ub=0>=a.r){var O=a;if(O.q.Ja){var Ra=O.q,Jc=O.Ga;0==Jc&&(Ra.jb=0);for(var Kc=Ra.bb[Jc],C=Ra.d,rd=Ra.jb,Lc=[],Nb=0,J=0;Nb<Kc;Nb++){for(J=0;3>J;J++)C.m[J]=C.h[J]!=ma?cc[C.c[(J<<1)+1]]*C.h[J]>>8:cc[C.c[(J<<1)+1]]*C.e[J];C.m[3]=cc[C.c[7]]*(C.g&1)<<1;var lb=C.m[0]+C.m[1]+C.m[2]+C.m[3];127<lb?lb=127:-128>lb&&(lb=-128);Lc[rd+Nb]=lb;C.f+=C.o;var Sa=C.f>>8,Pb=Sa<<8;C.f-=Pb;C.a[0]-=Sa;C.a[1]-=
Sa;C.a[2]-=Sa;C.a[3]=128==C.i?C.a[2]:C.a[3]-Sa;for(J=0;3>J;J++){var Mc=C.a[J];if(0>=Mc){var Qb=C.c[J<<1];6<Qb?(C.h[J]=(Pb-C.f+512*Mc<<8)*C.e[J]/(Pb+C.f),C.e[J]=-C.e[J]):(C.e[J]=1,C.h[J]=ma);C.a[J]+=Qb*(Sa/Qb+1)}else C.h[J]=ma}if(0>=C.a[3]&&(C.e[3]=-C.e[3],128!=C.i&&(C.a[3]+=C.i*(Sa/C.i+1)),1==C.e[3])){var Nc=0,Nc=0!=(C.c[6]&4)?0!=(C.g&9)&&0!=(C.g&9^9)?1:0:C.g&1;C.g=C.g>>1|Nc<<15}}Ra.ib=Lc;Ra.jb+=Kc}O.O.s=O.Ga;if(192>O.Ga){var u=O.O,fa=O.Ga,$a=0,vb=0,wb=0;if(!u.q.Ua||!(24>fa||168<=fa))if(0!=(u.d[1]&
64)){if(-1!=u.r){for(var ab=u.u;ab<=u.r;ab++)if(u.M[ab]){u.M[ab]=!1;for(var sd=u.W[ab],td=0,xb=ab<<5,Oc=0;8>Oc;Oc++)for(var ud=u.e[xb++],vd=u.e[xb++],wd=u.e[xb++],xd=u.e[xb++],Ta=128;0!=Ta;Ta>>=1){var ya=0;0!=(ud&Ta)&&(ya|=1);0!=(vd&Ta)&&(ya|=2);0!=(wd&Ta)&&(ya|=4);0!=(xd&Ta)&&(ya|=8);sd[td++]=ya}}u.u=512;u.r=-1}var Ha=0,bb=0,Ia=0,Ja=0,Rb=u.d[8],Pc=u.d[9];16>fa&&0!=(u.d[0]&64)&&(Rb=0);var yd=u.d[0]&128,Qc=32-(Rb>>3)+u.P,mb=fa+Pc>>3;27<mb&&(mb-=28);for(var Sb=(fa+(Pc&7)&7)<<3,Rc=fa<<8,yb=u.P;yb<u.aa;yb++){var Sc=
u.X+((Qc&31)<<1)+(mb<<6),cb=u.e[Sc+1],Tc=(cb&8)<<1,Ka=(yb<<3)+(Rb&7),Uc=0==(cb&4)?Sb:56-Sb,Vc=u.W[(u.e[Sc]&255)+((cb&1)<<8)];if(0==(cb&2))for(Ha=0;8>Ha&&256>Ka;Ha++,Ka++)bb=Vc[Ha+Uc],Ia=4*(Ka+Rc),Ja=3*(bb+Tc),u.v[Ka]=0!=(cb&16)&&0!=bb,u.c[Ia]=u.a[Ja],u.c[Ia+1]=u.a[Ja+1],u.c[Ia+2]=u.a[Ja+2];else for(Ha=7;0<=Ha&&256>Ka;Ha--,Ka++)bb=Vc[Ha+Uc],Ia=4*(Ka+Rc),Ja=3*(bb+Tc),u.v[Ka]=0!=(cb&16)&&0!=bb,u.c[Ia]=u.a[Ja],u.c[Ia+1]=u.a[Ja+1],u.c[Ia+2]=u.a[Ja+2];Qc++;0!=yd&&23==yb&&(mb=fa>>3,Sb=(fa&7)<<3)}if(u.i){u.i=
!1;for(var Tb=0;Tb<u.t.length;Tb++)u.t[Tb][0]=0;var Ub=0==(u.d[1]&2)?8:16;1==(u.d[1]&1)&&(Ub<<=1);for(var zb=0;64>zb;zb++){var La=u.e[u.h+zb]&255;if(208==La)break;La++;240<La&&(La-=256);for(var Ab=La;192>Ab;Ab++)if(Ab-La<Ub){var Ua=u.t[Ab];if(!Ua||8<=Ua[0])break;var Vb=3*Ua[0]+1,Wc=u.h+(zb<<1)+128;Ua[Vb++]=u.e[Wc++]&255;Ua[Vb++]=La;Ua[Vb++]=u.e[Wc]&255;Ua[0]++}}}if(0!=u.t[fa][0]){for(var Ma=0,pa=0,qa=0,Xc=0,nb=u.t[fa],Yc=Math.min(8,nb[0]),Zc=u.d[1]&1,Wb=fa<<8,Xb=3*Yc;Xc<Yc;Xc++){var Yb=nb[Xb--]|(u.d[6]&
4)<<6,zd=nb[Xb--],ga=nb[Xb--]-(u.d[0]&8),$c=fa-zd>>Zc;0!=(u.d[1]&2)&&(Yb&=-2);var ad=u.W[Yb+(($c&8)>>3)],db=0;0>ga&&(db=-ga,ga=0);var bd=db+(($c&7)<<3);if(0==Zc)for(;8>db&&256>ga;db++,ga++)Ma=ad[bd++],0==Ma||u.v[ga]||(pa=4*(ga+Wb),qa=3*(Ma+16),u.c[pa]=u.a[qa],u.c[pa+1]=u.a[qa+1],u.c[pa+2]=u.a[qa+2]);else for(;8>db&&256>ga;db++,ga+=2)Ma=ad[bd++],0==Ma||u.v[ga]||(pa=4*(ga+Wb),qa=3*(Ma+16),u.c[pa]=u.a[qa],u.c[pa+1]=u.a[qa+1],u.c[pa+2]=u.a[qa+2]),0==Ma||u.v[ga+1]||(pa=4*(ga+Wb+1),qa=3*(Ma+16),u.c[pa]=
u.a[qa],u.c[pa+1]=u.a[qa+1],u.c[pa+2]=u.a[qa+2])}8<=nb[0]&&(u.f|=64)}if(u.q.Fa&&0!=(u.d[0]&32))for(vb=4*(fa<<8),wb=3*((u.d[7]&15)+16),$a=0;8>$a;$a++)u.c[vb+$a]=u.a[wb],u.c[vb+$a+1]=u.a[wb+1],u.c[vb+$a+2]=u.a[wb+2]}else for(var za=fa<<8,Ad=4*(za+1024),Zb=3*((u.d[7]&15)+16),za=4*za;za<Ad;za+=4)u.c[za]=u.a[Zb],u.c[za+1]=u.a[Zb+1],u.c[za+2]=u.a[Zb+2]}var aa=O.O,$b=O.Ga;192>=$b?(192==$b&&(aa.f|=128),0==aa.w?(aa.w=aa.d[10],aa.f|=4):aa.w--,0!=(aa.f&4)&&0!=(aa.d[0]&16)&&(aa.q.a.aa=!0)):(aa.w=aa.d[10],0!=
(aa.f&128)&&(0!=(aa.d[1]&32)&&224>$b)&&(aa.q.a.aa=!0));if(O.aa){var I=O;I.W&&(I.ta&&(I.a++,I.ta=!1),I.W=I.X=!1,I.aa=!1,tb(I,I.a),0==I.Ca?(I.a=0==I.Ea||255==I.Ea?56:I.Ea,I.r-=13):1==I.Ca?(I.a=56,I.r-=13):(I.a=I.s((I.hb<<8)+I.Ea),I.r-=19))}O.Ga++;if(O.Ga>=O.q.Ha){var ha=O;ha.q.ab&&(ha.X=ha.W,ha.W=!1,ha.ta&&(ha.a++,ha.ta=!1),tb(ha,ha.a),ha.a=102,ha.r-=11,ha.q.ab=!1);ha.q.c.Gc();ub=!0}else O.r+=O.q.Fb,ub=!1}if(ub)break}this.c.requestAnimationFrame(this.Nb.bind(this),this.c.screen)}},Ib:function(a,b){0!=
b%1024&&(a=a.substr(512),b-=512);var d,l,t=Math.round(b/16384),B=Array(t);for(d=0;d<t;d++)if(B[d]=dc(16384),ba)for(l=0;16384>l;l++)B[d].setUint8(l,a.charCodeAt(16384*d+l));else for(l=0;16384>l;l++)B[d][l]=a.charCodeAt(16384*d+l)&255;return B}};
function ec(a,b,d){var l,t=".gg"==d.substr(-3).toLowerCase()?2:1;l=b.length;1==t?(a.Fa=!0,a.Ua=!1,a.O.P=0,a.O.aa=32):2==t&&(a.Ua=!0,a.Fa=!1,a.O.P=5,a.O.aa=27);if(16384>=l)return!1;l=a.Ib(b,l);if(null==l)return!1;var t=a.a,B=0;l&&(t.F=l);if(t.F.length){t.ca=t.F.length;t.Ia=t.ca-1;for(B=0;3>B;B++)t.p[B]=B%t.ca;t.p[3]=0;t.P=Array(t.ca);for(B=0;B<t.ca;B++)t.P[B]=Object.create(null);l=t.ua;t=t.F;l.F=t;l.c=new fc(t,l.a.p)}else t.ca=0,t.Ia=0;a.Kb=b;a.Lb=d;return!0};var dc=ba?function(a){return new DataView(new ArrayBuffer(a))}:Array;function gc(a,b){var d,l;b.call(null,a);for(d in a)a.hasOwnProperty(d)&&(l=a[d],"object"===typeof l&&null!==l&&(a[d]=gc(l,b)));return a}var hc=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function ic(a){a=a.toString(16).toUpperCase();a.length%2&&(a="0"+a);return"0x"+a}
function jc(a,b){var d=!1;void 0==b&&(b=document);a.some(function(a){return a in b?(d=a,!0):!1});return d};var oa=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Bb=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Eb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],kc=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Lb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function la(a){this.q=a;this.O=a.O;this.port=a.e;this.Ca=this.o=this.a=0;this.aa=this.ta=this.X=this.W=!1;this.r=this.Db=this.d=this.hb=this.w=this.u=this.v=this.t=this.Gb=this.Eb=this.k=this.i=this.Ab=this.zb=this.j=this.l=this.yb=this.xb=this.g=this.h=this.wb=this.c=this.Ea=0;this.F=[];this.Y=dc(32768);this.p=Array(4);this.ca=this.Ia=0;this.U=dc(8192);this.Ob=Array(2048);this.vb=Array(256);this.m=Array(256);this.ra=Array(256);this.ea=Array(256);this.N=Array(131072);this.M=Array(131072);this.La=
Array(256);var b,d,l,t,B,A;for(a=0;256>a;a++)b=0!=(a&128)?128:0,d=0==a?64:0,l=a&32,t=a&8,B=lc(a)?4:0,this.vb[a]=b|d|l|t,this.m[a]=b|d|l|t|B,this.ra[a]=b|d|l|t,this.ra[a]|=128==a?4:0,this.ra[a]|=0==(a&15)?16:0,this.ea[a]=b|d|l|t|2,this.ea[a]|=127==a?4:0,this.ea[a]|=15==(a&15)?16:0,this.La[a]=0!=a?a&128:68,this.La[a]|=l|t|16;a=0;b=65536;d=0;l=65536;for(B=0;256>B;B++)for(A=0;256>A;A++)t=A-B,this.N[a]=0!=A?0!=(A&128)?128:0:64,this.N[a]|=A&40,(A&15)<(B&15)&&(this.N[a]|=16),A<B&&(this.N[a]|=1),0!=((t^B^
128)&(t^A)&128)&&(this.N[a]|=4),a++,t=A-B-1,this.N[b]=0!=A?0!=(A&128)?128:0:64,this.N[b]|=A&40,(A&15)<=(B&15)&&(this.N[b]|=16),A<=B&&(this.N[b]|=1),0!=((t^B^128)&(t^A)&128)&&(this.N[b]|=4),b++,t=B-A,this.M[d]=0!=A?0!=(A&128)?130:2:66,this.M[d]|=A&40,(A&15)>(B&15)&&(this.M[d]|=16),A>B&&(this.M[d]|=1),0!=((t^B)&(B^A)&128)&&(this.M[d]|=4),d++,t=B-A-1,this.M[l]=0!=A?0!=(A&128)?130:2:66,this.M[l]|=A&40,(A&15)>=(B&15)&&(this.M[l]|=16),A>=B&&(this.M[l]|=1),0!=((t^B)&(B^A)&128)&&(this.M[l]|=4),l++;for(a=
256;a--;)for(b=0;1>=b;b++)for(d=0;1>=d;d++)for(l=0;1>=l;l++){t=this.Ob;B=b<<8|l<<9|d<<10|a;A=b|l<<1|d<<4;this.c=a;this.d=A;var w=this.c,y=0,F=A&1,z=F;if(0!=(A&16)||9<(w&15))y|=6;if(1==F||159<w||143<w&&9<(w&15))y|=96,z=1;153<w&&(z=1);0!=(A&2)?p(this,y):n(this,y);A=this.d&254|z;A=lc(this.c)?A&251|4:A&251;t[B]=this.c|A<<8}this.c=this.d=0;if(ba)for(a=0;8192>a;a++)this.U.setUint8(a,0);else for(a=0;8192>a;a++)this.U[a]=0;if(ba)for(a=0;32768>a;a++)this.Y.setUint8(a,0);else for(a=0;32768>a;a++)this.Y[a]=
0;this.ca=2;for(a=0;4>a;a++)this.p[a]=a%3;this.ua=new mc(this)}
la.prototype={reset:function(){this.a=this.Db=this.d=this.hb=this.u=this.w=this.t=this.v=this.i=this.k=this.Eb=this.Gb=this.l=this.j=this.zb=this.Ab=this.h=this.g=this.xb=this.yb=this.c=this.wb=0;this.o=57328;this.Ca=this.r=0;this.X=this.W=!1;this.Ea=0;this.ta=!1;this.ua.reset()},P:[Object.create(null),Object.create(null),Object.create(null)],call:function(a){a?(tb(this,this.a+2),this.a=this.s(this.a),this.r-=7):this.a+=2},f:ba?function(a,b){65535>=a&&(this.U.setInt8(a&8191,b),65532==a?this.p[3]=
b:65533==a?this.p[0]=b&this.Ia:65534==a?this.p[1]=b&this.Ia:65535==a&&(this.p[2]=b&this.Ia))}:function(a,b){65535>=a&&(this.U[a&8191]=b,65532==a?this.p[3]=b:65533==a?this.p[0]=b&this.Ia:65534==a?this.p[1]=b&this.Ia:65535==a&&(this.p[2]=b&this.Ia))},e:ba?function(a){return 1024>a?this.F[0].getUint8(a):16384>a?this.F[this.p[0]].getUint8(a):32768>a?this.F[this.p[1]].getUint8(a-16384):49152>a?8==(this.p[3]&12)?this.Y.getUint8(a-32768):12==(this.p[3]&12)?this.Y.getUint8(a-16384):this.F[this.p[2]].getUint8(a-
32768):57344>a?this.U.getUint8(a-49152):65532>a?this.U.getUint8(a-57344):65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0}:function(a){return 1024>a?this.F[0][a]:16384>a?this.F[this.p[0]][a]:32768>a?this.F[this.p[1]][a-16384]:49152>a?8==(this.p[3]&12)?this.Y[a-32768]:12==(this.p[3]&12)?this.Y[a-16384]:this.F[this.p[2]][a-32768]:57344>a?this.U[a-49152]:65532>a?this.U[a-57344]:65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0},s:ba?function(a){return 1024>
a?this.F[0].getUint16(a,!0):16384>a?this.F[this.p[0]].getUint16(a,!0):32768>a?this.F[this.p[1]].getUint16(a-16384,!0):49152>a?8==(this.p[3]&12)?this.Y[a-32768]:12==(this.p[3]&12)?this.Y[a-16384]:this.F[this.p[2]].getUint16(a-32768,!0):57344>a?this.U.getUint16(a-49152,!0):65532>a?this.U.getUint16(a-57344,!0):65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0}:function(a){return 1024>a?this.F[0][a]|this.F[0][++a]<<8:16384>a?this.F[this.p[0]][a]|this.F[this.p[0]][++a]<<8:32768>
a?this.F[this.p[1]][a-16384]|this.F[this.p[1]][++a-16384]<<8:49152>a?8==(this.p[3]&12)?this.Y[a-32768]|this.Y[++a-32768]<<8:12==(this.p[3]&12)?this.Y[a-16384]|this.Y[++a-16384]<<8:this.F[this.p[2]][a-32768]|this.F[this.p[2]][++a-32768]<<8:57344>a?this.U[a-49152]|this.U[++a-49152]<<8:65532>a?this.U[a-57344]|this.U[++a-57344]<<8:65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0}};function m(a){return a.e(a.a)}
function lc(a){var b=!0,d;for(d=0;8>d;d++)0!=(a&1<<d)&&(b=!b);return b}function Ob(a,b){var d=k(a),l=d-b-(a.d&1);a.d=(d^l^b)>>8&16|2|l>>16&1|l>>8&128|(0!=(l&65535)?0:64)|((b^d)&(d^l)&32768)>>13;a.i=l>>8&255;a.k=l&255}function ac(a,b){var d=k(a),l=d+b+(a.d&1);a.d=(d^l^b)>>8&16|l>>16&1|l>>8&128|(0!=(l&65535)?0:64)|((b^d^32768)&(b^l)&32768)>>13;a.i=l>>8&255;a.k=l&255}function wa(a,b,d){var l=b+d;a.d=a.d&196|(b^l^d)>>8&16|l>>16&1;return l&65535}function f(a,b){b=b-1&255;a.d=a.d&1|a.ea[b];return b}
function ta(a,b){b=b+1&255;a.d=a.d&1|a.ra[b];return b}function Qa(a){a.k=a.k-1&255;255==a.k&&(a.i=a.i-1&255)}function Oa(a){a.j=a.j-1&255;255==a.j&&(a.l=a.l-1&255)}function xa(a){a.g=a.g-1&255;255==a.g&&(a.h=a.h-1&255)}function Pa(a){a.k=a.k+1&255;0==a.k&&(a.i=a.i+1&255)}function Da(a){a.j=a.j+1&255;0==a.j&&(a.l=a.l+1&255)}function bc(a,b){a.w=b>>8;a.u=b&255}function Fb(a,b){a.v=b>>8;a.t=b&255}function va(a,b){a.i=b>>8;a.k=b&255}function N(a){return a.w<<8|a.u}function M(a){return a.v<<8|a.t}
function k(a){return a.i<<8|a.k}function Ca(a){return a.l<<8|a.j}function ra(a){return a.h<<8|a.g}function q(a,b){a.d=a.M[a.c<<8|a.c-b&255]}function ob(a,b){var d=a.d&1,l=a.c-b-d&255;a.d=a.M[d<<16|a.c<<8|l];a.c=l}function p(a,b){var d=a.c-b&255;a.d=a.M[a.c<<8|d];a.c=d}function gb(a,b){var d=a.d&1,l=a.c+b+d&255;a.d=a.N[d<<16|a.c<<8|l];a.c=l}function n(a,b){var d=a.c+b&255;a.d=a.N[a.c<<8|d];a.c=d}
function Gb(a,b){var d=b+m(a)&65535,l=a.e(++a.a);a.r-=kc[l];switch(l){case 0:a.h=r(a,a.e(d));a.f(d,a.h);break;case 1:a.g=r(a,a.e(d));a.f(d,a.g);break;case 2:a.l=r(a,a.e(d));a.f(d,a.l);break;case 3:a.j=r(a,a.e(d));a.f(d,a.j);break;case 4:a.i=r(a,a.e(d));a.f(d,a.i);break;case 5:a.k=r(a,a.e(d));a.f(d,a.k);break;case 6:a.f(d,r(a,a.e(d)));break;case 7:a.c=r(a,a.e(d));a.f(d,a.c);break;case 8:a.h=s(a,a.e(d));a.f(d,a.h);break;case 9:a.g=s(a,a.e(d));a.f(d,a.g);break;case 10:a.l=s(a,a.e(d));a.f(d,a.l);break;
case 11:a.j=s(a,a.e(d));a.f(d,a.j);break;case 12:a.i=s(a,a.e(d));a.f(d,a.i);break;case 13:a.k=s(a,a.e(d));a.f(d,a.k);break;case 14:a.f(d,s(a,a.e(d)));break;case 15:a.c=s(a,a.e(d));a.f(d,a.c);break;case 16:a.h=v(a,a.e(d));a.f(d,a.h);break;case 17:a.g=v(a,a.e(d));a.f(d,a.g);break;case 18:a.l=v(a,a.e(d));a.f(d,a.l);break;case 19:a.j=v(a,a.e(d));a.f(d,a.j);break;case 20:a.i=v(a,a.e(d));a.f(d,a.i);break;case 21:a.k=v(a,a.e(d));a.f(d,a.k);break;case 22:a.f(d,v(a,a.e(d)));break;case 23:a.c=v(a,a.e(d));a.f(d,
a.c);break;case 24:a.h=x(a,a.e(d));a.f(d,a.h);break;case 25:a.g=x(a,a.e(d));a.f(d,a.g);break;case 26:a.l=x(a,a.e(d));a.f(d,a.l);break;case 27:a.j=x(a,a.e(d));a.f(d,a.j);break;case 28:a.i=x(a,a.e(d));a.f(d,a.i);break;case 29:a.k=x(a,a.e(d));a.f(d,a.k);break;case 30:a.f(d,x(a,a.e(d)));break;case 31:a.c=x(a,a.e(d));a.f(d,a.c);break;case 32:a.h=D(a,a.e(d));a.f(d,a.h);break;case 33:a.g=D(a,a.e(d));a.f(d,a.g);break;case 34:a.l=D(a,a.e(d));a.f(d,a.l);break;case 35:a.j=D(a,a.e(d));a.f(d,a.j);break;case 36:a.i=
D(a,a.e(d));a.f(d,a.i);break;case 37:a.k=D(a,a.e(d));a.f(d,a.k);break;case 38:a.f(d,D(a,a.e(d)));break;case 39:a.c=D(a,a.e(d));a.f(d,a.c);break;case 40:a.h=G(a,a.e(d));a.f(d,a.h);break;case 41:a.g=G(a,a.e(d));a.f(d,a.g);break;case 42:a.l=G(a,a.e(d));a.f(d,a.l);break;case 43:a.j=G(a,a.e(d));a.f(d,a.j);break;case 44:a.i=G(a,a.e(d));a.f(d,a.i);break;case 45:a.k=G(a,a.e(d));a.f(d,a.k);break;case 46:a.f(d,G(a,a.e(d)));break;case 47:a.c=G(a,a.e(d));a.f(d,a.c);break;case 48:a.h=H(a,a.e(d));a.f(d,a.h);break;
case 49:a.g=H(a,a.e(d));a.f(d,a.g);break;case 50:a.l=H(a,a.e(d));a.f(d,a.l);break;case 51:a.j=H(a,a.e(d));a.f(d,a.j);break;case 52:a.i=H(a,a.e(d));a.f(d,a.i);break;case 53:a.k=H(a,a.e(d));a.f(d,a.k);break;case 54:a.f(d,H(a,a.e(d)));break;case 55:a.c=H(a,a.e(d));a.f(d,a.c);break;case 56:a.h=K(a,a.e(d));a.f(d,a.h);break;case 57:a.g=K(a,a.e(d));a.f(d,a.g);break;case 58:a.l=K(a,a.e(d));a.f(d,a.l);break;case 59:a.j=K(a,a.e(d));a.f(d,a.j);break;case 60:a.i=K(a,a.e(d));a.f(d,a.i);break;case 61:a.k=K(a,a.e(d));
a.f(d,a.k);break;case 62:a.f(d,K(a,a.e(d)));break;case 63:a.c=K(a,a.e(d));a.f(d,a.c);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:L(a,a.e(d)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:L(a,a.e(d)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:L(a,a.e(d)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:L(a,a.e(d)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:L(a,a.e(d)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:L(a,a.e(d)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:L(a,a.e(d)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:L(a,a.e(d)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:a.f(d,a.e(d)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:a.f(d,a.e(d)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:a.f(d,
a.e(d)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:a.f(d,a.e(d)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:a.f(d,a.e(d)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:a.f(d,a.e(d)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:a.f(d,a.e(d)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:a.f(d,a.e(d)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:a.f(d,
a.e(d)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:a.f(d,a.e(d)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:a.f(d,a.e(d)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:a.f(d,a.e(d)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:a.f(d,a.e(d)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:a.f(d,a.e(d)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:a.f(d,
a.e(d)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:a.f(d,a.e(d)|128)}a.a++}function L(a,b){a.d=a.d&1|a.La[b]}function K(a,b){var d=b&1;b=b>>1&255;a.d=d|a.m[b];return b}function G(a,b){var d=b&1;b=b>>1|b&128;a.d=d|a.m[b];return b}function H(a,b){var d=(b&128)>>7;b=(b<<1|1)&255;a.d=d|a.m[b];return b}function D(a,b){var d=(b&128)>>7;b=b<<1&255;a.d=d|a.m[b];return b}function x(a,b){var d=b&1;b=(b>>1|a.d<<7)&255;a.d=d|a.m[b];return b}
function v(a,b){var d=(b&128)>>7;b=(b<<1|a.d&1)&255;a.d=d|a.m[b];return b}function s(a,b){var d=b&1;b=(b>>1|b<<7)&255;a.d=d|a.m[b];return b}function r(a,b){var d=(b&128)>>7;b=(b<<1|b>>7)&255;a.d=d|a.m[b];return b}function eb(a,b){a.f(b,f(a,a.e(b)))}function Xa(a,b){a.f(b,ta(a,a.e(b)))}function sb(a,b,d){a.f(--a.o,b);a.f(--a.o,d)}function tb(a,b){a.f(--a.o,b>>8);a.f(--a.o,b&255)}function pb(a,b){b&&(a.a=a.s(a.o),a.o+=2,a.r-=6)}function Na(a){128<=a&&(a-=256);return a}
function Aa(a,b){b?(a.a+=Na(m(a)+1),a.r-=5):a.a++}function qb(a,b){b?a.a=a.s(a.a):a.a+=2};function ea(a){this.q=a;this.ga=this.a=this.K=0}
ea.prototype={reset:function(){this.ga=this.a=this.K=255;this.ab=!1},keydown:function(a){switch(a.keyCode){case 38:this.K&=-2;break;case 40:this.K&=-3;break;case 37:this.K&=-5;break;case 39:this.K&=-9;break;case 88:this.K&=-17;break;case 90:this.K&=-33;break;case 13:this.q.Fa?this.q.ab=!0:this.ga&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}a.preventDefault()},
keyup:function(a){switch(a.keyCode){case 38:this.K|=1;break;case 40:this.K|=2;break;case 37:this.K|=4;break;case 39:this.K|=8;break;case 88:this.K|=16;break;case 90:this.K|=32;break;case 13:this.q.Fa||(this.ga|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}a.preventDefault()}};var ma=Number.MIN_VALUE,cc=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ja(a){this.q=a;this.f=this.o=0;this.c=Array(8);this.d=0;this.a=Array(4);this.e=Array(4);this.h=Array(3);this.i=16;this.g=32768;this.m=Array(4)}ja.prototype={};function ia(a){this.q=a;var b=0;this.ea=0;this.e=Array(16384);this.a=Array(96);for(b=0;96>b;b++)this.a[b]=255;this.d=Array(16);this.f=0;this.o=!1;this.w=this.s=this.ca=this.N=this.g=this.m=0;this.v=Array(256);this.X=0;this.c=a.c.lb.data;this.La=Array(64);this.Ea=Array(64);this.Ca=Array(64);this.ua=Array(256);this.ta=Array(256);this.ra=Array(16);this.h=this.aa=this.P=0;this.i=!1;this.t=Array(192);for(b=0;192>b;b++)this.t[b]=Array(25);this.W=Array(512);this.M=Array(512);for(a=this.r=this.u=0;512>a;a++)this.W[a]=
Array(64);var d,l;for(a=0;64>a;a++)b=a&3,d=a>>2&3,l=a>>4&3,this.La[a]=85*b&255,this.Ea[a]=85*d&255,this.Ca[a]=85*l&255;for(a=0;256>a;a++)d=a&15,l=a>>4&15,this.ua[a]=(d<<4|d)&255,this.ta[a]=(l<<4|l)&255;for(a=0;16>a;a++)this.ra[a]=(a<<4|a)&255}
ia.prototype={reset:function(){var a;this.o=!0;for(a=this.N=this.f=this.w=this.g=0;16>a;a++)this.d[a]=0;this.d[2]=14;this.d[5]=126;this.q.a.aa=!1;this.i=!0;this.u=512;this.r=-1;for(a=0;16384>a;a++)this.e[a]=0;for(a=0;196608>a;a+=4)this.c[a]=0,this.c[a+1]=0,this.c[a+2]=0,this.c[a+3]=255}};function qc(a){a.X=(a.d[2]&14)<<10;a.u=0;a.r=511;for(var b=0,d=a.M.length;b<d;b++)a.M[b]=!0;a.h=(a.d[5]&-130)<<7;a.i=!0};function da(a){this.q=a;this.reset=function(){};this.updateStatus=function(){};this.lb={data:[]}}
window.$&&($.fn.JSSMSUI=function(a){function b(b){this.q=b;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(d).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var t=this;b=$("<div></div>");var B=$('<div id="screen"></div>'),A=$('<div class="gamepad"><div class="direction"><div class="up"></div><div class="right"></div><div class="left"></div><div class="down"></div></div><div class="buttons"><div class="start"></div><div class="fire1"></div><div class="fire2"></div></div></div>'),w=
$('<div id="controls"></div>'),y=jc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),F=jc(["requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window),z;if(F)this.requestAnimationFrame=window[F].bind(window);else{var ua=0;this.requestAnimationFrame=function(a){var b=hc(),d=Math.max(0,16-(b-ua));window.setTimeout(function(){a(b+d)},d);ua=b+d}}this.screen=$("<canvas width=256 height=192 moz-opaque></canvas>");this.Ma=this.screen[0].getContext("2d");
this.Ma.webkitImageSmoothingEnabled=!1;this.Ma.mozImageSmoothingEnabled=!1;this.Ma.imageSmoothingEnabled=!1;if(this.Ma.getImageData){this.lb=this.Ma.getImageData(0,0,256,192);this.nb={Mc:{j:$(".up",A),Oa:1},Kc:{j:$(".right",A),Oa:8},l:{j:$(".down",A),Oa:2},k:{j:$(".left",A),Oa:4},1:{j:$(".fire1",A),Oa:16},2:{j:$(".fire2",A),Oa:32}};F=$(".start",A);this.Qb=$('<div id="romSelector"></div>');this.Wa=$("<select></select>").change(function(){t.Ib()});this.buttons=Object.create(null);this.buttons.start=
$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){t.q.$a?(t.q.stop(),t.updateStatus("Paused"),t.buttons.start.attr("value","Start")):(t.q.start(),t.buttons.start.attr("value","Pause"))});this.buttons.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=t.q.Kb&&""!=t.q.Lb&&ec(t.q,t.q.Kb,t.q.Lb)?(t.q.reset(),qc(t.q.O),t.q.start()):$(this).attr("disabled","disabled")});this.q.Ja&&(this.buttons.cb=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){t.q.Ja?
(t.q.Ja=!1,t.buttons.cb.attr("value","Enable sound")):(t.q.Ja=!0,t.buttons.cb.attr("value","Disable sound"))}));y?this.buttons.Ic=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=B[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.Mb=!1,this.buttons.zoom=$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){t.Mb?(t.screen.animate({width:"256px",
height:"192px"},function(){$(this).removeAttr("style")}),t.buttons.zoom.attr("value","Zoom in")):(t.screen.animate({width:"512px",height:"384px"}),t.buttons.zoom.attr("value","Zoom out"));t.Mb=!t.Mb}));for(z in this.buttons)this.buttons[z].appendTo(w);this.log=$('<div id="status"></div>');this.screen.appendTo(B);A.appendTo(B);B.appendTo(b);this.Qb.appendTo(b);w.appendTo(b);this.log.appendTo(b);b.appendTo($(d));void 0!=a&&this.Fc(a);$(document).bind("keydown",function(a){t.q.R.keydown(a)}).bind("keyup",
function(a){t.q.R.keyup(a)});for(z in this.nb)this.nb[z].j.on("mousedown touchstart",function(a){return function(b){t.q.R.K&=~a;b.preventDefault()}}(this.nb[z].Oa)).on("mouseup touchend",function(a){return function(b){t.q.R.K|=a;b.preventDefault()}}(this.nb[z].Oa));F.on("mousedown touchstart",function(a){t.q.Fa?t.q.ab=!0:t.q.R.ga&=-129;a.preventDefault()}).on("mouseup touchend",function(a){t.q.Fa||(t.q.R.ga|=128);a.preventDefault()})}else $(d).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}
var d=this;b.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.empty()},Fc:function(a){var b,d,A,w,y=0;this.Wa.children().remove();$("<option>Select a ROM...</option>").appendTo(this.Wa);for(b in a){if(a.hasOwnProperty(b)){d=$("<optgroup></optgroup>").attr("label",b);A=a[b].length;for(w=0;w<A;w++)$("<option>"+a[b][w][0]+"</option>").attr("value",a[b][w][1]).appendTo(d);d.appendTo(this.Wa)}y++}y&&this.Wa.appendTo(this.Qb)},Ib:function(){var a=this;this.updateStatus("Downloading...");
$.ajax({url:escape(this.Wa.val()),xhr:function(){var b=$.ajaxSettings.xhr();void 0!=b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=b},complete:function(b,d){var A;"error"==d?a.updateStatus("The selected ROM file could not be loaded."):(A=b.responseText,a.q.stop(),ec(a.q,A,a.Wa.val()),a.q.reset(),qc(a.q.O),a.enable())}})},enable:function(){this.buttons.start.removeAttr("disabled");this.buttons.start.attr("value","Start");this.buttons.reset.removeAttr("disabled");
this.q.Ja&&(this.buttons.cb?this.buttons.cb.attr("value","Disable sound"):this.buttons.cb.attr("value","Enable sound"))},updateStatus:function(a){this.log.text(a)},Gc:function(){var a=jc(["hidden","mozHidden","webkitHidden","msHidden"]);return a?function(){document[a]||this.Ma.putImageData(this.lb,0,0)}:function(){this.Ma.putImageData(this.lb,0,0)}}()};return b});function ka(a){this.q=a;this.O=a.O;this.c=a.d;this.R=a.R;this.a=[]}ka.prototype={reset:function(){this.a=Array(2)}};
function Db(a,b){if(a.q.Ua&&7>b)switch(b){case 0:return a.R.ga&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(b&193){case 64:var d;a:{d=a.O;if(0==d.ea){if(218<d.s){d=d.s-6;break a}}else if(242<d.s){d=d.s-57;break a}d=d.s}return d;case 65:return 0;case 128:d=a.O;d.o=!0;var l=d.ca;d.ca=d.e[d.g++&16383]&255;return l;case 129:return d=a.O,d.o=!0,l=d.f,d.f=0,d.q.a.aa=!1,l;case 192:return a.R.K;case 193:return a.R.a&63|a.a[0]|a.a[1]}return 255}
function Cb(a,b,d){if(!(a.q.Ua&&7>b))switch(b&193){case 1:a.a[0]=(d&32)<<1;a.a[1]=d&128;break;case 128:a=a.O;b=0;a.o=!0;switch(a.N){case 0:case 1:case 2:b=a.g&16383;if(d!=(a.e[b]&255)){if(b>=a.h&&b<a.h+64)a.i=!0;else if(b>=a.h+128&&b<a.h+256)a.i=!0;else{var l=b>>5;a.M[l]=!0;l<a.u&&(a.u=l);l>a.r&&(a.r=l)}a.e[b]=d}break;case 3:a.q.Fa?(b=3*(a.g&31),a.a[b]=a.La[d],a.a[b+1]=a.Ea[d],a.a[b+2]=a.Ca[d]):(b=3*((a.g&63)>>1),0==(a.g&1)?(a.a[b]=a.ua[d],a.a[b+1]=a.ta[d]):a.a[b+2]=a.ra[d])}a.g++;break;case 129:a=
a.O;if(a.o)a.o=!1,a.m=d,a.g=a.g&16128|d;else if(a.o=!0,a.N=d>>6&3,a.g=a.m|d<<8,0==a.N)a.ca=a.e[a.g++&16383]&255;else if(2==a.N){d&=15;switch(d){case 1:0!=(a.f&128)&&0!=(a.m&32)&&(a.q.a.aa=!0);(a.m&3)!=(a.d[d]&3)&&(a.i=!0);break;case 2:a.X=(a.m&14)<<10;break;case 5:b=a.h,a.h=(a.m&-130)<<7,b!=a.h&&(a.i=!0)}a.d[d]=a.m}break;case 64:case 65:if(a.q.Ja)switch(a=a.c,0!=(d&128)?(a.d=d>>4&7,a.c[a.d]=a.c[a.d]&1008|d&15):a.c[a.d]=0==a.d||2==a.d||4==a.d?a.c[a.d]&15|(d&63)<<4:d&15,a.d){case 0:case 2:case 4:0==
a.c[a.d]&&(a.c[a.d]=1);break;case 6:a.i=16<<(a.c[6]&3),a.g=32768}}};var vc=function(){function a(a,b){this.da=a;this.page=b;this.T=[];this.target=this.S=this.J=null;this.Hb=this.kb=this.ha=!1;this.b=null}var b=function(){return function(a){return a}}();a.prototype={get Dc(){return this.T.length?this.T.map(b).join(" "):""}};return a}();var fc=function(){function a(a,b){this.d=new l(a);this.p=b;this.a=Array(a.length);this.Na=[];this.G=Array(a.length);for(var d=0;d<a.length;d++)this.a[d]=[],this.G[d]=[]}function b(a,b){b.page=a.page;b.Ka(a.da+16384*b.page);var l=b.getUint8(),w=null,y=null,F=!1,z=!1;a.T.push(l);switch(l){case 1:w=b.getUint16();break;case 6:w=b.getUint8();break;case 14:w=b.getUint8();break;case 16:y=b.Q+b.Ta();z=!0;break;case 17:w=b.getUint16();break;case 22:w=b.getUint8();break;case 24:y=b.Q+b.Ta();b.Ka(null);F=!0;
break;case 30:w=b.getUint8();break;case 32:y=b.Q+b.Ta();z=!0;break;case 33:w=b.getUint16();break;case 34:w=b.getUint16();break;case 38:w=b.getUint8();break;case 40:y=b.Q+b.Ta();z=!0;break;case 42:w=b.getUint16();break;case 46:w=b.getUint8();break;case 48:y=b.Q+b.Ta();z=!0;break;case 49:w=b.getUint16();break;case 50:w=b.getUint16();break;case 54:w=b.getUint8();break;case 56:y=b.Q+b.Ta();z=!0;break;case 58:w=b.getUint16();break;case 62:w=b.getUint8();break;case 118:F=!0;break;case 192:z=!0;break;case 194:y=
b.getUint16();z=!0;break;case 195:y=b.getUint16();b.Ka(null);F=!0;break;case 196:y=b.getUint16();z=!0;break;case 198:w=b.getUint8();break;case 199:y=0;F=!0;break;case 200:z=!0;break;case 201:b.Ka(null);F=!0;break;case 202:y=b.getUint16();z=!0;break;case 203:return l=b.getUint8(),a.T.push(l),a.S=b.Q,a;case 204:y=b.getUint16();z=!0;break;case 205:y=b.getUint16();F=!0;break;case 206:w=b.getUint8();break;case 207:y=8;F=!0;break;case 208:z=!0;break;case 210:y=b.getUint16();z=!0;break;case 211:w=b.getUint8();
break;case 212:y=b.getUint16();z=!0;break;case 214:w=b.getUint8();break;case 215:y=16;F=!0;break;case 216:z=!0;break;case 218:y=b.getUint16();z=!0;break;case 219:w=b.getUint8();break;case 220:y=b.getUint16();z=!0;break;case 221:return d(a,b);case 222:w=b.getUint8();break;case 223:y=24;F=!0;break;case 224:z=!0;break;case 226:y=b.getUint16();z=!0;break;case 228:y=b.getUint16();z=!0;break;case 230:w=b.getUint8();break;case 231:y=32;F=!0;break;case 232:z=!0;break;case 233:b.Ka(null);F=!0;break;case 234:y=
b.getUint16();z=!0;break;case 236:y=b.getUint16();z=!0;break;case 237:l=b.getUint8();y=w=null;z=F=!1;a.T.push(l);switch(l){case 67:w=b.getUint16();break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:b.Ka(null);F=!0;break;case 75:w=b.getUint16();break;case 83:w=b.getUint16();break;case 91:w=b.getUint16();break;case 99:w=b.getUint16();break;case 107:w=b.getUint16();break;case 115:w=b.getUint16();break;case 123:w=b.getUint16();break;case 176:y=b.Q-2;z=!0;break;case 177:y=b.Q-2;
z=!0;break;case 178:y=b.Q-2;z=!0;break;case 179:y=b.Q-2;z=!0;break;case 186:y=b.Q-2;z=!0;break;case 187:y=b.Q-2,z=!0}a.S=b.Q;a.J=w;a.target=y;a.ha=F;a.kb=z;return a;case 238:w=b.getUint8();break;case 239:y=40;F=!0;break;case 240:z=!0;break;case 242:y=b.getUint16();z=!0;break;case 244:y=b.getUint16();z=!0;break;case 246:w=b.getUint8();break;case 247:y=48;F=!0;break;case 248:z=!0;break;case 250:y=b.getUint16();z=!0;break;case 252:y=b.getUint16();z=!0;break;case 253:return d(a,b);case 254:w=b.getUint8();
break;case 255:y=56,F=!0}a.S=b.Q;a.J=w;a.target=y;a.ha=F;a.kb=z;return a}function d(b,a){var d=a.getUint8(),l=null,y=!1;b.T.push(d);switch(d){case 33:l=a.getUint16();break;case 34:l=a.getUint16();break;case 38:l=a.getUint8();break;case 42:l=a.getUint16();break;case 46:l=a.getUint8();break;case 52:l=a.getUint8();break;case 53:l=a.getUint8();break;case 54:l=a.getUint16();break;case 70:l=a.getUint8();break;case 78:l=a.getUint8();break;case 86:l=a.getUint8();break;case 94:l=a.getUint8();break;case 102:l=
a.getUint8();break;case 110:l=a.getUint8();break;case 112:l=a.getUint8();break;case 113:l=a.getUint8();break;case 114:l=a.getUint8();break;case 115:l=a.getUint8();break;case 116:l=a.getUint8();break;case 117:l=a.getUint8();break;case 119:l=a.getUint8();break;case 126:l=a.getUint8();break;case 134:l=a.getUint8();break;case 142:l=a.getUint8();break;case 150:l=a.getUint8();break;case 158:l=a.getUint8();break;case 166:l=a.getUint8();break;case 174:l=a.getUint8();break;case 182:l=a.getUint8();break;case 190:l=
a.getUint8();break;case 203:return d=a.getUint8(),l=a.getUint8(),b.T.push(d),b.S=a.Q,b.J=l,b;case 233:a.Ka(null),y=!0}b.S=a.Q;b.J=l;b.ha=y;return b}function l(a){this.F=a;this.a=null;this.page=0}a.prototype={Cc:function(a){this.Na.push(a);this.c(a.da)},parse:function(a){var d,l;void 0==a?(d=0,l=this.d.length-1):(d=0,l=16383);for(a=0;a<this.a.length;a++)for(;this.a[a].length;){var w=this.a[a].shift().da%16384;if(!(w<d||w>l||this.G[a][w])){var y=new vc(w,a);this.G[a][w]=b(y,this.d);null!=this.G[a][w].S&&
(this.G[a][w].S>=d&&this.G[a][w].S<=l)&&this.c(this.G[a][w].S);null!=this.G[a][w].target&&(this.G[a][w].target>=d&&this.G[a][w].target<=l)&&this.c(this.G[a][w].target)}}this.G[0][1023]?this.G[0][1023].ha=!0:this.G[0][1022]&&(this.G[0][1022].ha=!0);d=0;for(l=this.Na.length;d<l;d++)a=this.Na[d].da,w=this.Na[d].Va,this.G[w][a].Hb=!0,this.G[w][a].Pb++;for(a=0;a<this.G.length;a++)for(d=0,l=this.G[a].length;d<l;d++)this.G[a][d]&&(null!=this.G[a][d].S&&this.G[a][this.G[a][d].S]&&this.G[a][this.G[a][d].S].Pb++,
null!=this.G[a][d].target&&(w=Math.floor(this.G[a][d].target/16384),y=this.G[a][d].target%16384,this.G[w]&&this.G[w][y]&&(this.G[w][y].Hb=!0,this.G[w][y].Pb++)))},Jb:function(a){var d=a.da%16384;a=a.Va;var l=16384*a,w=16384*(a+1),y=[],F,z=!0,ua=0;1024>d&&0==a&&(l=0,w=1024);do{this.G[a][d]?F=this.G[a][d]:(F=new vc(d,a),this.G[a][d]=b(F,this.d));if(F.kb&&!z)break;d=F.S%16384;y.push(F);z=!1;ua=d+16384*a}while(null!=d&&ua>=l&&ua<w&&!F.ha);return y},c:function(a){var b=Math.floor(a/16384),d=this.p[b];
this.a[d].push({da:a%16384,Va:d,pb:b})}};l.prototype={get Q(){return this.a},get length(){return 16384*this.F.length},Ka:function(a){this.a=a},getUint8:function(){var a=0,a=this.page,b=this.a&16383,a=ba?this.F[a].getUint8(b):this.F[a][b]&255;this.a++;return a},Ta:function(){var a=0,a=this.page,b=this.a&16383;ba?a=this.F[a].getInt8(b):(a=this.F[a][b]&255,128<=a&&(a-=256));this.a++;return a+1},getUint16:function(){var a=0,a=this.page,b=this.a&16383,a=ba?16383>(b&16383)?this.F[a].getUint16(b,!0):this.F[a].getUint8(b)|
this.F[++a].getUint8(b)<<8:this.F[a][b]&255|(this.F[++a][b]&255)<<8;this.a+=2;return a}};return a}();function zc(a,b,d){void 0==d&&(d=null);return{type:"IfStatement",test:a,consequent:b,alternate:d}}function Q(a){void 0==a&&(a=[]);Array.isArray(a)||(a=[a]);return{type:"BlockStatement",body:a}}function R(a){return{type:"ExpressionStatement",expression:a}}function Bc(){var a;void 0==a&&(a=null);return{type:"ReturnStatement",argument:a}}function S(a){return{type:"Register",name:a}}function T(a){return{type:"Identifier",name:a}}function U(a){return{type:"Literal",value:a,raw:ic(a)}}
function V(a,b){void 0==b&&(b=[]);Array.isArray(b)||(b=[b]);return{type:"CallExpression",callee:T(a),arguments:b}}function W(a,b,d){return{type:"AssignmentExpression",operator:a,left:b,right:d}}function X(a,b,d){return{type:"BinaryExpression",operator:a,left:b,right:d}}function Y(a,b){return{type:"UnaryExpression",operator:a,argument:b}}function cd(a,b){return{type:"MemberExpression",computed:!0,object:a,property:b}}
function dd(a,b,d){return{type:"ConditionalExpression",test:a,consequent:b,alternate:d}}
var Z={fa:function(){return function(){}},n:function(a,b,d){return void 0==b&&void 0==d?function(b){return R(W("=",S(a),U(b)))}:"i"==b&&void 0==d?function(){return[R(W("=",S(a),S("i"))),R(W("=",T("f"),X("|",X("|",X("&",S("f"),T("F_CARRY")),cd(T("SZ_TABLE"),S(a))),dd(T("iff2"),T("F_PARITY"),U(0)))))]}:"r"==b&&void 0==d?function(){return[R(W("=",S(a),V("JSSMS.Utils.rndInt",U(255)))),R(W("=",T("f"),X("|",X("|",X("&",S("f"),T("F_CARRY")),cd(T("SZ_TABLE"),S(a))),dd(T("iff2"),T("F_PARITY"),U(0)))))]}:void 0==
d?function(){return R(W("=",S(a),S(b)))}:"n"==b&&"n"==d?function(b){return R(W("=",S(a),Z.I(U(b))))}:function(){return R(W("=",S(a),Z.I(V("get"+(b+d).toUpperCase()))))}},pa:function(a,b,d){return function(l){return R(W("=",S(a),Z.I(X("+",V("get"+(b+d).toUpperCase()),U(l)))))}},oa:function(a,b,d,l){if(void 0==d&&void 0==l)return function(d){return R(V("set"+(a+b).toUpperCase(),U(d)))};if("n"==d&&"n"==l)return function(d){return R(V("set"+(a+b).toUpperCase(),Z.Sa(U(d))))};throw Error("Wrong parameters number");
},ba:function(a,b,d,l){return void 0==d&&void 0==l?function(d){return R(V("writeMem",[V("get"+(a+b).toUpperCase()),U(d)]))}:"n"==a&&"n"==b&&void 0==l?function(a){return R(V("writeMem",[U(a),S(d)]))}:"n"==a&&"n"==b?function(a){return[R(V("writeMem",[U(a),S(l)])),R(V("writeMem",[U(a+1),S(d)]))]}:function(){return R(V("writeMem",[V("get"+(a+b).toUpperCase()),S(d)]))}},sb:function(a,b){return void 0==a&&void 0==b?function(a){return R(W("=",T("sp"),U(a)))}:function(){return R(W("=",T("sp"),V("get"+(a+
b).toUpperCase())))}},Ra:function(a,b){return void 0==b?function(a){return[R(V("writeMem",U(a))),R(V("writeMem",U(a+1)))]}:function(d){return[R(V("writeMem",[U(d),S(b)])),R(V("writeMem",[U(d+1),S(a)]))]}},na:function(a,b){return void 0==b?function(){return R(W("=",S(a),V("inc8",S(a))))}:"s"==a&&"p"==b?function(){return R(W("=",T("sp"),X("+",T("sp"),U(1))))}:function(){return R(V("incMem",V("getHL")))}},gb:function(a,b){return function(){return R(V("inc"+(a+b).toUpperCase()))}},V:function(a,b){return void 0==
b?function(){return R(W("=",S(a),V("dec8",S(a))))}:"s"==a&&"p"==b?function(){return R(W("=",T("sp"),X("-",T("sp"),U(1))))}:function(){return R(V("decMem",V("getHL")))}},fb:function(a,b){return function(){return R(V("dec"+(a+b).toUpperCase()))}},Pa:function(a,b,d,l){return void 0==l?function(){return R(V("set"+(a+b).toUpperCase(),V("add16",[V("get"+(a+b).toUpperCase()),S(d)])))}:function(){return R(V("set"+(a+b).toUpperCase(),V("add16",[V("get"+(a+b).toUpperCase()),V("get"+(d+l).toUpperCase())])))}},
eb:function(a,b){return void 0==b?function(){return R(V("add16",T(a)))}:function(){return R(V("add16",V("get"+(a+b).toUpperCase())))}},wc:function(){return function(){return R(V("rlca_a"))}},yc:function(){return function(){return R(V("rrca_a"))}},vc:function(){return function(){return R(V("rla_a"))}},xc:function(){return function(){return R(V("rra_a"))}},Xb:function(){return function(){return R(V("daa"))}},Vb:function(){return function(){return R(V("cpl_a"))}},Ac:function(){return function(){return[R(W("|=",
S("f"),T("F_CARRY"))),R(W("&=",S("f"),Y("~",T("F_NEGATIVE")))),R(W("&=",S("f"),Y("~",T("F_HALFCARRY"))))]}},Tb:function(){return function(){return R(V("ccf"))}},ja:function(a,b){return void 0==a&&void 0==b?function(a){return R(V("add_a",U(a)))}:void 0==b?function(){return R(V("add_a",S(a)))}:function(){return R(V("add_a",Z.I(V("get"+(a+b).toUpperCase()))))}},ia:function(a,b){return void 0==a&&void 0==b?function(a){return R(V("adc_a",U(a)))}:void 0==b?function(){return R(V("adc_a",S(a)))}:function(){return R(V("adc_a",
Z.I(V("get"+(a+b).toUpperCase()))))}},xa:function(a,b){return void 0==a&&void 0==b?function(a){return R(V("sub_a",U(a)))}:void 0==b?function(){return R(V("sub_a",S(a)))}:function(){return R(V("sub_a",Z.I(V("get"+(a+b).toUpperCase()))))}},wa:function(a,b){return void 0==a&&void 0==b?function(a){return R(V("sbc_a",U(a)))}:void 0==b?function(){return R(V("sbc_a",S(a)))}:function(){return R(V("sbc_a",Z.I(V("get"+(a+b).toUpperCase()))))}},ka:function(a,b){return void 0==a&&void 0==b?function(a){return[R(W("&=",
S("a"),U(a))),R(W("=",S("f"),X("|",cd(T("SZP_TABLE"),S("a")),T("F_HALFCARRY"))))]}:"a"!=a&&void 0==b?function(){return[R(W("&=",S("a"),S(a))),R(W("=",S("f"),X("|",cd(T("SZP_TABLE"),S("a")),T("F_HALFCARRY"))))]}:"a"==a&&void 0==b?function(){return R(W("=",S("f"),X("|",cd(T("SZP_TABLE"),S("a")),T("F_HALFCARRY"))))}:function(){return[R(W("&=",S("a"),Z.I(V("get"+(a+b).toUpperCase())))),R(W("=",S("f"),X("|",cd(T("SZP_TABLE"),S("a")),T("F_HALFCARRY"))))]}},ya:function(a,b){return void 0==a&&void 0==b?function(a){return[R(W("^=",
S("a"),U(a))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}:"a"!=a&&void 0==b?function(){return[R(W("^=",S("a"),S(a))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}:"a"==a&&void 0==b?function(){return[R(W("=",S("a"),U(0))),R(W("=",S("f"),cd(T("SZP_TABLE"),U(0))))]}:function(){return[R(W("^=",S("a"),Z.I(V("get"+(a+b).toUpperCase())))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}},sa:function(a,b){return void 0==a&&void 0==b?function(a){return[R(W("|=",S("a"),U(a))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}:
"a"!=a&&void 0==b?function(){return[R(W("|=",S("a"),S(a))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}:"a"==a&&void 0==b?function(){return R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))}:function(){return[R(W("|=",S("a"),Z.I(V("get"+(a+b).toUpperCase())))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}},ma:function(a,b){return void 0==a&&void 0==b?function(a){return R(V("cp_a",U(a)))}:void 0==b?function(){return R(V("cp_a",S(a)))}:function(){return R(V("cp_a",Z.I(V("get"+(a+b).toUpperCase()))))}},Ya:function(a,
b){return function(){return[R(V("set"+(a+b).toUpperCase(),Z.Sa(T("sp")))),R(W("+=",T("sp"),U(2)))]}},Za:function(a,b){return function(){return R(V("push2",[S(a),S(b)]))}},Xa:function(a){return function(b,d){return zc(a,Q([R(W("-=",T("tstates"),U(5))),R(W("=",T("pc"),U(d))),Bc()]))}},$b:function(){return function(a,b){return[R(W("=",S("b"),X("&",X("-",S("b"),U(1)),U(255)))),Z.Xa(X("!=",S("b"),U(0)))(void 0,b)]}},mc:function(){return function(a,b){return Z.Xa(Y("!",X("!=",X("&",S("f"),T("F_ZERO")),
U(0))))(void 0,b)}},nc:function(){return function(a,b){return Z.Xa(X("!=",X("&",S("f"),T("F_ZERO")),U(0)))(void 0,b)}},lc:function(){return function(a,b){return Z.Xa(Y("!",X("!=",X("&",S("f"),T("F_CARRY")),U(0))))(void 0,b)}},kc:function(){return function(a,b){return Z.Xa(X("!=",X("&",S("f"),T("F_CARRY")),U(0)))(void 0,b)}},va:function(a,b){return void 0==a&&void 0==b?function(){return[R(W("=",T("pc"),Z.Sa(T("sp")))),R(W("+=",T("sp"),U(2))),Bc()]}:function(){return zc(X(a,X("&",S("f"),T(b)),U(0)),
Q([R(W("-=",T("tstates"),U(6))),R(W("=",T("pc"),Z.Sa(T("sp")))),R(W("+=",T("sp"),U(2))),Bc()]))}},Z:function(a,b){return void 0==a&&void 0==b?function(a,b){return[R(W("=",T("pc"),U(b))),Bc()]}:"h"==a&&"l"==b?function(){return[R(W("=",T("pc"),V("getHL"))),Bc()]}:function(d,l){return zc(X(a,X("&",S("f"),T(b)),U(0)),Q([R(W("=",T("pc"),U(l))),Bc()]))}},la:function(a,b){return void 0==a&&void 0==b?function(a,b,t){return[R(V("push1",U(t))),R(W("=",T("pc"),U(b))),Bc()]}:function(d,l,t){return zc(X(a,X("&",
S("f"),T(b)),U(0)),Q([R(W("-=",T("tstates"),U(7))),R(V("push1",U(t))),R(W("=",T("pc"),U(l))),Bc()]))}},Da:function(a){return function(b,d,l){return[R(V("push1",U(l))),R(W("=",T("pc"),U(a))),Bc()]}},Zb:function(){return function(){return[R(W("=",T("iff1"),U(!1))),R(W("=",T("iff2"),U(!1))),R(W("=",T("EI_inst"),U(!0)))]}},ac:function(){return function(){return[R(W("=",T("iff1"),U(!0))),R(W("=",T("iff2"),U(!0))),R(W("=",T("EI_inst"),U(!0)))]}},Ba:function(a,b){return void 0==b?function(b){return R(V("port.out",
[U(b),S(a)]))}:function(){return R(V("port.out",[S(a),S(b)]))}},za:function(a,b){return void 0==b?function(b){return R(W("=",S(a),V("port.in_",U(b))))}:function(){return[R(W("=",S(a),V("port.in_",S(b)))),R(W("=",S("f"),X("|",X("&",S("f"),T("F_CARRY")),cd(T("SZP_TABLE"),S(a)))))]}},cc:function(){return function(){return R(V("exAF"))}},bc:function(){return function(){return[R(V("exBC")),R(V("exDE")),R(V("exHL"))]}},ec:function(){return function(){return[R(W("=",T("temp"),S("h"))),R(W("=",S("h"),Z.I(X("+",
T("sp"),U(1))))),R(V("writeMem",[X("+",T("sp"),U(1)),T("temp")])),R(W("=",T("temp"),S("l"))),R(W("=",S("l"),Z.I(T("sp")))),R(V("writeMem",[T("sp"),T("temp")]))]}},dc:function(){return function(){return[R(W("=",T("temp"),S("d"))),R(W("=",S("d"),S("h"))),R(W("=",S("h"),T("temp"))),R(W("=",T("temp"),S("e"))),R(W("=",S("e"),S("l"))),R(W("=",S("l"),T("temp")))]}},gc:function(){return function(a,b,d){a=[];a.push(R(W("=",T("tstates"),U(0))));return a.concat([R(W("=",T("halt"),U(!0))),R(W("=",T("pc"),U(d-
1))),Bc()])}},s:ed("rlc"),u:ed("rrc"),r:ed("rl"),t:ed("rr"),w:ed("sla"),N:ed("sra"),M:ed("sll"),P:ed("srl"),a:function(a,b,d){if(void 0==d)return function(){return R(V("bit",X("&",S(b),T("BIT_"+a))))};if("h"==b&&"l"==d)return function(){return R(V("bit",X("&",Z.I(V("get"+(b+d).toUpperCase())),T("BIT_"+a))))};if("i"==b)return function(l){return[R(W("=",T("location"),X("&",X("+",V("get"+(b+d).toUpperCase()),U(l)),U(65535)))),R(V("bit",X("&",Z.I(T("location")),T("BIT_"+a))))]}},o:function(a,b,d){if(void 0==
d)return function(){return R(W("&=",S(b),Y("~",T("BIT_"+a))))};if("h"==b&&"l"==d)return function(){return R(V("writeMem",V("get"+(b+d).toUpperCase()),X("&",Z.I(V("get"+(b+d).toUpperCase())),Y("~",T("BIT_"+a)))))};if("i"==b)return function(l){return[R(W("=",T("location"),X("&",X("+",V("get"+(b+d).toUpperCase()),U(l)),U(65535)))),R(V("writeMem",[T("location"),X("&",Z.I(T("location")),Y("~",T("BIT_"+a)))]))]}},v:function(a,b,d){if(void 0==d)return function(){return R(W("|=",S(b),T("BIT_"+a)))};if("h"==
b&&"l"==d)return function(){return R(V("writeMem",[V("get"+(b+d).toUpperCase()),X("|",Z.I(V("get"+(b+d).toUpperCase())),T("BIT_"+a))]))};if("i"==b)return function(l){return[R(W("=",T("location"),X("&",X("+",V("get"+(b+d).toUpperCase()),U(l)),U(65535)))),R(V("writeMem",[T("location"),X("|",Z.I(T("location")),T("BIT_"+a))]))]}},qa:function(a,b,d){return void 0==d?function(d){return[R(V("writeMem",[X("+",V("get"+(a+b).toUpperCase()),U(d&255)),U(d>>8)]))]}:function(l){return[R(V("writeMem",[X("+",V("get"+
(b+d).toUpperCase()),U(l)),S(a)]))]}},hc:function(a,b){return function(d){return[R(V("incMem",X("+",V("get"+(a+b).toUpperCase()),U(d))))]}},Yb:function(a,b){return function(d){return[R(V("decMem",X("+",V("get"+(a+b).toUpperCase()),U(d))))]}},Sb:function(a,b){return function(d){return R(V("add_a",Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d)))))}},Rb:function(a,b){return function(d){return R(V("adc_a",Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d)))))}},Bc:function(a,b){return function(d){return R(V("sub_a",
Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d)))))}},zc:function(a,b){return function(d){return R(V("sbc_a",Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d)))))}},rc:function(a,b){return function(d){return[R(W("|=",S("a"),Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d))))),R(W("=",S("f"),cd(T("SZP_TABLE"),S("a"))))]}},Wb:function(a,b){return function(d){return R(V("cp_a",Z.I(X("+",V("get"+(a+b).toUpperCase()),U(d)))))}},fc:function(a,b){return function(){return[R(W("=",T("temp"),V("get"+(a+b).toUpperCase()))),
R(V("set"+(a+b).toUpperCase(),Z.Sa(T("sp")))),R(V("writeMem",[T("sp"),X("&",T("temp"),U(255))])),R(V("writeMem",[X("+",T("sp"),U(1)),X(">>",T("sp"),U(8))]))]}},jc:function(a,b){return function(){return[R(W("=",T("pc"),V("get"+(a+b).toUpperCase()))),Bc()]}},ub:function(a,b){return function(){return R(V("sbc16",V("get"+(a+b).toUpperCase())))}},Aa:function(){return function(){return[R(W("=",T("temp"),S("a"))),R(W("=",S("a"),U(0))),R(V("sub_a",T("temp")))]}},tb:function(){return function(){return[R(W("=",
T("pc"),Z.Sa(T("sp")))),R(W("+=",T("sp"),U(2))),R(W("=",T("iff1"),T("iff2")))]}},Qa:function(a){return function(){return R(W("=",T("im"),U(a)))}},ic:function(){return function(){return[R(W("=",T("temp"),V("port.in_",S("c")))),R(V("writeMem",[V("getHL"),T("temp")])),Z.V("b")(),R(V("incHL")),zc(X("==",X("&",T("temp"),U(128)),U(128)),Q(R(W("|=",S("f"),T("F_NEGATIVE")))),Q(R(W("&=",S("f"),Y("~",T("F_NEGATIVE"))))))]}},uc:function(){return function(){return[R(W("=",T("temp"),Z.I(V("getHL")))),R(V("port.out",
[S("c"),T("temp")])),R(V("incHL")),Z.V("b")(),zc(X(">",X("+",S("l"),T("temp")),U(255)),Q([R(W("|=",S("f"),T("F_CARRY"))),R(W("|=",S("f"),T("F_HALFCARRY")))]),Q([R(W("&=",S("f"),Y("~",T("F_CARRY")))),R(W("&=",S("f"),Y("~",T("F_HALFCARRY"))))])),zc(X("==",X("&",T("temp"),U(128)),U(128)),Q(R(W("|=",S("f"),T("F_NEGATIVE")))),Q(R(W("&=",S("f"),Y("~",T("F_NEGATIVE"))))))]}},tc:function(){return function(){return[R(W("=",T("temp"),Z.I(V("getHL")))),R(V("port.out",[S("c"),T("temp")])),R(V("decHL")),Z.V("b")(),
zc(X(">",X("+",S("l"),T("temp")),U(255)),Q([R(W("|=",S("f"),T("F_CARRY"))),R(W("|=",S("f"),T("F_HALFCARRY")))]),Q([R(W("&=",S("f"),Y("~",T("F_CARRY")))),R(W("&=",S("f"),Y("~",T("F_HALFCARRY"))))])),zc(X("==",X("&",T("temp"),U(128)),U(128)),Q(R(W("|=",S("f"),T("F_NEGATIVE")))),Q(R(W("&=",S("f"),Y("~",T("F_NEGATIVE"))))))]}},pc:function(){return function(){return[R(V("writeMem",[V("getDE"),Z.I(V("getHL"))])),R(V("incDE")),R(V("incHL")),R(V("decBC")),R(W("=",S("f"),X("|",X("&",S("f"),U(193)),dd(X("!=",
V("getBC"),U(0)),T("F_PARITY"),U(0)))))]}},Ub:function(){return function(){return[R(W("=",T("temp"),X("|",X("&",S("f"),T("F_CARRY")),T("F_NEGATIVE")))),R(V("cp_a",[Z.I(V("getHL"))])),R(V("incHL")),R(V("decBC")),R(W("|=",T("temp"),dd(X("==",V("getBC"),U(0)),U(0),T("F_PARITY")))),R(W("=",S("f"),X("|",X("&",S("f"),U(248)),T("temp"))))]}},oc:function(){return function(){return[R(V("writeMem",[V("getDE"),Z.I(V("getHL"))])),R(V("decDE")),R(V("decHL")),R(V("decBC")),R(W("=",S("f"),X("|",X("&",S("f"),U(193)),
dd(X("!=",V("getBC"),U(0)),T("F_PARITY"),U(0)))))]}},qc:function(){return function(){return[R(V("writeMem",[V("getDE"),Z.I(V("getHL"))])),R(V("incDE")),R(V("incHL")),R(V("decBC")),zc(X("!=",V("getBC"),U(0)),Q([R(W("-=",T("tstates"),U(5))),R(W("|=",S("f"),T("F_PARITY"))),Bc()]),Q([R(W("&=",S("f"),Y("~",T("F_PARITY"))))])),R(W("&=",S("f"),Y("~",T("F_NEGATIVE")))),R(W("&=",S("f"),Y("~",T("F_HALFCARRY"))))]}},sc:function(){return function(){return[R(W("=",T("temp"),Z.I(V("getHL")))),R(V("port.out",[S("c"),
T("temp")])),Z.V("b")(),R(V("incHL")),zc(X("!=",S("b"),U(0)),Q([R(W("-=",T("tstates"),U(5))),Bc()])),zc(X(">",X("+",S("l"),T("temp")),U(255)),Q([R(W("|=",S("f"),T("F_CARRY"))),R(W("|=",S("f"),T("F_HALFCARRY")))]),Q([R(W("&=",S("f"),Y("~",T("F_CARRY")))),R(W("&=",S("f"),Y("~",T("F_HALFCARRY"))))])),zc(X("!=",X("&",T("temp"),U(128)),U(0)),Q(R(W("|=",S("f"),T("F_NEGATIVE")))),Q(R(W("&=",S("f"),Y("~",T("F_NEGATIVE"))))))]}},d:fd("rlc"),f:fd("rrc"),c:fd("rl"),e:fd("rr"),g:fd("sla"),i:fd("sra"),h:fd("sll"),
m:fd("srl"),I:function(a){return V("readMem",a)},Sa:function(a){return V("readMemWord",a)}};function ed(a){return function(b,d){return void 0==d?function(){return R(W("=",S(b),V(a,S(b))))}:function(){return R(V("writeMem",V("get"+(b+d).toUpperCase()),V(a,Z.I(V("get"+(b+d).toUpperCase())))))}}}
function fd(a){return function(b,d,l){return void 0==l?function(l){return[R(W("=",T("location"),X("&",X("+",V("get"+(b+d).toUpperCase()),U(l)),U(65535)))),R(V("writeMem",[T("location"),V(a,Z.I(T("location")))]))]}:function(t){return[R(W("=",T("location"),X("&",X("+",V("get"+(b+d).toUpperCase()),U(t)),U(65535)))),R(W("=",S(l),V(a,Z.I(T("location"))))),R(V("writeMem",[T("location"),S(l)]))]}}};var gd=[],hd=[],id=[],jd={B:["b"],C:["c"],D:["d"],E:["e"],H:["h"],L:["l"],"(HL)":["h","l"],A:["a"]};
"RLC RRC RL RR SLA SRA SLL SRL".split(" ").forEach(function(a){for(var b in jd)gd.push({name:a+" "+b,b:Z[a].apply(null,jd[b])}),"(HL)"!=b?(hd.push({name:"LD "+b+","+a+" (IX)",b:Z["LD_"+a].apply(null,["i","x"].concat(jd[b]))}),id.push({name:"LD "+b+","+a+" (IY)",b:Z["LD_"+a].apply(null,["i","y"].concat(jd[b]))})):(hd.push({name:a+" (IX)",b:Z["LD_"+a]("i","x")}),id.push({name:a+" (IY)",b:Z["LD_"+a]("i","y")}))});
["BIT","RES","SET"].forEach(function(a){for(var b=0;8>b;b++){for(var d in jd)gd.push({name:a+" "+b+","+d,b:Z[a].apply(null,[b].concat(jd[d]))});for(var l=0;8>l;l++)hd.push({name:a+" "+b+" (IX)",b:Z[a].apply(null,[b].concat(["i","x"]))}),id.push({name:a+" "+b+" (IY)",b:Z[a].apply(null,[b].concat(["i","y"]))})}});function kd(a){var b=a.substring(1,2),d=a.substring(1,2).toLowerCase();return{9:{name:"ADD "+a+",BC",b:Z.Pa("i",b,"b","c")},25:{name:"ADD "+a+",DE",b:Z.Pa("i",b,"d","e")},33:{name:"LD "+a+",nn",b:Z.oa("i",b)},34:{name:"LD (nn),"+a,b:Z.Ra("i"+d+"H","i"+d+"L")},35:{name:"INC "+a,b:Z.gb("i",b)},42:{name:"LD "+a+",(nn)",b:Z.oa("i",b,"n","n"),J:3},43:{name:"DEC "+a,b:Z.fb("i",b)},52:{name:"INC ("+a+"+d)",b:Z.hc("i",b)},53:{name:"DEC ("+a+"+d)",b:Z.Yb("i",b)},54:{name:"LD ("+a+"+d),n",b:Z.qa("i",b)},70:{name:"LD B,("+
a+"+d)",b:Z.pa("b","i",b)},78:{name:"LD C,("+a+"+d)",b:Z.pa("c","i",b)},84:{name:" LD D,"+a+"H *",b:Z.n("d","i"+d+"H")},86:{name:"LD D,("+a+"+d)",b:Z.pa("d","i",b)},93:{name:"LD E,"+a+"L *",b:Z.n("e","i"+d+"L")},94:{name:"LD E,("+a+"+d)",b:Z.pa("e","i",b)},96:{name:"LD "+a+"H,B",b:Z.n("i"+d+"H","b")},97:{name:"LD "+a+"H,C",b:Z.n("i"+d+"H","c")},98:{name:"LD "+a+"H,D",b:Z.n("i"+d+"H","d")},99:{name:"LD "+a+"H,E",b:Z.n("i"+d+"H","e")},100:{name:"LD "+a+"H,"+a+"H",b:Z.fa()},101:{name:"LD "+a+"H,"+a+
"L *",b:Z.pa("i"+d+"H","i"+d+"L")},102:{name:"LD H,("+a+"+d)",b:Z.pa("h","i",b)},103:{name:"LD "+a+"H,A",b:Z.n("i"+d+"H","a")},104:{name:"LD "+a+"L,B",b:Z.n("i"+d+"L","b")},105:{name:"LD "+a+"L,C",b:Z.n("i"+d+"L","c")},106:{name:"LD "+a+"L,D",b:Z.n("i"+d+"L","d")},107:{name:"LD "+a+"L,E",b:Z.n("i"+d+"L","e")},108:{name:"LD "+a+"L,"+a+"H",b:Z.pa("i"+d+"L","i"+d+"H")},109:{name:"LD "+a+"L,"+a+"L *",b:Z.fa()},110:{name:"LD L,("+a+"+d)",b:Z.pa("l","i",b)},111:{name:"LD "+a+"L,A *",b:Z.n("i"+d+"L","a")},
112:{name:"LD ("+a+"+d),B",b:Z.qa("b","i",b)},113:{name:"LD ("+a+"+d),C",b:Z.qa("c","i",b)},114:{name:"LD ("+a+"+d),D",b:Z.qa("d","i",b)},115:{name:"LD ("+a+"+d),E",b:Z.qa("e","i",b)},116:{name:"LD ("+a+"+d),H",b:Z.qa("h","i",b)},117:{name:"LD ("+a+"+d),L",b:Z.qa("l","i",b)},118:{name:"LD ("+a+"+d),B",b:Z.qa("b","i",b)},119:{name:"LD ("+a+"+d),A",b:Z.qa("a","i",b)},126:{name:"LD A,("+a+"+d)",b:Z.pa("a","i",b)},124:{name:"LD A,"+a+"H",b:Z.n("a","i"+d+"H")},125:{name:"LD A,"+a+"L",b:Z.n("a","i"+d+"L")},
134:{name:"ADD A,("+a+"+d)",b:Z.Sb("i",b)},142:{name:"ADC A,("+a+"+d)",b:Z.Rb("i",b)},150:{name:"SUB A,("+a+"+d)",b:Z.Bc("i",b)},158:{name:"SBC A,("+a+"+d)",b:Z.zc("i",b)},203:"IX"==a?hd:id,182:{name:"OR A,("+a+"+d)",b:Z.rc("i",b)},190:{name:"CP ("+a+"+d)",b:Z.Wb("i",b)},225:{name:"POP "+a,b:Z.Ya("i",b)},227:{name:"EX SP,("+a+")",b:Z.fc("i",b)},229:{name:"PUSH "+a,b:Z.Za("i"+d+"H","i"+d+"L")},233:{name:"JP ("+a+")",b:Z.jc("i",b)},249:{name:"LD SP,"+a,b:Z.sb("i",b)}}};var ld={64:{name:"IN B,(C)",b:Z.za("b","c")},66:{name:"SBC HL,BC",b:Z.ub("b","c")},65:{name:"OUT (C),B",b:Z.Ba("c","b")},67:{name:"LD (nn),BC",b:Z.Ra("b","c")},68:{name:"NEG",b:Z.Aa()},69:{name:"RETN / RETI",b:Z.tb()},70:{name:"IM 0",b:Z.Qa(0)},72:{name:"IN C,(C)",b:Z.za("c","c")},73:{name:"OUT (C),C",b:Z.Ba("c","c")},74:{name:"ADC HL,BC",b:Z.eb("b","c")},75:{name:"LD BC,(nn)",b:Z.oa("b","c","n","n"),J:3},76:{name:"NEG",b:Z.Aa()},77:{name:"RETN / RETI",b:Z.tb()},78:{name:"IM 0",b:Z.Qa(0)},80:{name:"IN D,(C)",
b:Z.za("d","c")},81:{name:"OUT (C),D",b:Z.Ba("c","d")},82:{name:"SBC HL,DE",b:Z.ub("d","e")},83:{name:"LD (nn),DE",b:Z.Ra("d","e")},84:{name:"NEG",b:Z.Aa()},85:{name:"RETN / RETI",b:Z.tb()},86:{name:"IM 1",b:Z.Qa(1)},87:{name:"LD A,I",b:Z.n("a","i")},88:{name:"IN E,(C)",b:Z.za("e","c")},89:{name:"OUT (C),E",b:Z.Ba("c","e")},90:{name:"ADC HL,DE",b:Z.eb("d","e")},91:{name:"LD DE,(nn)",b:Z.oa("d","e","n","n"),J:3},92:{name:"NEG",b:Z.Aa()},95:{name:"LD A,R",b:Z.n("a","r")},96:{name:"IN H,(C)",b:Z.za("h",
"c")},97:{name:"OUT (C),H",b:Z.Ba("c","h")},98:{name:"SBC HL,HL",b:Z.ub("h","l")},99:{name:"LD (nn),HL",b:Z.Ra("h","l")},100:{name:"NEG",b:Z.Aa()},102:{name:"IM 0",b:Z.Qa(0)},104:{name:"IN L,(C)",b:Z.za("l","c")},105:{name:"OUT (C),L",b:Z.Ba("c","l")},106:{name:"ADC HL,HL",b:Z.eb("h","l")},107:{name:"LD HL,(nn)",b:Z.oa("h","l","n","n"),J:3},108:{name:"NEG",b:Z.Aa()},110:{name:"IM 0",b:Z.Qa(0)},115:{name:"LD (nn),SP",b:Z.Ra("sp")},116:{name:"NEG",b:Z.Aa()},118:{name:"IM 1",b:Z.Qa(1)},120:{name:"IN A,(C)",
b:Z.za("a","c")},121:{name:"OUT (C),A",b:Z.Ba("c","a")},122:{name:"ADC HL,SP",b:Z.eb("sp")},124:{name:"NEG",b:Z.Aa()},160:{name:"LDI",b:Z.pc()},161:{name:"CPI",b:Z.Ub()},162:{name:"INI",b:Z.ic()},163:{name:"OUTI",b:Z.uc()},168:{name:"LDD",b:Z.oc()},171:{name:"OUTD",b:Z.tc()},176:{name:"LDIR",b:Z.qc()},179:{name:"OTIR",b:Z.sc()}};var md=[{name:"NOP",b:Z.fa()},{name:"LD BC,nn",b:Z.oa("b","c"),J:3},{name:"LD (BC),A",b:Z.ba("b","c","a")},{name:"INC BC",b:Z.gb("b","c")},{name:"INC B",b:Z.na("b")},{name:"DEC B",b:Z.V("b")},{name:"LD B,n",b:Z.n("b"),J:1},{name:"RLCA",b:Z.wc()},{name:"EX AF AF'",b:Z.cc()},{name:"ADD HL,BC",b:Z.Pa("h","l","b","c")},{name:"LD A,(BC)",b:Z.n("a","b","c")},{name:"DEC BC",b:Z.fb("b","c")},{name:"INC C",b:Z.na("c")},{name:"DEC C",b:Z.V("c")},{name:"LD C,n",b:Z.n("c"),J:1},{name:"RRCA",b:Z.yc()},{name:"DJNZ (PC+e)",
b:Z.$b(),J:2},{name:"LD DE,nn",b:Z.oa("d","e"),J:3},{name:"LD (DE),A",b:Z.ba("d","e","a")},{name:"INC DE",b:Z.gb("d","e")},{name:"INC D",b:Z.na("d")},{name:"DEC D",b:Z.V("d")},{name:"LD D,n",b:Z.n("d"),J:1},{name:"RLA",b:Z.vc()},{name:"JR (PC+e)",b:Z.Z(),J:2},{name:"ADD HL,DE",b:Z.Pa("h","l","d","e")},{name:"LD A,(DE)",b:Z.n("a","d","e")},{name:"DEC DE",b:Z.fb("d","e")},{name:"INC E",b:Z.na("e")},{name:"DEC E",b:Z.V("e")},{name:"LD E,n",b:Z.n("e"),J:1},{name:"RRA",b:Z.xc()},{name:"JR NZ,(PC+e)",b:Z.mc(),
J:2},{name:"LD HL,nn",b:Z.oa("h","l"),J:3},{name:"LD (nn),HL",b:Z.Ra("h","l"),J:3},{name:"INC HL",b:Z.gb("h","l")},{name:"INC H",b:Z.na("h")},{name:"DEC H",b:Z.V("h")},{name:"LD H,n",b:Z.n("h"),J:1},{name:"DAA",b:Z.Xb()},{name:"JR Z,(PC+e)",b:Z.nc(),J:2},{name:"ADD HL,HL",b:Z.Pa("h","l","h","l")},{name:"LD HL,(nn)",b:Z.oa("h","l","n","n"),J:3},{name:"DEC HL",b:Z.fb("h","l")},{name:"INC L",b:Z.na("l")},{name:"DEC L",b:Z.V("l")},{name:"LD L,n",b:Z.n("l"),J:1},{name:"CPL",b:Z.Vb()},{name:"JR NC,(PC+e)",
b:Z.lc(),J:2},{name:"LD SP,nn",b:Z.sb(),J:3},{name:"LD (nn),A",b:Z.ba("n","n","a"),J:3},{name:"INC SP",b:Z.na("s","p")},{name:"INC (HL)",b:Z.na("h","l")},{name:"DEC (HL)",b:Z.V("h","l")},{name:"LD (HL),n",b:Z.ba("h","l"),J:1},{name:"SCF",b:Z.Ac()},{name:"JR C,(PC+e)",b:Z.kc(),J:2},{name:"ADD HL,SP",b:Z.Pa("h","l","sp")},{name:"LD A,(nn)",b:Z.n("a","n","n"),J:3},{name:"DEC SP",b:Z.V("s","p")},{name:"INC A",b:Z.na("a")},{name:"DEC A",b:Z.V("a")},{name:"LD A,n",b:Z.n("a"),J:1},{name:"CCF",b:Z.Tb()},
{name:"LD B,B",b:Z.fa(),J:1},{name:"LD B,C",b:Z.n("b","c")},{name:"LD B,D",b:Z.n("b","d")},{name:"LD B,E",b:Z.n("b","e")},{name:"LD B,H",b:Z.n("b","h")},{name:"LD B,L",b:Z.n("b","l")},{name:"LD B,(HL)",b:Z.n("b","h","l")},{name:"LD B,A",b:Z.n("b","a")},{name:"LD C,B",b:Z.n("c","b")},{name:"LD C,C",b:Z.fa()},{name:"LD C,D",b:Z.n("c","d")},{name:"LD C,E",b:Z.n("c","e")},{name:"LD C,H",b:Z.n("c","h")},{name:"LD C,L",b:Z.n("c","l")},{name:"LD C,(HL)",b:Z.n("c","h","l")},{name:"LD C,A",b:Z.n("c","a")},
{name:"LD D,B",b:Z.n("d","b")},{name:"LD D,C",b:Z.n("d","c")},{name:"LD D,D",b:Z.fa()},{name:"LD D,E",b:Z.n("d","e")},{name:"LD D,H",b:Z.n("d","h")},{name:"LD D,L",b:Z.n("d","l")},{name:"LD D,(HL)",b:Z.n("d","h","l")},{name:"LD D,A",b:Z.n("d","a")},{name:"LD E,B",b:Z.n("e","b")},{name:"LD E,C",b:Z.n("e","c")},{name:"LD E,D",b:Z.n("e","d")},{name:"LD E,E",b:Z.fa()},{name:"LD E,H",b:Z.n("e","h")},{name:"LD E,L",b:Z.n("e","l")},{name:"LD E,(HL)",b:Z.n("e","h","l")},{name:"LD E,A",b:Z.n("e","a")},{name:"LD H,B",
b:Z.n("h","b")},{name:"LD H,C",b:Z.n("h","c")},{name:"LD H,D",b:Z.n("h","d")},{name:"LD H,E",b:Z.n("h","e")},{name:"LD H,H",b:Z.fa()},{name:"LD H,L",b:Z.n("h","l")},{name:"LD H,(HL)",b:Z.n("h","h","l")},{name:"LD H,A",b:Z.n("h","a")},{name:"LD L,B",b:Z.n("l","b")},{name:"LD L,C",b:Z.n("l","c")},{name:"LD L,D",b:Z.n("l","d")},{name:"LD L,E",b:Z.n("l","e")},{name:"LD L,H",b:Z.n("l","h")},{name:"LD L,L",b:Z.fa()},{name:"LD L,(HL)",b:Z.n("l","h","l")},{name:"LD L,A",b:Z.n("l","a")},{name:"LD (HL),B",
b:Z.ba("h","l","b")},{name:"LD (HL),C",b:Z.ba("h","l","c")},{name:"LD (HL),D",b:Z.ba("h","l","d")},{name:"LD (HL),E",b:Z.ba("h","l","e")},{name:"LD (HL),H",b:Z.ba("h","l","h")},{name:"LD (HL),L",b:Z.ba("h","l","l")},{name:"HALT",b:Z.gc()},{name:"LD (HL),A",b:Z.ba("h","l","a")},{name:"LD A,B",b:Z.n("a","b")},{name:"LD A,C",b:Z.n("a","c")},{name:"LD A,D",b:Z.n("a","d")},{name:"LD A,E",b:Z.n("a","e")},{name:"LD A,H",b:Z.n("a","h")},{name:"LD A,L",b:Z.n("a","l")},{name:"LD A,(HL)",b:Z.n("a","h","l")},
{name:"LD A,A",b:Z.fa()},{name:"ADD A,B",b:Z.ja("b")},{name:"ADD A,C",b:Z.ja("c")},{name:"ADD A,D",b:Z.ja("d")},{name:"ADD A,E",b:Z.ja("e")},{name:"ADD A,H",b:Z.ja("h")},{name:"ADD A,L",b:Z.ja("l")},{name:"ADD A,(HL)",b:Z.ja("h","l")},{name:"ADD A,A",b:Z.ja("a")},{name:"ADC A,B",b:Z.ia("b")},{name:"ADC A,C",b:Z.ia("c")},{name:"ADC A,D",b:Z.ia("d")},{name:"ADC A,E",b:Z.ia("e")},{name:"ADC A,H",b:Z.ia("h")},{name:"ADC A,L",b:Z.ia("l")},{name:"ADC A,(HL)",b:Z.ia("h","l")},{name:"ADC A,A",b:Z.ia("a")},
{name:"SUB A,B",b:Z.xa("b")},{name:"SUB A,C",b:Z.xa("c")},{name:"SUB A,D",b:Z.xa("d")},{name:"SUB A,E",b:Z.xa("e")},{name:"SUB A,H",b:Z.xa("h")},{name:"SUB A,L",b:Z.xa("l")},{name:"SUB A,(HL)",b:Z.xa("h","l")},{name:"SUB A,A",b:Z.xa("a")},{name:"SBC A,B",b:Z.wa("b")},{name:"SBC A,C",b:Z.wa("c")},{name:"SBC A,D",b:Z.wa("d")},{name:"SBC A,E",b:Z.wa("e")},{name:"SBC A,H",b:Z.wa("h")},{name:"SBC A,L",b:Z.wa("l")},{name:"SBC A,(HL)",b:Z.wa("h","l")},{name:"SBC A,A",b:Z.wa("a")},{name:"AND A,B",b:Z.ka("b")},
{name:"AND A,C",b:Z.ka("c")},{name:"AND A,D",b:Z.ka("d")},{name:"AND A,E",b:Z.ka("e")},{name:"AND A,H",b:Z.ka("h")},{name:"AND A,L",b:Z.ka("l")},{name:"AND A,(HL)",b:Z.ka("h","l")},{name:"AND A,A",b:Z.ka("a")},{name:"XOR A,B",b:Z.ya("b")},{name:"XOR A,C",b:Z.ya("c")},{name:"XOR A,D",b:Z.ya("d")},{name:"XOR A,E",b:Z.ya("e")},{name:"XOR A,H",b:Z.ya("h")},{name:"XOR A,L",b:Z.ya("l")},{name:"XOR A,(HL)",b:Z.ya("h","l")},{name:"XOR A,A",b:Z.ya("a")},{name:"OR A,B",b:Z.sa("b")},{name:"OR A,C",b:Z.sa("c")},
{name:"OR A,D",b:Z.sa("d")},{name:"OR A,E",b:Z.sa("e")},{name:"OR A,H",b:Z.sa("h")},{name:"OR A,L",b:Z.sa("l")},{name:"OR A,(HL)",b:Z.sa("h","l")},{name:"OR A,A",b:Z.sa("a")},{name:"CP A,B",b:Z.ma("b")},{name:"CP A,C",b:Z.ma("c")},{name:"CP A,D",b:Z.ma("d")},{name:"CP A,E",b:Z.ma("e")},{name:"CP A,H",b:Z.ma("h")},{name:"CP A,L",b:Z.ma("l")},{name:"CP A,(HL)",b:Z.ma("h","l")},{name:"CP A,A",b:Z.ma("a")},{name:"RET NZ",b:Z.va("==","F_ZERO")},{name:"POP BC",b:Z.Ya("b","c")},{name:"JP NZ,(nn)",b:Z.Z("==",
"F_ZERO")},{name:"JP (nn)",b:Z.Z()},{name:"CALL NZ (nn)",b:Z.la("==","F_ZERO")},{name:"PUSH BC",b:Z.Za("b","c")},{name:"ADD A,n",b:Z.ja()},{name:"RST 0x00",b:Z.Da(0)},{name:"RET Z",b:Z.va("!=","F_ZERO")},{name:"RET",b:Z.va()},{name:"JP Z,(nn)",b:Z.Z("!=","F_ZERO")},gd,{name:"CALL Z (nn)",b:Z.la("!=","F_ZERO")},{name:"CALL (nn)",b:Z.la()},{name:"ADC A,n",b:Z.ia()},{name:"RST 0x08",b:Z.Da(8)},{name:"RET NC",b:Z.va("==","F_CARRY")},{name:"POP DE",b:Z.Ya("d","e")},{name:"JP NC,(nn)",b:Z.Z("==","F_CARRY")},
{name:"OUT (n),A",b:Z.Ba("a")},{name:"CALL NC (nn)",b:Z.la("==","F_CARRY")},{name:"PUSH DE",b:Z.Za("d","e")},{name:"SUB n",b:Z.xa()},{name:"RST 0x10",b:Z.Da(16)},{name:"RET C",b:Z.va("!=","F_CARRY")},{name:"EXX",b:Z.bc()},{name:"JP C,(nn)",b:Z.Z("!=","F_CARRY")},{name:"IN A,(n)",b:Z.za("a")},{name:"CALL C (nn)",b:Z.la("!=","F_CARRY")},kd("IX"),{name:"SBC A,n",b:Z.wa()},{name:"RST 0x18",b:Z.Da(24)},{name:"RET PO",b:Z.va("==","F_PARITY")},{name:"POP HL",b:Z.Ya("h","l")},{name:"JP PO,(nn)",b:Z.Z("==",
"F_PARITY")},{name:"EX (SP),HL",b:Z.ec()},{name:"CALL PO (nn)",b:Z.la("==","F_PARITY")},{name:"PUSH HL",b:Z.Za("h","l")},{name:"AND (n)",b:Z.ka()},{name:"RST 0x20",b:Z.Da(32)},{name:"RET PE",b:Z.va("!=","F_PARITY")},{name:"JP (HL)",b:Z.Z("h","l")},{name:"JP PE,(nn)",b:Z.Z("!=","F_PARITY")},{name:"EX DE,HL",b:Z.dc()},{name:"CALL PE (nn)",b:Z.la("!=","F_PARITY")},ld,{name:"XOR n",b:Z.ya()},{name:"RST 0x28",b:Z.Da(40)},{name:"RET P",b:Z.va("==","F_SIGN")},{name:"POP AF",b:Z.Ya("a","f")},{name:"JP P,(nn)",
b:Z.Z("==","F_SIGN")},{name:"DI",b:Z.Zb()},{name:"CALL P (nn)",b:Z.la("==","F_SIGN")},{name:"PUSH AF",b:Z.Za("a","f")},{name:"OR n",b:Z.sa()},{name:"RST 0x30",b:Z.Da(48)},{name:"RET M",b:Z.va("!=","F_SIGN")},{name:"LD SP,HL",b:Z.sb("h","l")},{name:"JP M,(nn)",b:Z.Z("!=","F_SIGN")},{name:"EI",b:Z.ac()},{name:"CALL M (nn)",b:Z.la("!=","F_SIGN")},kd("IY"),{name:"CP n",b:Z.ma()},{name:"RST 0x38",b:Z.Da(56)}];function nd(){this.a={};this.b=[];this.c={}}nd.prototype={Bb:function(a){this.a=a;this.b=Array(this.a.length);for(a=0;a<this.a.length;a++)od(this,a),Bd(this,a);for(a in this.c)console.error("Missing opcode",a,this.c[a])},Cb:function(a){this.a=[a];this.b=[];this.c={};od(this,0);this.a[0][this.a[0].length-1].ha=!0;this.b=[this.a];for(var b in this.c)console.error("Missing opcode",b,this.c[b])}};
function Bd(a,b){a.b[b]=[];var d=-1,l=!0,t={};a.a[b].forEach(function(B){if(B.Hb||l)d++,a.b[b][d]=[],l=!1,t.ha=!0;a.b[b][d].push(B);B.ha&&(l=!0);t=B})}
function od(a,b){a.a[b]=a.a[b].map(function(b){switch(b.T.length){case 1:var l=md[b.T[0]];break;case 2:l=md[b.T[0]][b.T[1]];break;case 3:l=md[b.T[0]][b.T[1]][b.T[2]];break;default:throw Error("Something went wrong in parsing. Opcode: ["+b.T.join(",")+"]");}l&&l.b?(l=l.b(b.J,b.target,b.S),Array.isArray(l)||void 0==l||(l=[l]),b.b=l):(l=b.Dc,a.c[l]=void 0!=a.c[l]?a.c[l]+1:1);return b})};function Cd(){this.b=[]}Cd.prototype={qb:function(a){this.b=a;for(a=0;a<this.b.length;a++);}};var Dd="F_CARRY F_NEGATIVE F_PARITY F_OVERFLOW F_BIT3 F_HALFCARRY F_BIT5 F_ZERO F_SIGN BIT_0 BIT_1 BIT_2 BIT_3 BIT_4 BIT_5 BIT_6 BIT_7 temp location JSSMS.Utils.rndInt".split(" ");function Ed(){this.b=[]}
Ed.prototype={ob:function(a){for(var b=0;b<a.length;b++)a[b]=a[b].map(function(a){var b=[],t=a[0].da,B=0;a=a.map(function(a){null==a.b&&(a.b=[]);var b=a.T,d=0;switch(b[0]){case 203:d=Bb[b[1]];break;case 221:case 253:d=2==b.length?Eb[b[1]]:kc[b[2]];break;case 237:d=Lb[b[1]];break;default:d=oa[b[0]]}B+=d;if(a.ha||a.kb||null!=a.target)a.b=[].concat([{type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"-=",left:{type:"Identifier",name:"tstates"},right:{type:"Literal",value:B}}}],
a.b),B=0;null!=a.S&&a.b.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:"pc"},right:{type:"Literal",value:a.S}}});return a.b});a.forEach(function(a){b=b.concat(a)});b=Fd(b);b=gc(b,function(a){a.type&&("Identifier"==a.type&&-1==Dd.indexOf(a.name))&&(a.name="this."+a.name);return a});return{type:"Program",body:[{type:"FunctionDeclaration",id:{type:"Identifier",name:t},params:[{type:"Identifier",name:"temp"},{type:"Identifier",name:"location"}],
defaults:[],body:{type:"BlockStatement",body:b},rest:null,generator:!1,expression:!1}]}});this.b=a}};function Fd(a){return gc(a,function(a){"Register"==a.type&&(a.type="Identifier");return a})};function mc(a){this.a=a;this.F=[];this.d={};this.c={};this.e=new nd;this.h=new Cd;this.g=new Ed;this.f={}}
mc.prototype={reset:function(){var a=this;this.d.Na=[{da:0,Va:0,pb:0},{da:56,Va:0,pb:0},{da:102,Va:0,pb:0}];2>=this.F.length||(this.d.Ec=0);for(var b=this.parse().Bb().qb().ob(),d=0;d<this.F.length;d++)b[d].forEach(function(b){var t=b.body[0].id.name;b.body[0].id.name="_"+ic(t);b=Gd(b);a.a.P[d][t]=(new Function("return "+b))()})},parse:function(){var a=this;this.d.Na.forEach(function(b){a.c.Cc(b)});this.c.parse(this.d.Ec);return this},Bb:function(){this.e.Bb(this.c.G);return this},qb:function(){this.h.qb(this.e.b);
return this},ob:function(){this.g.ob(this.h.b);return this.g.b},Jb:function(a,b,d){a={da:a,Va:b,pb:d};this.c.Na.push(a);this.f=this.c.Jb(a);return this},Cb:function(){this.e.Cb(this.f);return this}};function Gd(a){return window.escodegen.generate(a,{Hc:!0,Lc:!0,Jc:!0,parse:window.esprima.parse})}function na(a,b,d,l){a.Jb(b,d,l).Cb().qb().ob()[0].forEach(function(l){l.body[0].id.name="_"+ic(l.body[0].id.name);l=Gd(l);a.a.P[d][b%16384]=(new Function("return "+l))()})};window.JSSMS=ca;})(window);
