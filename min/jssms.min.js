/*
 jsSMS - A Sega Master System/GameGear emulator in JavaScript
 Copyright (C) 2012  Guillaume Marty (https://github.com/gmarty)
 Based on JavaGear Copyright (c) 2002-2008 Chris White.

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
'use strict';var i=void 0,k=!0,aa=null,l=!1;function ba(){return function(){}}var ca=!(!window.DataView||!window.ArrayBuffer);function da(a){this.ub={ui:ea,swfPath:"lib/"};if("undefined"!=typeof a)for(var d in this.ub)"undefined"!=typeof a[d]&&(this.ub[d]=a[d]);this.T=new fa(this);this.Oa=new a.ui(this);this.v=new ga(this);this.wa=new ha(this);this.ports=new ia(this);this.D=new na(this);this.Oa.updateStatus("Ready to load a ROM.")}
da.prototype={Ha:l,Ua:0,L:0,rb:0,Ca:0,Ea:0,Ia:l,$:k,S:l,La:k,za:[],Aa:0,Ka:0,xa:[],pb:0,ob:0,Da:0,Db:0,eb:"",fb:"",reset:function(){var a=this.v.ib,d=0;0==a||this.S?(this.Ca=60,this.L=262,d=3579545):1==a&&(this.Ca=50,this.L=313,d=3546893);this.Ua=Math.round(d/this.Ca/this.L+1);this.v.ib=a;if(this.La){a=this.wa;a.nb=(d<<8)/16/44100;a.M=0;a.G=0;a.la=16;a.V=32768;for(d=0;4>d;d++)a.C[d<<1]=1,a.C[(d<<1)+1]=15,a.A[d]=0,a.J[d]=1,3!=d&&(a.fa[d]=qa);this.Ka=Math.round(44100/this.Ca);if(0==this.za.length||
this.za.length!=this.Ka)this.za=Array(this.Ka);if(0==this.xa.length||this.xa.length!=this.L){this.xa=Array(this.L);for(var g=0,d=0;d<this.L;d++)a=(this.Ka<<16)/this.L+g,g=a-(a>>16<<16),this.xa[d]=a>>16}}this.Db=0;this.Ea=this.rb;this.T.reset();this.Oa.reset();this.v.reset();this.ports.reset();this.D.reset();ra(this.D,aa)},start:function(){var a=this;this.Ha||(this.Ha=k);this.Eb=setInterval(function(){a.frame()},17);this.ab=aa;this.Da=0;sa(this);this.Cb=setInterval(function(){sa(a)},500)},stop:function(){clearInterval(this.Eb);
clearInterval(this.Cb);this.Ha=l},frame:function(){var a;for(a=0;a<this.L;a++){if(193==a){ta(this.D,this.Ua,8);var d=this.v;d.status|=128;ta(this.D,0,0)}else ta(this.D,this.Ua,0);this.La&&(d=a,0==d&&(this.Aa=0),d=this.xa[d],this.za=this.wa.update(this.Aa,d),this.Aa+=d);this.v.ia=a;if(0==this.Ea&&192>a){var g=this.v,d=a;if(!g.m.S||!(24>d||168<=d)){for(var h=g.X.length;h--;)g.X[h]=l;if(0!=(g.t[1]&64)){if(-1!=g.aa){for(var h=g,j=h.ka;j<=h.aa;j++)if(h.ua[j]){h.ua[j]=l;for(var o=h.Na[j],m=0,q=j<<5,t=0;8>
t;t++)for(var C=h.B[q++],s=h.B[q++],G=h.B[q++],B=h.B[q++],E=128;0!=E;E>>=1){var z=0;0!=(C&E)&&(z|=1);0!=(s&E)&&(z|=2);0!=(G&E)&&(z|=4);0!=(B&E)&&(z|=8);o[m++]=z}}h.ka=512;h.aa=-1}h=g;j=d;o=h.t[8];C=h.hb;16>j&&0!=(h.t[0]&64)&&(o=0);m=h.t[0]&128;q=32-(o>>3)+h.Fa;t=j+C>>3;27<t&&(t-=28);C=(j+(C&7)&7)<<3;s=j<<8;for(G=h.Fa;G<h.Za;G++){var oa=h.Sa+((q&31)<<1)+(t<<6),B=h.B[oa+1],E=(B&8)<<1,z=(G<<3)+(o&7),V=0==(B&4)?C:56-C,oa=h.Na[(h.B[oa]&255)+((B&1)<<8)];if(0==(B&2))for(var W=0;8>W&&256>z;W++,z++){var pa=
oa[W+V];h.oa[z]=0!=(B&16)&&0!=pa;h.display[z+s]=h.H[pa+E]}else for(W=7;0<=W&&256>z;W--,z++)pa=oa[W+V],h.oa[z]=0!=(B&16)&&0!=pa,h.display[z+s]=h.H[pa+E];q++;0!=m&&23==G&&(t=j>>3,C=(j&7)<<3)}if(g.R){h=g;h.R=l;for(j=0;j<h.ja.length;j++)h.ja[j][0]=0;j=0==(h.t[1]&2)?8:16;1==(h.t[1]&1)&&(j<<=1);for(o=0;64>o;o++){m=h.B[h.I+o]&255;if(208==m)break;m++;240<m&&(m-=256);for(q=0;192>q;q++)q>=m&&q-m<j&&(t=h.ja[q],8>t[0]&&(C=3*t[0]+1,s=h.I+(o<<1)+128,t[C++]=h.B[s++]&255,t[C++]=m,t[C++]=h.B[s]&255,t[0]++))}}if(0!=
g.ja[d][0]){h=g;j=d;o=h.ja[j];C=Math.min(8,o[0]);m=h.t[1]&1;q=j<<8;for(t=3*C;C--;)if(G=o[t--]|(h.t[6]&4)<<6,B=o[t--],s=o[t--]-(h.t[0]&8),E=j-B>>m,0!=(h.t[1]&2)&&(G&=-2),G=h.Na[G+((E&8)>>3)],B=0,0>s&&(B=-s,s=0),E=B+((E&7)<<3),0==m)for(;8>B&&256>s;B++,s++)z=G[E++],0!=z&&!h.oa[s]&&(h.display[s+q]=h.H[z+16],h.X[s]?h.status|=32:h.X[s]=k);else for(;8>B&&256>s;B++,s+=2)if(z=G[E++],0!=z&&!h.oa[s]&&(h.display[s+q]=h.H[z+16],h.X[s]?h.status|=32:h.X[s]=k),0!=z&&!h.oa[s+1])h.display[s+q+1]=h.H[z+16],h.X[s+1]?
h.status|=32:h.X[s+1]=k;8<=o[0]&&(h.status|=64)}if(g.m.$&&0!=(g.t[0]&32)){h=g.H[16+(g.t[7]&15)];d<<=8;if(32<16+(g.t[7]&15))debugger;if(49152<d)debugger;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d]=h}}else{h=g.H[16+(g.t[7]&15)];d<<=8;j=i;for(j=0;256>j;j++)g.display[d++]=h}}}d=this.v;g=a;if(192>=g){if(0==d.qa?(d.qa=d.t[10],d.status|=4):d.qa--,0!=(d.status&4)&&0!=(d.t[0]&16))d.m.D.Q=k}else if(d.qa=d.t[10],0!=(d.status&
128)&&(0!=(d.t[1]&32)&&224>g)&&(d.m.D.Q=k),g==d.m.L-1)d.hb=d.t[9]}this.Ia&&(a=this.D,a.P=a.O,a.O=l,a.ha&&(a.b++,a.ha=l),a.push(a.b),a.b=102,a.l-=11,this.Ia=l);0==this.Ea--?(this.Ea=this.rb,a=k):a=l;a&&this.Oa.Ab(this.v.display,[]);this.Da++},bb:function(a,d){0!=d%1024&&(a=a.substr(512),d-=512);var g,h,j=Math.round(d/1024),o=Array(j);for(g=0;g<j;g++)if(o[g]=n(1024),ca)for(h=0;1024>h;h++)o[g].setUint8(h,a.charCodeAt(1024*g+h));else for(h=0;1024>h;h++)o[g][h]=a.charCodeAt(1024*g+h)&255;return o}};
function ua(a,d,g){var h;h=".gg"===g.substr(-3).toLowerCase()?2:1;var j=d.length;1==h?(a.$=k,a.S=l,a.v.Fa=0,a.v.Za=32,a.pb=256,a.ob=192):2==h&&(a.S=k,a.$=l,a.v.Fa=5,a.v.Za=27,a.pb=160,a.ob=144);if(1024>=j)return l;h=a.bb(d,j);if(h==aa)return l;ra(a.D,h);a.eb=d;a.fb=g;return k}function sa(a){var d=+new Date,g="Running";a.ab&&(g+=": "+(a.Da/((d-a.ab)/1E3)).toFixed(2)+" (/ "+(1E3/17).toFixed(2)+") FPS");a.Oa.updateStatus(g);a.Da=0;a.ab=d};var n=ca?function(a){a===i&&(a=0);return new DataView(new ArrayBuffer(a))}:Array,ya=ca?function(a){if(a===i)return n();var d,g;d=a.byteLength;for(g=new n(d);d--;)g.setInt8(d,a.getInt8(d));return g}:function(a){if(a===i)return n();var d,g;d=a.length;for(g=new n(d);d--;)"undefined"!=typeof a[d]&&(g[d]=a[d]);return g},p=ca?function(a,d,g){a.U[d>>10].setInt8(d&1023,g);65532<=d&&a.page(d&3,g)}:function(a,d,g){a.U[d>>10][d&1023]=g;65532<=d&&a.page(d&3,g)},za=ca?function(a,d){return a[d>>10].getUint8(d&
1023)}:function(a,d){return a[d>>10][d&1023]&255},Ea=ca?function(a,d){return 1023>(d&1023)?a[d>>10].getUint16(d&1023,k):a[d>>10].getUint8(d&1023)|a[++d>>10].getUint8(d&1023)<<8}:function(a,d){return a[d>>10][d&1023]&255|(a[++d>>10][d&1023]&255)<<8};function Fa(a){var d=l;a.some(function(a){return a in document?(d=a,k):l});return d};var Ga=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Ia=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Ja=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Ka=[0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,
0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0],La=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,
8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];
function na(a){this.m=a;this.port=a.ports;this.ra=this.k=this.b=0;this.Q=this.na=this.ha=this.P=this.O=l;this.l=this.yb=this.Xa=this.a=this.Ga=this.vb=this.q=this.o=this.p=this.n=this.$a=this.Ya=this.f=this.i=this.Wa=this.Va=this.g=this.h=this.Ta=this.Ra=this.d=this.e=this.Qa=this.c=this.sa=0;this.W=[];this.cb=Array(8);this.Ma=aa;this.zb=l;this.Z=Array(4);this.ba=0;this.U=Array(65);this.F=Array(65);this.Jb=n(1024);this.kb=Array(2048);this.Pa=Array(256);this.j=Array(256);this.ea=Array(256);this.da=
Array(256);this.w=Array(131072);this.u=Array(131072);this.ya=Array(256);for(var d,g,h,j,o,m,a=0;256>a;a++)d=0!=(a&128)?128:0,g=0==a?64:0,h=a&32,j=a&8,o=Ma(a)?4:0,this.Pa[a]=d|g|h|j,this.j[a]=d|g|h|j|o,this.ea[a]=d|g|h|j,this.ea[a]|=128==a?4:0,this.ea[a]|=0==(a&15)?16:0,this.da[a]=d|g|h|j|2,this.da[a]|=127==a?4:0,this.da[a]|=15==(a&15)?16:0,this.ya[a]=0!=a?a&128:68,this.ya[a]|=h|j|16;a=0;d=65536;g=0;h=65536;for(o=0;256>o;o++)for(m=0;256>m;m++)j=m-o,this.w[a]=0!=m?0!=(m&128)?128:0:64,this.w[a]|=m&40,
(m&15)<(o&15)&&(this.w[a]|=16),m<o&&(this.w[a]|=1),0!=((j^o^128)&(j^m)&128)&&(this.w[a]|=4),a++,j=m-o-1,this.w[d]=0!=m?0!=(m&128)?128:0:64,this.w[d]|=m&40,(m&15)<=(o&15)&&(this.w[d]|=16),m<=o&&(this.w[d]|=1),0!=((j^o^128)&(j^m)&128)&&(this.w[d]|=4),d++,j=o-m,this.u[g]=0!=m?0!=(m&128)?130:2:66,this.u[g]|=m&40,(m&15)>(o&15)&&(this.u[g]|=16),m>o&&(this.u[g]|=1),0!=((j^o)&(o^m)&128)&&(this.u[g]|=4),g++,j=o-m-1,this.u[h]=0!=m?0!=(m&128)?130:2:66,this.u[h]|=m&40,(m&15)>=(o&15)&&(this.u[h]|=16),m>=o&&(this.u[h]|=
1),0!=((j^o)&(o^m)&128)&&(this.u[h]|=4),h++;for(a=256;a--;)for(d=0;1>=d;d++)for(g=0;1>=g;g++)for(h=0;1>=h;h++){j=this.kb;o=d<<8|h<<9|g<<10|a;m=d|h<<1|g<<4;this.c=a;this.a=m;var q=this.c,t=0,C=m&1,s=C;if(0!=(m&16)||9<(q&15))t|=6;if(1==C||159<q||143<q&&9<(q&15))t|=96,s=1;153<q&&(s=1);0!=(m&2)?u(this,t):v(this,t);m=this.a&254|s;m=Ma(this.c)?m&251|4:m&251;j[o]=this.c|m<<8}for(a=this.c=this.a=0;65>a;a++)this.F[a]=n(1024),this.U[a]=n(1024);for(a=0;8>a;a++)this.cb[a]=n(1024);this.Ma==aa&&(this.Ma=n(32),
this.zb=l);this.F[64]=n(1024);this.U[64]=n(1024);this.ba=2}
na.prototype={reset:function(){this.b=this.Xa=this.a=this.Ga=this.vb=this.o=this.q=this.n=this.p=this.i=this.f=this.Ya=this.$a=this.h=this.g=this.Va=this.Wa=this.e=this.d=this.Ra=this.Ta=this.c=this.Qa=0;this.k=57328;this.ra=this.yb=this.l=0;this.na=this.P=this.O=l;this.sa=0;this.ha=l},call:function(a){a?(this.push(this.b+2),this.b=w(this,this.b),this.l-=7):this.b+=2},push:function(a,d){if("undefined"===typeof d){var g=--this.k;p(this,g,a>>8);g=--this.k;p(this,g,a&255)}else g=--this.k,p(this,g,a),
g=--this.k,p(this,g,d)},page:function(a,d){var g,h;this.Z[a]=d;switch(a){case 0:if(0!=(d&8)){g=(d&4)<<2;for(h=32;48>h;h++)this.F[h]=ya(this.Ma[g]),this.U[h]=ya(this.Ma[g]),g++;this.zb=k}else{g=this.Z[3]%this.ba<<4;for(h=32;48>h;h++)this.F[h]=ya(this.W[g++]),this.U[h]=n(1024)}break;case 1:g=(d%this.ba<<4)+1;for(h=1;16>h;h++)this.F[h]=ya(this.W[g++]);break;case 2:g=d%this.ba<<4;for(h=16;32>h;h++)this.F[h]=ya(this.W[g++]);break;case 3:if(0==(this.Z[0]&8)){g=d%this.ba<<4;for(h=32;48>h;h++)this.F[h]=ya(this.W[g++])}}}};
function w(a,d){return Ea(a.F,d)}function x(a){return za(a.F,a.b)}function y(a,d){return za(a.F,d)}function ra(a,d){d!=aa&&(a.W=d);a.Z[0]=0;a.Z[1]=0;a.Z[2]=1;a.Z[3]=0;if(a.W!=aa){a.ba=a.W.length/16;for(var g=0;48>g;g++)a.F[g]=ya(a.W[g&31]),a.U[g]=n(1024);for(g=48;64>g;g++)a.F[g]=a.cb[g&7],a.U[g]=a.cb[g&7]}else a.ba=0}function Ma(a){var d=k,g;for(g=0;8>g;g++)0!=(a&1<<g)&&(d=!d);return d}
function Sa(a,d){var g=a.i<<8|a.f,h=g-d-(a.a&1);a.a=(g^h^d)>>8&16|2|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((d^g)&(g^h)&32768)>>13;a.i=h>>8&255;a.f=h&255}function Ta(a,d){var g=a.i<<8|a.f,h=g+d+(a.a&1);a.a=(g^h^d)>>8&16|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((d^g^32768)&(d^h)&32768)>>13;a.i=h>>8&255;a.f=h&255}function D(a,d,g){var h=d+g;a.a=a.a&196|(d^h^g)>>8&16|h>>16&1;return h&65535}function F(a,d){d=d-1&255;a.a=a.a&1|a.da[d];return d}function H(a,d){d=d+1&255;a.a=a.a&1|a.ea[d];return d}
function I(a){a.f=a.f-1&255;255==a.f&&(a.i=a.i-1&255)}function Ua(a){a.g=a.g-1&255;255==a.g&&(a.h=a.h-1&255)}function J(a){a.d=a.d-1&255;255==a.d&&(a.e=a.e-1&255)}function K(a){a.f=a.f+1&255;0==a.f&&(a.i=a.i+1&255)}function Va(a){a.g=a.g+1&255;0==a.g&&(a.h=a.h+1&255)}function Wa(a,d){a.q=d>>8;a.o=d&255}function Xa(a,d){a.p=d>>8;a.n=d&255}function Ya(a,d){a.i=d>>8;a.f=d&255}function L(a){return a.q<<8|a.o}function M(a){return a.p<<8|a.n}function N(a){return a.i<<8|a.f}
function O(a){return a.h<<8|a.g}function P(a){return a.e<<8|a.d}function Q(a,d){a.a=a.u[a.c<<8|a.c-d&255]}function R(a,d){var g=a.a&1,h=a.c-d-g&255;a.a=a.u[g<<16|a.c<<8|h];a.c=h}function u(a,d){var g=a.c-d&255;a.a=a.u[a.c<<8|g];a.c=g}function S(a,d){var g=a.a&1,h=a.c+d+g&255;a.a=a.w[g<<16|a.c<<8|h];a.c=h}function v(a,d){var g=a.c+d&255;a.a=a.w[a.c<<8|g];a.c=g}
function Za(a,d){var g=d+x(a)&65535,h=y(a,++a.b);a.l-=Ka[h];switch(h){case 6:h=$a(a,y(a,g));p(a,g,h);break;case 14:h=ab(a,y(a,g));p(a,g,h);break;case 22:h=U(a,y(a,g));p(a,g,h);break;case 30:h=bb(a,y(a,g));p(a,g,h);break;case 38:h=cb(a,y(a,g));p(a,g,h);break;case 46:h=db(a,y(a,g));p(a,g,h);break;case 54:h=eb(a,y(a,g));p(a,g,h);break;case 62:h=fb(a,y(a,g));p(a,g,h);break;case 70:X(a,y(a,g)&1);break;case 78:X(a,y(a,g)&2);break;case 86:X(a,y(a,g)&4);break;case 94:X(a,y(a,g)&8);break;case 102:X(a,y(a,
g)&16);break;case 110:X(a,y(a,g)&32);break;case 118:X(a,y(a,g)&64);break;case 126:X(a,y(a,g)&128);break;case 134:h=y(a,g)&-2;p(a,g,h);break;case 142:h=y(a,g)&-3;p(a,g,h);break;case 150:h=y(a,g)&-5;p(a,g,h);break;case 158:h=y(a,g)&-9;p(a,g,h);break;case 166:h=y(a,g)&-17;p(a,g,h);break;case 174:h=y(a,g)&-33;p(a,g,h);break;case 182:h=y(a,g)&-65;p(a,g,h);break;case 190:h=y(a,g)&-129;p(a,g,h);break;case 198:h=y(a,g)|1;p(a,g,h);break;case 206:h=y(a,g)|2;p(a,g,h);break;case 214:h=y(a,g)|4;p(a,g,h);break;
case 222:h=y(a,g)|8;p(a,g,h);break;case 230:h=y(a,g)|16;p(a,g,h);break;case 238:h=y(a,g)|32;p(a,g,h);break;case 246:h=y(a,g)|64;p(a,g,h);break;case 254:h=y(a,g)|128,p(a,g,h)}a.b++}function X(a,d){a.a=a.a&1|a.ya[d]}function fb(a,d){var g=d&1,d=d>>1&255;a.a=g|a.j[d];return d}function db(a,d){var g=d&1,d=d>>1|d&128;a.a=g|a.j[d];return d}function eb(a,d){var g=(d&128)>>7,d=(d<<1|1)&255;a.a=g|a.j[d];return d}function cb(a,d){var g=(d&128)>>7,d=d<<1&255;a.a=g|a.j[d];return d}
function bb(a,d){var g=d&1,d=(d>>1|a.a<<7)&255;a.a=g|a.j[d];return d}function U(a,d){var g=(d&128)>>7,d=(d<<1|a.a&1)&255;a.a=g|a.j[d];return d}function ab(a,d){var g=d&1,d=(d>>1|d<<7)&255;a.a=g|a.j[d];return d}function $a(a,d){var g=(d&128)>>7,d=(d<<1|d>>7)&255;a.a=g|a.j[d];return d}function qb(a,d){var g=F(a,y(a,d));p(a,d,g)}function rb(a,d){var g=H(a,y(a,d));p(a,d,g)}function sb(a,d){d&&(a.b=w(a,a.k),a.k+=2,a.l-=6)}function tb(a,d){if(d){var g=x(a)+1;a.b+=128>g?g:g-256;a.l-=5}else a.b++}
function ub(a,d){a.b=d?w(a,a.b):a.b+2}
function ta(a,d,g){var h,j,o;a.l+=d;0!=d&&(a.yb=d);for(;a.l>g;){if(a.Q){var m=a;m.O&&!m.na&&((m.ha&&(m.b++,m.ha=l),m.O=m.P=l,m.Q=l,m.push(m.b),0==m.ra)?(m.b=0==m.sa||255==m.sa?56:m.sa,m.l-=13):1==m.ra?(m.b=56,m.l-=13):(m.b=w(m,(m.Ga<<8)+m.sa),m.l-=19))}j=y(a,a.b++);a.na=l;a.l-=Ga[j];switch(j){case 1:a.d=y(a,a.b++);a.e=y(a,a.b++);break;case 2:p(a,P(a),a.c);break;case 3:var q=a;q.d=q.d+1&255;0==q.d&&(q.e=q.e+1&255);break;case 4:a.e=H(a,a.e);break;case 5:a.e=F(a,a.e);break;case 6:a.e=y(a,a.b++);break;
case 7:var t=a,C=t.c>>7;t.c=t.c<<1&255|C;t.a=t.a&236|C;break;case 8:var s=a,G=s.c;s.c=s.Qa;s.Qa=G;G=s.a;s.a=s.Xa;s.Xa=G;break;case 9:Ya(a,D(a,N(a),P(a)));break;case 10:a.c=y(a,P(a));break;case 11:J(a);break;case 12:a.d=H(a,a.d);break;case 13:a.d=F(a,a.d);break;case 14:a.d=y(a,a.b++);break;case 15:var B=a,E=B.c&1;B.c=B.c>>1|E<<7;B.a=B.a&236|E;break;case 16:a.e=a.e-1&255;tb(a,0!=a.e);break;case 17:a.g=y(a,a.b++);a.h=y(a,a.b++);break;case 18:p(a,O(a),a.c);break;case 19:Va(a);break;case 20:a.h=H(a,a.h);
break;case 21:a.h=F(a,a.h);break;case 22:a.h=y(a,a.b++);break;case 23:var z=a,oa=z.c>>7;z.c=(z.c<<1|z.a&1)&255;z.a=z.a&236|oa;break;case 24:a.b+=x(a)+1;break;case 25:Ya(a,D(a,N(a),O(a)));break;case 26:a.c=y(a,O(a));break;case 27:Ua(a);break;case 28:a.g=H(a,a.g);break;case 29:a.g=F(a,a.g);break;case 30:a.g=y(a,a.b++);break;case 31:var V=a,W=V.c&1;V.c=(V.c>>1|(V.a&1)<<7)&255;V.a=V.a&236|W;break;case 32:tb(a,0==(a.a&64));break;case 33:a.f=y(a,a.b++);a.i=y(a,a.b++);break;case 34:h=w(a,a.b);p(a,h,a.f);
var pa=++h;p(a,pa,a.i);a.b+=2;break;case 35:K(a);break;case 36:a.i=H(a,a.i);break;case 37:a.i=F(a,a.i);break;case 38:a.i=y(a,a.b++);break;case 39:var ja=a,gb=ja.kb[ja.c|(ja.a&1)<<8|(ja.a&2)<<8|(ja.a&16)<<6];ja.c=gb&255;ja.a=ja.a&2|gb>>8;break;case 40:tb(a,0!=(a.a&64));break;case 41:Ya(a,D(a,N(a),N(a)));break;case 42:h=w(a,a.b);a.f=y(a,h);a.i=y(a,h+1);a.b+=2;break;case 43:I(a);break;case 44:a.f=H(a,a.f);break;case 45:a.f=F(a,a.f);break;case 46:a.f=y(a,a.b++);break;case 47:var Ha=a;Ha.c^=255;Ha.a|=
18;break;case 48:tb(a,0==(a.a&1));break;case 49:a.k=w(a,a.b);a.b+=2;break;case 50:var xb=w(a,a.b);p(a,xb,a.c);a.b+=2;break;case 51:a.k++;break;case 52:rb(a,N(a));break;case 53:qb(a,N(a));break;case 54:var yb=y(a,a.b++);p(a,N(a),yb);break;case 55:a.a|=1;a.a&=-3;a.a&=-17;break;case 56:tb(a,0!=(a.a&1));break;case 57:Ya(a,D(a,N(a),a.k));break;case 58:a.c=y(a,w(a,a.b));a.b+=2;break;case 59:a.k--;break;case 60:a.c=H(a,a.c);break;case 61:a.c=F(a,a.c);break;case 62:a.c=y(a,a.b++);break;case 63:var T=a;0!=
(T.a&1)?(T.a&=-2,T.a|=16):(T.a|=1,T.a&=-17);T.a&=-3;break;case 65:a.e=a.d;break;case 66:a.e=a.h;break;case 67:a.e=a.g;break;case 68:a.e=a.i;break;case 69:a.e=a.f;break;case 70:a.e=y(a,N(a));break;case 71:a.e=a.c;break;case 72:a.d=a.e;break;case 74:a.d=a.h;break;case 75:a.d=a.g;break;case 76:a.d=a.i;break;case 77:a.d=a.f;break;case 78:a.d=y(a,N(a));break;case 79:a.d=a.c;break;case 80:a.h=a.e;break;case 81:a.h=a.d;break;case 83:a.h=a.g;break;case 84:a.h=a.i;break;case 85:a.h=a.f;break;case 86:a.h=y(a,
N(a));break;case 87:a.h=a.c;break;case 88:a.g=a.e;break;case 89:a.g=a.d;break;case 90:a.g=a.h;break;case 92:a.g=a.i;break;case 93:a.g=a.f;break;case 94:a.g=y(a,N(a));break;case 95:a.g=a.c;break;case 96:a.i=a.e;break;case 97:a.i=a.d;break;case 98:a.i=a.h;break;case 99:a.i=a.g;break;case 101:a.i=a.f;break;case 102:a.i=y(a,N(a));break;case 103:a.i=a.c;break;case 104:a.f=a.e;break;case 105:a.f=a.d;break;case 106:a.f=a.h;break;case 107:a.f=a.g;break;case 108:a.f=a.i;break;case 110:a.f=y(a,N(a));break;
case 111:a.f=a.c;break;case 112:p(a,N(a),a.e);break;case 113:p(a,N(a),a.d);break;case 114:p(a,N(a),a.h);break;case 115:p(a,N(a),a.g);break;case 116:p(a,N(a),a.i);break;case 117:p(a,N(a),a.f);break;case 118:a.ha=k;a.b--;break;case 119:p(a,N(a),a.c);break;case 120:a.c=a.e;break;case 121:a.c=a.d;break;case 122:a.c=a.h;break;case 123:a.c=a.g;break;case 124:a.c=a.i;break;case 125:a.c=a.f;break;case 126:a.c=y(a,N(a));break;case 128:v(a,a.e);break;case 129:v(a,a.d);break;case 130:v(a,a.h);break;case 131:v(a,
a.g);break;case 132:v(a,a.i);break;case 133:v(a,a.f);break;case 134:v(a,y(a,N(a)));break;case 135:v(a,a.c);break;case 136:S(a,a.e);break;case 137:S(a,a.d);break;case 138:S(a,a.h);break;case 139:S(a,a.g);break;case 140:S(a,a.i);break;case 141:S(a,a.f);break;case 142:S(a,y(a,N(a)));break;case 143:S(a,a.c);break;case 144:u(a,a.e);break;case 145:u(a,a.d);break;case 146:u(a,a.h);break;case 147:u(a,a.g);break;case 148:u(a,a.i);break;case 149:u(a,a.f);break;case 150:u(a,y(a,N(a)));break;case 151:u(a,a.c);
break;case 152:R(a,a.e);break;case 153:R(a,a.d);break;case 154:R(a,a.h);break;case 155:R(a,a.g);break;case 156:R(a,a.i);break;case 157:R(a,a.f);break;case 158:R(a,y(a,N(a)));break;case 159:R(a,a.c);break;case 160:a.a=a.j[a.c&=a.e]|16;break;case 161:a.a=a.j[a.c&=a.d]|16;break;case 162:a.a=a.j[a.c&=a.h]|16;break;case 163:a.a=a.j[a.c&=a.g]|16;break;case 164:a.a=a.j[a.c&=a.i]|16;break;case 165:a.a=a.j[a.c&=a.f]|16;break;case 166:a.a=a.j[a.c&=y(a,N(a))]|16;break;case 167:a.a=a.j[a.c]|16;break;case 168:a.a=
a.j[a.c^=a.e];break;case 169:a.a=a.j[a.c^=a.d];break;case 170:a.a=a.j[a.c^=a.h];break;case 171:a.a=a.j[a.c^=a.g];break;case 172:a.a=a.j[a.c^=a.i];break;case 173:a.a=a.j[a.c^=a.f];break;case 174:a.a=a.j[a.c^=y(a,N(a))];break;case 175:a.a=a.j[a.c=0];break;case 176:a.a=a.j[a.c|=a.e];break;case 177:a.a=a.j[a.c|=a.d];break;case 178:a.a=a.j[a.c|=a.h];break;case 179:a.a=a.j[a.c|=a.g];break;case 180:a.a=a.j[a.c|=a.i];break;case 181:a.a=a.j[a.c|=a.f];break;case 182:a.a=a.j[a.c|=y(a,N(a))];break;case 183:a.a=
a.j[a.c];break;case 184:Q(a,a.e);break;case 185:Q(a,a.d);break;case 186:Q(a,a.h);break;case 187:Q(a,a.g);break;case 188:Q(a,a.i);break;case 189:Q(a,a.f);break;case 190:Q(a,y(a,N(a)));break;case 191:Q(a,a.c);break;case 192:sb(a,0==(a.a&64));break;case 193:var hb=a,ib=w(a,a.k);hb.e=ib>>8;hb.d=ib&255;a.k+=2;break;case 194:ub(a,0==(a.a&64));break;case 195:a.b=w(a,a.b);break;case 196:a.call(0==(a.a&64));break;case 197:a.push(a.e,a.d);break;case 198:v(a,y(a,a.b++));break;case 199:a.push(a.b);a.b=0;break;
case 200:sb(a,0!=(a.a&64));break;case 201:a.b=w(a,a.k);a.k+=2;break;case 202:ub(a,0!=(a.a&64));break;case 203:var b=a,jb=y(a,a.b++);b.l-=Ia[jb];switch(jb){case 0:b.e=$a(b,b.e);break;case 1:b.d=$a(b,b.d);break;case 2:b.h=$a(b,b.h);break;case 3:b.g=$a(b,b.g);break;case 4:b.i=$a(b,b.i);break;case 5:b.f=$a(b,b.f);break;case 6:var zb=$a(b,y(b,N(b)));p(b,N(b),zb);break;case 7:b.c=$a(b,b.c);break;case 8:b.e=ab(b,b.e);break;case 9:b.d=ab(b,b.d);break;case 10:b.h=ab(b,b.h);break;case 11:b.g=ab(b,b.g);break;
case 12:b.i=ab(b,b.i);break;case 13:b.f=ab(b,b.f);break;case 14:var Ab=ab(b,y(b,N(b)));p(b,N(b),Ab);break;case 15:b.c=ab(b,b.c);break;case 16:b.e=U(b,b.e);break;case 17:b.d=U(b,b.d);break;case 18:b.h=U(b,b.h);break;case 19:b.g=U(b,b.g);break;case 20:b.i=U(b,b.i);break;case 21:b.f=U(b,b.f);break;case 22:var Bb=U(b,y(b,N(b)));p(b,N(b),Bb);break;case 23:b.c=U(b,b.c);break;case 24:b.e=bb(b,b.e);break;case 25:b.d=bb(b,b.d);break;case 26:b.h=bb(b,b.h);break;case 27:b.g=bb(b,b.g);break;case 28:b.i=bb(b,
b.i);break;case 29:b.f=bb(b,b.f);break;case 30:var Cb=bb(b,y(b,N(b)));p(b,N(b),Cb);break;case 31:b.c=bb(b,b.c);break;case 32:b.e=cb(b,b.e);break;case 33:b.d=cb(b,b.d);break;case 34:b.h=cb(b,b.h);break;case 35:b.g=cb(b,b.g);break;case 36:b.i=cb(b,b.i);break;case 37:b.f=cb(b,b.f);break;case 38:var Db=cb(b,y(b,N(b)));p(b,N(b),Db);break;case 39:b.c=cb(b,b.c);break;case 40:b.e=db(b,b.e);break;case 41:b.d=db(b,b.d);break;case 42:b.h=db(b,b.h);break;case 43:b.g=db(b,b.g);break;case 44:b.i=db(b,b.i);break;
case 45:b.f=db(b,b.f);break;case 46:var Eb=db(b,y(b,N(b)));p(b,N(b),Eb);break;case 47:b.c=db(b,b.c);break;case 48:b.e=eb(b,b.e);break;case 49:b.d=eb(b,b.d);break;case 50:b.h=eb(b,b.h);break;case 51:b.g=eb(b,b.g);break;case 52:b.i=eb(b,b.i);break;case 53:b.f=eb(b,b.f);break;case 54:var Fb=eb(b,y(b,N(b)));p(b,N(b),Fb);break;case 55:b.c=eb(b,b.c);break;case 56:b.e=fb(b,b.e);break;case 57:b.d=fb(b,b.d);break;case 58:b.h=fb(b,b.h);break;case 59:b.g=fb(b,b.g);break;case 60:b.i=fb(b,b.i);break;case 61:b.f=
U(b,b.f);break;case 62:var Gb=fb(b,y(b,N(b)));p(b,N(b),Gb);break;case 63:b.c=fb(b,b.c);break;case 64:X(b,b.e&1);break;case 65:X(b,b.d&1);break;case 66:X(b,b.h&1);break;case 67:X(b,b.g&1);break;case 68:X(b,b.i&1);break;case 69:X(b,b.f&1);break;case 70:X(b,y(b,N(b))&1);break;case 71:X(b,b.c&1);break;case 72:X(b,b.e&2);break;case 73:X(b,b.d&2);break;case 74:X(b,b.h&2);break;case 75:X(b,b.g&2);break;case 76:X(b,b.i&2);break;case 77:X(b,b.f&2);break;case 78:X(b,y(b,N(b))&2);break;case 79:X(b,b.c&2);break;
case 80:X(b,b.e&4);break;case 81:X(b,b.d&4);break;case 82:X(b,b.h&4);break;case 83:X(b,b.g&4);break;case 84:X(b,b.i&4);break;case 85:X(b,b.f&4);break;case 86:X(b,y(b,N(b))&4);break;case 87:X(b,b.c&4);break;case 88:X(b,b.e&8);break;case 89:X(b,b.d&8);break;case 90:X(b,b.h&8);break;case 91:X(b,b.g&8);break;case 92:X(b,b.i&8);break;case 93:X(b,b.f&8);break;case 94:X(b,y(b,N(b))&8);break;case 95:X(b,b.c&8);break;case 96:X(b,b.e&16);break;case 97:X(b,b.d&16);break;case 98:X(b,b.h&16);break;case 99:X(b,
b.g&16);break;case 100:X(b,b.i&16);break;case 101:X(b,b.f&16);break;case 102:X(b,y(b,N(b))&16);break;case 103:X(b,b.c&16);break;case 104:X(b,b.e&32);break;case 105:X(b,b.d&32);break;case 106:X(b,b.h&32);break;case 107:X(b,b.g&32);break;case 108:X(b,b.i&32);break;case 109:X(b,b.f&32);break;case 110:X(b,y(b,N(b))&32);break;case 111:X(b,b.c&32);break;case 112:X(b,b.e&64);break;case 113:X(b,b.d&64);break;case 114:X(b,b.h&64);break;case 115:X(b,b.g&64);break;case 116:X(b,b.i&64);break;case 117:X(b,b.f&
64);break;case 118:X(b,y(b,N(b))&64);break;case 119:X(b,b.c&64);break;case 120:X(b,b.e&128);break;case 121:X(b,b.d&128);break;case 122:X(b,b.h&128);break;case 123:X(b,b.g&128);break;case 124:X(b,b.i&128);break;case 125:X(b,b.f&128);break;case 126:X(b,y(b,N(b))&128);break;case 127:X(b,b.c&128);break;case 128:b.e&=-2;break;case 129:b.d&=-2;break;case 130:b.h&=-2;break;case 131:b.g&=-2;break;case 132:b.i&=-2;break;case 133:b.f&=-2;break;case 134:var Hb=y(b,N(b))&-2;p(b,N(b),Hb);break;case 135:b.c&=-2;
break;case 136:b.e&=-3;break;case 137:b.d&=-3;break;case 138:b.h&=-3;break;case 139:b.g&=-3;break;case 140:b.i&=-3;break;case 141:b.f&=-3;break;case 142:var Ib=y(b,N(b))&-3;p(b,N(b),Ib);break;case 143:b.c&=-3;break;case 144:b.e&=-5;break;case 145:b.d&=-5;break;case 146:b.h&=-5;break;case 147:b.g&=-5;break;case 148:b.i&=-5;break;case 149:b.f&=-5;break;case 150:var Jb=y(b,N(b))&-5;p(b,N(b),Jb);break;case 151:b.c&=-5;break;case 152:b.e&=-9;break;case 153:b.d&=-9;break;case 154:b.h&=-9;break;case 155:b.g&=
-9;break;case 156:b.i&=-9;break;case 157:b.f&=-9;break;case 158:var Kb=y(b,N(b))&-9;p(b,N(b),Kb);break;case 159:b.c&=-9;break;case 160:b.e&=-17;break;case 161:b.d&=-17;break;case 162:b.h&=-17;break;case 163:b.g&=-17;break;case 164:b.i&=-17;break;case 165:b.f&=-17;break;case 166:var Lb=y(b,N(b))&-17;p(b,N(b),Lb);break;case 167:b.c&=-17;break;case 168:b.e&=-33;break;case 169:b.d&=-33;break;case 170:b.h&=-33;break;case 171:b.g&=-33;break;case 172:b.i&=-33;break;case 173:b.f&=-33;break;case 174:var Mb=
y(b,N(b))&-33;p(b,N(b),Mb);break;case 175:b.c&=-33;break;case 176:b.e&=-65;break;case 177:b.d&=-65;break;case 178:b.h&=-65;break;case 179:b.g&=-65;break;case 180:b.i&=-65;break;case 181:b.f&=-65;break;case 182:var Nb=y(b,N(b))&-65;p(b,N(b),Nb);break;case 183:b.c&=-65;break;case 184:b.e&=-129;break;case 185:b.d&=-129;break;case 186:b.h&=-129;break;case 187:b.g&=-129;break;case 188:b.i&=-129;break;case 189:b.f&=-129;break;case 190:var Ob=y(b,N(b))&-129;p(b,N(b),Ob);break;case 191:b.c&=-129;break;case 192:b.e|=
1;break;case 193:b.d|=1;break;case 194:b.h|=1;break;case 195:b.g|=1;break;case 196:b.i|=1;break;case 197:b.f|=1;break;case 198:var Pb=y(b,N(b))|1;p(b,N(b),Pb);break;case 199:b.c|=1;break;case 200:b.e|=2;break;case 201:b.d|=2;break;case 202:b.h|=2;break;case 203:b.g|=2;break;case 204:b.i|=2;break;case 205:b.f|=2;break;case 206:var Qb=y(b,N(b))|2;p(b,N(b),Qb);break;case 207:b.c|=2;break;case 208:b.e|=4;break;case 209:b.d|=4;break;case 210:b.h|=4;break;case 211:b.g|=4;break;case 212:b.i|=4;break;case 213:b.f|=
4;break;case 214:var Rb=y(b,N(b))|4;p(b,N(b),Rb);break;case 215:b.c|=4;break;case 216:b.e|=8;break;case 217:b.d|=8;break;case 218:b.h|=8;break;case 219:b.g|=8;break;case 220:b.i|=8;break;case 221:b.f|=8;break;case 222:var Sb=y(b,N(b))|8;p(b,N(b),Sb);break;case 223:b.c|=8;break;case 224:b.e|=16;break;case 225:b.d|=16;break;case 226:b.h|=16;break;case 227:b.g|=16;break;case 228:b.i|=16;break;case 229:b.f|=16;break;case 230:var Tb=y(b,N(b))|16;p(b,N(b),Tb);break;case 231:b.c|=16;break;case 232:b.e|=
32;break;case 233:b.d|=32;break;case 234:b.h|=32;break;case 235:b.g|=32;break;case 236:b.i|=32;break;case 237:b.f|=32;break;case 238:var Ub=y(b,N(b))|32;p(b,N(b),Ub);break;case 239:b.c|=32;break;case 240:b.e|=64;break;case 241:b.d|=64;break;case 242:b.h|=64;break;case 243:b.g|=64;break;case 244:b.i|=64;break;case 245:b.f|=64;break;case 246:var Vb=y(b,N(b))|64;p(b,N(b),Vb);break;case 247:b.c|=64;break;case 248:b.e|=128;break;case 249:b.d|=128;break;case 250:b.h|=128;break;case 251:b.g|=128;break;case 252:b.i|=
128;break;case 253:b.f|=128;break;case 254:var Wb=y(b,N(b))|128;p(b,N(b),Wb);break;case 255:b.c|=128}break;case 204:a.call(0!=(a.a&64));break;case 205:a.push(a.b+2);a.b=w(a,a.b);break;case 206:S(a,y(a,a.b++));break;case 207:a.push(a.b);a.b=8;break;case 208:sb(a,0==(a.a&1));break;case 209:var kb=a,lb=w(a,a.k);kb.h=lb>>8;kb.g=lb&255;a.k+=2;break;case 210:ub(a,0==(a.a&1));break;case 211:Y(a.port,y(a,a.b++),a.c);break;case 212:a.call(0==(a.a&1));break;case 213:a.push(a.h,a.g);break;case 214:u(a,y(a,a.b++));
break;case 215:a.push(a.b);a.b=16;break;case 216:sb(a,0!=(a.a&1));break;case 217:var ka=a,Na=ka.e;ka.e=ka.Ra;ka.Ra=Na;Na=ka.d;ka.d=ka.Ta;ka.Ta=Na;var la=a,Oa=la.h;la.h=la.Va;la.Va=Oa;Oa=la.g;la.g=la.Wa;la.Wa=Oa;var ma=a,Pa=ma.i;ma.i=ma.Ya;ma.Ya=Pa;Pa=ma.f;ma.f=ma.$a;ma.$a=Pa;break;case 218:ub(a,0!=(a.a&1));break;case 219:a.c=Z(a.port,y(a,a.b++));break;case 220:a.call(0!=(a.a&1));break;case 221:var e=a,mb=y(a,a.b++),va=i,Qa=i;e.l-=Ja[mb];switch(mb){case 9:Xa(e,D(e,M(e),P(e)));break;case 25:Xa(e,D(e,
M(e),O(e)));break;case 33:Xa(e,w(e,e.b));e.b+=2;break;case 34:var va=w(e,e.b),Xb=va++;p(e,Xb,e.n);p(e,va,e.p);e.b+=2;break;case 35:var Aa=e;Aa.n=Aa.n+1&255;0==Aa.n&&(Aa.p=Aa.p+1&255);break;case 36:e.p=H(e,e.p);break;case 37:e.p=F(e,e.p);break;case 38:e.p=y(e,e.b++);break;case 41:Xa(e,D(e,M(e),M(e)));break;case 42:va=w(e,e.b);e.n=y(e,va);e.p=y(e,++va);e.b+=2;break;case 43:var Ba=e;Ba.n=Ba.n-1&255;255==Ba.n&&(Ba.p=Ba.p-1&255);break;case 44:e.n=H(e,e.n);break;case 45:e.n=F(e,e.n);break;case 46:e.n=y(e,
e.b++);break;case 52:rb(e,M(e)+x(e));e.b++;break;case 53:qb(e,M(e)+x(e));e.b++;break;case 54:var Yb=M(e)+x(e),Zb=y(e,++e.b);p(e,Yb,Zb);e.b++;break;case 57:Xa(e,D(e,M(e),e.k));break;case 68:e.e=e.p;break;case 69:e.e=e.n;break;case 70:e.e=y(e,M(e)+x(e));e.b++;break;case 76:e.d=e.p;break;case 77:e.d=e.n;break;case 78:e.d=y(e,M(e)+x(e));e.b++;break;case 84:e.h=e.p;break;case 85:e.h=e.n;break;case 86:e.h=y(e,M(e)+x(e));e.b++;break;case 92:e.g=e.p;break;case 93:e.g=e.n;break;case 94:e.g=y(e,M(e)+x(e));
e.b++;break;case 96:e.p=e.e;break;case 97:e.p=e.d;break;case 98:e.p=e.h;break;case 99:e.p=e.g;break;case 100:break;case 101:e.p=e.n;break;case 102:e.i=y(e,M(e)+x(e));e.b++;break;case 103:e.p=e.c;break;case 104:e.n=e.e;break;case 105:e.n=e.d;break;case 106:e.n=e.h;break;case 107:e.n=e.g;break;case 108:e.n=e.p;break;case 109:break;case 110:e.f=y(e,M(e)+x(e));e.b++;break;case 111:e.n=e.c;break;case 112:var $b=M(e)+x(e);p(e,$b,e.e);e.b++;break;case 113:var ac=M(e)+x(e);p(e,ac,e.d);e.b++;break;case 114:var bc=
M(e)+x(e);p(e,bc,e.h);e.b++;break;case 115:var cc=M(e)+x(e);p(e,cc,e.g);e.b++;break;case 116:var dc=M(e)+x(e);p(e,dc,e.i);e.b++;break;case 117:var ec=M(e)+x(e);p(e,ec,e.f);e.b++;break;case 119:var fc=M(e)+x(e);p(e,fc,e.c);e.b++;break;case 124:e.c=e.p;break;case 125:e.c=e.n;break;case 126:e.c=y(e,M(e)+x(e));e.b++;break;case 132:v(e,e.p);break;case 133:v(e,e.n);break;case 134:v(e,y(e,M(e)+x(e)));e.b++;break;case 140:S(e,e.p);break;case 141:S(e,e.n);break;case 142:S(e,y(e,M(e)+x(e)));e.b++;break;case 148:u(e,
e.p);break;case 149:u(e,e.n);break;case 150:u(e,y(e,M(e)+x(e)));e.b++;break;case 156:R(e,e.p);break;case 157:R(e,e.n);break;case 158:R(e,y(e,M(e)+x(e)));e.b++;break;case 164:e.a=e.j[e.c&=e.p]|16;break;case 165:e.a=e.j[e.c&=e.n]|16;break;case 166:e.a=e.j[e.c&=y(e,M(e)+x(e))]|16;e.b++;break;case 172:e.a=e.j[e.c^=e.p];break;case 173:e.a=e.j[e.c^=e.n];break;case 174:e.a=e.j[e.c^=y(e,M(e)+x(e))];e.b++;break;case 180:e.a=e.j[e.c|=e.p];break;case 181:e.a=e.j[e.c|=e.n];break;case 182:e.a=e.j[e.c|=y(e,M(e)+
x(e))];e.b++;break;case 188:Q(e,e.p);break;case 189:Q(e,e.n);break;case 190:Q(e,y(e,M(e)+x(e)));e.b++;break;case 203:Za(e,M(e));break;case 225:Xa(e,w(e,e.k));e.k+=2;break;case 227:Qa=M(e);Xa(e,w(e,e.k));p(e,e.k,Qa&255);p(e,e.k+1,Qa>>8);break;case 229:e.push(e.p,e.n);break;case 233:e.b=M(e);break;case 249:e.k=M(e);break;default:e.b--}break;case 222:R(a,y(a,a.b++));break;case 223:a.push(a.b);a.b=24;break;case 224:sb(a,0==(a.a&4));break;case 225:Ya(a,w(a,a.k));a.k+=2;break;case 226:ub(a,0==(a.a&4));
break;case 227:o=a.i;a.i=y(a,a.k+1);p(a,a.k+1,o);o=a.f;a.f=y(a,a.k);p(a,a.k,o);break;case 228:a.call(0==(a.a&4));break;case 229:a.push(a.i,a.f);break;case 230:a.a=a.j[a.c&=y(a,a.b++)]|16;break;case 231:a.push(a.b);a.b=32;break;case 232:sb(a,0!=(a.a&4));break;case 233:a.b=N(a);break;case 234:ub(a,0!=(a.a&4));break;case 235:o=a.h;a.h=a.i;a.i=o;o=a.g;a.g=a.f;a.f=o;break;case 236:a.call(0!=(a.a&4));break;case 237:var c=a,nb=y(a,a.b),r=i,A=i,wa=i,ob=i;c.l-=La[nb];switch(nb){case 64:c.e=Z(c.port,c.d);c.a=
c.a&1|c.j[c.e];c.b++;break;case 65:Y(c.port,c.d,c.e);c.b++;break;case 66:Sa(c,P(c));c.b++;break;case 67:var A=w(c,c.b+1),gc=A++;p(c,gc,c.d);p(c,A,c.e);c.b+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:ob=c.c;c.c=0;u(c,ob);c.b++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:c.b=w(c,c.k);c.k+=2;c.O=c.P;break;case 70:case 78:case 102:case 110:c.ra=0;c.b++;break;case 71:c.Ga=c.c;c.b++;break;case 72:c.d=Z(c.port,c.d);c.a=c.a&1|c.j[c.d];c.b++;break;
case 73:Y(c.port,c.d,c.d);c.b++;break;case 74:Ta(c,P(c));c.b++;break;case 75:A=w(c,c.b+1);c.d=y(c,A++);c.e=y(c,A);c.b+=3;break;case 79:c.vb=c.c;c.b++;break;case 80:c.h=Z(c.port,c.d);c.a=c.a&1|c.j[c.h];c.b++;break;case 81:Y(c.port,c.d,c.h);c.b++;break;case 82:Sa(c,O(c));c.b++;break;case 83:var A=w(c,c.b+1),hc=A++;p(c,hc,c.g);p(c,A,c.h);c.b+=3;break;case 86:case 118:c.ra=1;c.b++;break;case 87:c.c=c.Ga;c.a=c.a&1|c.Pa[c.c]|(c.P?4:0);c.b++;break;case 88:c.g=Z(c.port,c.d);c.a=c.a&1|c.j[c.g];c.b++;break;
case 89:Y(c.port,c.d,c.g);c.b++;break;case 90:Ta(c,O(c));c.b++;break;case 91:A=w(c,c.b+1);c.g=y(c,A++);c.h=y(c,A);c.b+=3;break;case 95:c.c=Math.round(255*Math.random());c.a=c.a&1|c.Pa[c.c]|(c.P?4:0);c.b++;break;case 96:c.i=Z(c.port,c.d);c.a=c.a&1|c.j[c.i];c.b++;break;case 97:Y(c.port,c.d,c.i);c.b++;break;case 98:Sa(c,N(c));c.b++;break;case 99:var A=w(c,c.b+1),ic=A++;p(c,ic,c.f);p(c,A,c.i);c.b+=3;break;case 103:A=N(c);wa=y(c,A);p(c,A,wa>>4|(c.c&15)<<4);c.c=c.c&240|wa&15;c.a=c.a&1|c.j[c.c];c.b++;break;
case 104:c.f=Z(c.port,c.d);c.a=c.a&1|c.j[c.f];c.b++;break;case 105:Y(c.port,c.d,c.f);c.b++;break;case 106:Ta(c,N(c));c.b++;break;case 107:A=w(c,c.b+1);c.f=y(c,A++);c.i=y(c,A);c.b+=3;break;case 111:A=N(c);wa=y(c,A);p(c,A,(wa&15)<<4|c.c&15);c.c=c.c&240|wa>>4;c.a=c.a&1|c.j[c.c];c.b++;break;case 113:Y(c.port,c.d,0);c.b++;break;case 114:Sa(c,c.k);c.b++;break;case 115:var A=w(c,c.b+1),jc=A++;p(c,jc,c.k&255);p(c,A,c.k>>8);c.b+=3;break;case 120:c.c=Z(c.port,c.d);c.a=c.a&1|c.j[c.c];c.b++;break;case 121:Y(c.port,
c.d,c.c);c.b++;break;case 122:Ta(c,c.k);c.b++;break;case 123:c.k=w(c,w(c,c.b+1));c.b+=3;break;case 160:var kc=y(c,N(c));p(c,O(c),kc);Va(c);K(c);J(c);c.a=c.a&193|(0!=P(c)?4:0);c.b++;break;case 161:r=c.a&1|2;Q(c,y(c,N(c)));K(c);J(c);r|=0==P(c)?0:4;c.a=c.a&248|r;c.b++;break;case 162:r=Z(c.port,c.d);p(c,N(c),r);c.e=F(c,c.e);K(c);c.a=128==(r&128)?c.a|2:c.a&-3;c.b++;break;case 163:r=y(c,N(c));Y(c.port,c.d,r);K(c);c.e=F(c,c.e);255<c.f+r?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=128==(r&128)?c.a|2:c.a&-3;c.b++;
break;case 168:var lc=y(c,N(c));p(c,O(c),lc);Ua(c);I(c);J(c);c.a=c.a&193|(0!=P(c)?4:0);c.b++;break;case 169:r=c.a&1|2;Q(c,y(c,N(c)));I(c);J(c);r|=0==P(c)?0:4;c.a=c.a&248|r;c.b++;break;case 170:r=Z(c.port,c.d);p(c,N(c),r);c.e=F(c,c.e);I(c);c.a=0!=(r&128)?c.a|2:c.a&-3;c.b++;break;case 171:r=y(c,N(c));Y(c.port,c.d,r);I(c);c.e=F(c,c.e);255<c.f+r?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=128==(r&128)?c.a|2:c.a&-3;c.b++;break;case 176:var mc=y(c,N(c));p(c,O(c),mc);Va(c);K(c);J(c);0!=P(c)?(c.a|=4,c.l-=5,c.b--):
(c.a&=-5,c.b++);c.a&=-3;c.a&=-17;break;case 177:r=c.a&1|2;Q(c,y(c,N(c)));K(c);J(c);r|=0==P(c)?0:4;0!=(r&4)&&0==(c.a&64)?(c.l-=5,c.b--):c.b++;c.a=c.a&248|r;break;case 178:r=Z(c.port,c.d);p(c,N(c),r);c.e=F(c,c.e);K(c);0!=c.e?(c.l-=5,c.b--):c.b++;c.a=128==(r&128)?c.a|2:c.a&-3;break;case 179:r=y(c,N(c));Y(c.port,c.d,r);c.e=F(c,c.e);K(c);0!=c.e?(c.l-=5,c.b--):c.b++;255<c.f+r?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=0!=(r&128)?c.a|2:c.a&-3;break;case 184:var nc=y(c,N(c));p(c,O(c),nc);Ua(c);I(c);J(c);0!=
P(c)?(c.a|=4,c.l-=5,c.b--):(c.a&=-5,c.b++);c.a&=-3;c.a&=-17;break;case 185:r=c.a&1|2;Q(c,y(c,N(c)));I(c);J(c);r|=0==P(c)?0:4;0!=(r&4)&&0==(c.a&64)?(c.l-=5,c.b--):c.b++;c.a=c.a&248|r;break;case 186:r=Z(c.port,c.d);p(c,N(c),r);c.e=F(c,c.e);I(c);0!=c.e?(c.l-=5,c.b--):c.b++;c.a=0!=(r&128)?c.a|2:c.a&-3;break;case 187:r=y(c,N(c));Y(c.port,c.d,r);c.e=F(c,c.e);I(c);0!=c.e?(c.l-=5,c.b--):c.b++;255<c.f+r?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=0!=(r&128)?c.a|2:c.a&-3;break;default:c.b++}break;case 238:a.a=
a.j[a.c^=y(a,a.b++)];break;case 239:a.push(a.b);a.b=40;break;case 240:sb(a,0==(a.a&128));break;case 241:a.a=y(a,a.k++);a.c=y(a,a.k++);break;case 242:ub(a,0==(a.a&128));break;case 243:a.O=a.P=l;a.na=k;break;case 244:a.call(0==(a.a&128));break;case 245:a.push(a.c,a.a);break;case 246:a.a=a.j[a.c|=y(a,a.b++)];break;case 247:a.push(a.b);a.b=48;break;case 248:sb(a,0!=(a.a&128));break;case 249:a.k=N(a);break;case 250:ub(a,0!=(a.a&128));break;case 251:a.O=a.P=a.na=k;break;case 252:a.call(0!=(a.a&128));break;
case 253:var f=a,pb=y(a,a.b++),xa=i,Ra=i;f.l-=Ja[pb];switch(pb){case 9:Wa(f,D(f,L(f),P(f)));break;case 25:Wa(f,D(f,L(f),O(f)));break;case 33:Wa(f,w(f,f.b));f.b+=2;break;case 34:var xa=w(f,f.b),oc=xa++;p(f,oc,f.o);p(f,xa,f.q);f.b+=2;break;case 35:var Ca=f;Ca.o=Ca.o+1&255;0==Ca.o&&(Ca.q=Ca.q+1&255);break;case 36:f.q=H(f,f.q);break;case 37:f.q=F(f,f.q);break;case 38:f.q=y(f,f.b++);break;case 41:Wa(f,D(f,L(f),L(f)));break;case 42:xa=w(f,f.b);f.o=y(f,xa);f.q=y(f,++xa);f.b+=2;break;case 43:var Da=f;Da.o=
Da.o-1&255;255==Da.o&&(Da.q=Da.q-1&255);break;case 44:f.o=H(f,f.o);break;case 45:f.o=F(f,f.o);break;case 46:f.o=y(f,f.b++);break;case 52:rb(f,L(f)+x(f));f.b++;break;case 53:qb(f,L(f)+x(f));f.b++;break;case 54:var pc=L(f)+x(f),qc=y(f,++f.b);p(f,pc,qc);f.b++;break;case 57:Wa(f,D(f,L(f),f.k));break;case 68:f.e=f.q;break;case 69:f.e=f.o;break;case 70:f.e=y(f,L(f)+x(f));f.b++;break;case 76:f.d=f.q;break;case 77:f.d=f.o;break;case 78:f.d=y(f,L(f)+x(f));f.b++;break;case 84:f.h=f.q;break;case 85:f.h=f.o;
break;case 86:f.h=y(f,L(f)+x(f));f.b++;break;case 92:f.g=f.q;break;case 93:f.g=f.o;break;case 94:f.g=y(f,L(f)+x(f));f.b++;break;case 96:f.q=f.e;break;case 97:f.q=f.d;break;case 98:f.q=f.h;break;case 99:f.q=f.g;break;case 100:break;case 101:f.q=f.o;break;case 102:f.i=y(f,L(f)+x(f));f.b++;break;case 103:f.q=f.c;break;case 104:f.o=f.e;break;case 105:f.o=f.d;break;case 106:f.o=f.h;break;case 107:f.o=f.g;break;case 108:f.o=f.q;break;case 109:break;case 110:f.f=y(f,L(f)+x(f));f.b++;break;case 111:f.o=f.c;
break;case 112:var rc=L(f)+x(f);p(f,rc,f.e);f.b++;break;case 113:var sc=L(f)+x(f);p(f,sc,f.d);f.b++;break;case 114:var tc=L(f)+x(f);p(f,tc,f.h);f.b++;break;case 115:var uc=L(f)+x(f);p(f,uc,f.g);f.b++;break;case 116:var vc=L(f)+x(f);p(f,vc,f.i);f.b++;break;case 117:var wc=L(f)+x(f);p(f,wc,f.f);f.b++;break;case 119:var xc=L(f)+x(f);p(f,xc,f.c);f.b++;break;case 124:f.c=f.q;break;case 125:f.c=f.o;break;case 126:f.c=y(f,L(f)+x(f));f.b++;break;case 132:v(f,f.q);break;case 133:v(f,f.o);break;case 134:v(f,
y(f,L(f)+x(f)));f.b++;break;case 140:S(f,f.q);break;case 141:S(f,f.o);break;case 142:S(f,y(f,L(f)+x(f)));f.b++;break;case 148:u(f,f.q);break;case 149:u(f,f.o);break;case 150:u(f,y(f,L(f)+x(f)));f.b++;break;case 156:R(f,f.q);break;case 157:R(f,f.o);break;case 158:R(f,y(f,L(f)+x(f)));f.b++;break;case 164:f.a=f.j[f.c&=f.q]|16;break;case 165:f.a=f.j[f.c&=f.o]|16;break;case 166:f.a=f.j[f.c&=y(f,L(f)+x(f))]|16;f.b++;break;case 172:f.a=f.j[f.c^=f.q];break;case 173:f.a=f.j[f.c^=f.o];break;case 174:f.a=f.j[f.c^=
y(f,L(f)+x(f))];f.b++;break;case 180:f.a=f.j[f.c|=f.q];break;case 181:f.a=f.j[f.c|=f.o];break;case 182:f.a=f.j[f.c|=y(f,L(f)+x(f))];f.b++;break;case 188:Q(f,f.q);break;case 189:Q(f,f.o);break;case 190:Q(f,y(f,L(f)+x(f)));f.b++;break;case 203:Za(f,L(f));break;case 225:Wa(f,w(f,f.k));f.k+=2;break;case 227:Ra=L(f);Wa(f,w(f,f.k));p(f,f.k,Ra&255);p(f,f.k+1,Ra>>8);break;case 229:f.push(f.q,f.o);break;case 233:f.b=L(f);break;case 249:f.k=L(f);break;default:f.b--}break;case 254:Q(a,y(a,a.b++));break;case 255:a.push(a.b),
a.b=56}}};function fa(a){this.m=a;this.Ob=this.Nb=this.ga=this.r=this.s=0;this.Mb=this.Lb=l}
fa.prototype={reset:function(){this.ga=this.r=this.s=255;this.Ia=l},keydown:function(a){switch(a.keyCode){case 38:this.s&=-2;break;case 40:this.s&=-3;break;case 37:this.s&=-5;break;case 39:this.s&=-9;break;case 88:this.s&=-17;break;case 90:this.s&=-33;break;case 13:this.m.$?this.m.Ia=k:this.ga&=-129;break;case 104:this.r&=-2;break;case 98:this.r&=-3;break;case 100:this.r&=-5;break;case 102:this.r&=-9;break;case 103:this.r&=-17;break;case 105:this.r&=-33;break;case 97:this.r&=-65;break;default:return}a.preventDefault()},
keyup:function(a){switch(a.keyCode){case 38:this.s|=1;break;case 40:this.s|=2;break;case 37:this.s|=4;break;case 39:this.s|=8;break;case 88:this.s|=16;break;case 90:this.s|=32;break;case 13:this.m.$||(this.ga|=128);break;case 104:this.r|=1;break;case 98:this.r|=2;break;case 100:this.r|=4;break;case 102:this.r|=8;break;case 103:this.r|=16;break;case 105:this.r|=32;break;case 97:this.r|=64;break;default:return}a.preventDefault()}};var qa=Number.MIN_VALUE,vb=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ha(a){this.m=a;this.M=this.nb=0;this.C=Array(8);this.G=0;this.A=Array(4);this.J=Array(4);this.fa=Array(3);this.la=16;this.V=32768;this.ma=Array(4)}
ha.prototype={write:function(a){0!=(a&128)?(this.G=a>>4&7,this.C[this.G]=this.C[this.G]&1008|a&15):this.C[this.G]=0==this.G||2==this.G||4==this.G?this.C[this.G]&15|(a&63)<<4:a&15;switch(this.G){case 0:case 2:case 4:0==this.C[this.G]&&(this.C[this.G]=1);break;case 6:this.la=16<<(this.C[6]&3),this.V=32768}},update:function(a,d){var g=[],h,j;for(h=0;h<d;h++){for(j=0;3>j;j++)this.ma[j]=this.fa[j]!=qa?vb[this.C[(j<<1)+1]]*this.fa[j]>>8:vb[this.C[(j<<1)+1]]*this.J[j];this.ma[3]=vb[this.C[7]]*(this.V&1)<<
1;j=this.ma[0]+this.ma[1]+this.ma[2]+this.ma[3];127<j?j=127:-128>j&&(j=-128);g[a+h]=j;this.M+=this.nb;var o=this.M>>8,m=o<<8;this.M-=m;this.A[0]-=o;this.A[1]-=o;this.A[2]-=o;this.A[3]=128==this.la?this.A[2]:this.A[3]-o;for(j=0;3>j;j++){var q=this.A[j];if(0>=q){var t=this.C[j<<1];6<t?(this.fa[j]=(m-this.M+512*q<<8)*this.J[j]/(m+this.M),this.J[j]=-this.J[j]):(this.J[j]=1,this.fa[j]=qa);this.A[j]+=t*(o/t+1)}else this.fa[j]=qa}0>=this.A[3]&&(this.J[3]=-this.J[3],128!=this.la&&(this.A[3]+=this.la*(o/this.la+
1)),1==this.J[3]&&(this.V=this.V>>1|(0!=(this.C[6]&4)?0!=(this.V&9)&&0!=(this.V&9^9)?1:0:this.V&1)<<15))}return g}};function ga(a){this.m=a;this.ib=0;this.B=Array(16384);this.H=Array(32);for(a=0;32>a;a++)this.H[a]=0;this.t=Array(16);this.status=0;this.Y=l;this.qa=this.ia=this.Ja=this.va=this.location=this.N=0;this.oa=Array(256);this.X=Array(256);this.hb=this.Sa=0;this.display=Array(49152);this.tb=Array(64);this.lb=Array(256);this.mb=Array(16);this.ta=l;this.I=this.Za=this.Fa=0;this.R=l;this.ja=Array(192);for(a=0;192>a;a++)this.ja[a]=Array(25);this.Na=Array(512);this.ua=Array(512);for(a=this.aa=this.ka=0;512>a;a++)this.Na[a]=
Array(64)}
ga.prototype={reset:function(){var a;this.ta=l;var d,g,h;if(this.m.$&&!this.ta)for(a=0;64>a;a++)d=a&3,g=a>>2&3,h=a>>4&3,this.tb[a]=85*d|85*g<<8|85*h<<16,this.ta=k;else if(this.m.S&&!this.ta){for(a=0;256>a;a++)g=a&15,h=a>>4&15,this.lb[a]=h<<12|h<<8|g<<4|g;for(a=0;16>a;a++)this.mb[a]=a<<20;this.ta=k}this.Y=k;for(a=this.va=this.status=this.qa=this.location=0;16>a;a++)this.t[a]=0;this.t[2]=14;this.t[5]=126;this.hb=0;this.m.D.Q=l;this.R=k;this.ka=512;this.aa=-1;for(a=0;16384>a;a++)this.B[a]=0;for(a=0;49152>
a;a++)this.display[a]=0}};function wb(a){a.Sa=(a.t[2]&14)<<10;a.ka=0;a.aa=511;for(var d=0,g=a.ua.length;d<g;d++)a.ua[d]=k;a.I=(a.t[5]&-130)<<7;a.R=k};function ea(a){this.m=a;this.enable=ba();this.updateStatus=ba();this.Ib=ba();this.Ab=ba()}
"undefined"!==typeof $&&($.fn.Bb=function(a){function d(d){this.m=d;var j=this,d=$("<div></div>"),o=$('<div class="controls"></div>'),m=Fa(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),q;this.jb=l;this.sb=Fa(["hidden","mozHidden","webkitHidden","msHidden"]);this.screen=$('<canvas width=256 height=192 class="screen"></canvas>');this.pa=this.screen[0].getContext("2d");if(this.pa.getImageData){this.Ba=this.pa.getImageData(0,0,256,192);this.Gb();this.xb=$("<div></div>");this.ca=
$("<select></select>");this.ca.change(function(){j.bb()});this.z={start:$('<input type="button" value="Stop" class="btn" disabled="disabled">'),wb:$('<input type="button" value="Restart" class="btn" disabled="disabled">'),gb:$('<input type="button" value="Enable sound" class="btn" disabled="disabled">'),zoom:$('<input type="button" value="Zoom in" class="btn">')};this.z.start.click(function(){j.m.Ha?(j.m.stop(),j.updateStatus("Paused"),j.z.start.attr("value","Start")):(j.m.start(),j.z.start.attr("value",
"Stop"))});this.z.wb.click(function(){""!==j.m.eb&&""!==j.m.fb&&ua(j.m,j.m.eb,j.m.fb)?(j.m.reset(),wb(j.m.v),j.m.start()):$(this).attr("disabled","disabled")});this.z.gb.click(ba());this.z.zoom.click(function(){j.jb?(j.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),j.z.zoom.attr("value","Zoom in")):(j.screen.animate({width:"512px",height:"384px"}),j.z.zoom.attr("value","Zoom out"));j.jb=!j.jb});m&&(this.z.Kb=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=
j.screen[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}));for(q in this.z)this.z.hasOwnProperty(q)&&this.z[q].appendTo(o);this.log=$('<div id="status"></div>');this.screen.appendTo(d);this.xb.appendTo(d);o.appendTo(d);this.log.appendTo(d);d.appendTo($(g));"undefined"!=typeof a&&this.Hb(a);$(document).bind("keydown",function(a){j.m.T.keydown(a)}).bind("keyup",function(a){j.m.T.keyup(a)})}else $(g).html('<div class="alert-message error"><p><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest versions of Firefox, Google Chrome, Opera or Safari!</p></div>')}
var g=this;d.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.text("")},Gb:function(){this.pa.fillStyle="black";this.pa.fillRect(0,0,256,192);for(var a=3;a<=this.Ba.data.length-3;a+=4)this.Ba.data[a]=255},Hb:function(a){var d,g,m,q,t=0;this.ca.children().remove();$("<option>Select a ROM...</option>").appendTo(this.ca);for(d in a){if(a.hasOwnProperty(d)){g=$("<optgroup></optgroup>").attr("label",d);m=a[d].length;for(q=0;q<m;q++)$("<option>"+a[d][q][0]+"</option>").attr("value",
a[d][q][1]).appendTo(g);g.appendTo(this.ca)}t++}t&&this.ca.appendTo(this.xb)},bb:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.ca.val()),xhr:function(){var d=$.ajaxSettings.xhr();"undefined"!==typeof d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=d},complete:function(d){ua(a.m,d.responseText,a.ca.val());a.m.reset();wb(a.m.v);a.m.start();a.enable();a.z.start.removeAttr("disabled")}})},enable:function(){this.z.wb.removeAttr("disabled");
this.m.La?this.z.gb.attr("value","Disable sound"):this.z.gb.attr("value","Enable sound")},updateStatus:function(a){this.log.text(a)},Ib:ba(),Ab:function(a){if(!this.sb||!document[this.sb]){var d=this.Ba.data,g,m,q;for(m=0;49152>=m;m++)g=a[m],q=4*m,d[q]=g&255,d[q+1]=g>>8&255,d[q+2]=g>>16&255;this.pa.putImageData(this.Ba,0,0)}}};return d});function ia(a){this.m=a;this.v=a.v;this.wa=a.wa;this.T=a.T;this.qb=64;this.Fb=0;this.K=[]}ia.prototype={reset:function(){this.K=Array(2)}};
function Z(a,d){if(a.m.S&&7>d)switch(d){case 0:return a.T.ga&191|a.qb;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(d&193){case 64:var g;a:{g=a.v;if(0==g.ib){if(218<g.ia){g=g.ia-6;break a}}else if(242<g.ia){g=g.ia-57;break a}g=g.ia}return g;case 65:return a.Fb;case 128:g=a.v;g.Y=k;var h=g.Ja;g.Ja=g.B[g.location++&16383]&255;return h;case 129:return g=a.v,g.Y=k,h=g.status,g.status=0,g.m.D.Q=l,h;case 192:return a.T.s;case 193:return a.T.r&63|a.K[0]|a.K[1]}return 255}
function Y(a,d,g){if(!(a.m.S&&7>d))switch(d&193){case 1:a.K[0]=(g&32)<<1;a.K[1]=g&128;0==a.qb&&(a.K[0]=~a.K[0],a.K[1]=~a.K[1]);break;case 128:a=a.v;a.Y=k;switch(a.va){case 0:case 1:case 2:d=a.location&16383;if(g!=(a.B[d]&255)){if(d>=a.I&&d<a.I+64)a.R=k;else if(d>=a.I+128&&d<a.I+256)a.R=k;else{var h=d>>5;a.ua[h]=k;h<a.ka&&(a.ka=h);h>a.aa&&(a.aa=h)}a.B[d]=g}break;case 3:a.m.$?a.H[a.location&31]=a.tb[g&63]:a.m.S&&(a.H[(a.location&63)>>1]=0==(a.location&1)?a.lb[g]:a.H[(a.location&63)>>1]|a.mb[g&15])}a.Ja=
g;a.location++;break;case 129:a=a.v;if(a.Y)a.Y=l,a.N=g,a.location=a.location&16128|g;else if(a.Y=k,a.va=g>>6&3,a.location=a.N|g<<8,0==a.va)a.Ja=a.B[a.location++&16383]&255;else if(2==a.va){g&=15;switch(g){case 0:0!=(a.status&4)&&(a.m.D.Q=0!=(a.N&16));break;case 1:0!=(a.status&128)&&0!=(a.N&32)&&(a.m.D.Q=k);(a.N&3)!=(a.t[g]&3)&&(a.R=k);break;case 2:a.Sa=(a.N&14)<<10;break;case 5:d=a.I,a.I=(a.N&-130)<<7,d!=a.I&&(a.R=k)}a.t[g]=a.N}break;case 64:case 65:a.m.La&&a.wa.write(g)}};window.JSSMS=da;jQuery.fn.JSSMSUI=jQuery.fn.Bb;
