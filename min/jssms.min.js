/*
jsSMS - A Sega Master System/GameGear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var ea=void 0,f=!0,g=!1,fa=!(!window.DataView||!window.ArrayBuffer);function ga(b){this.e={ui:ja,swfPath:"lib/"};if(b!=ea)for(var d in this.e)b[d]!=ea&&(this.e[d]=b[d]);this.G=new ka(this);this.a=new b.ui(this);this.C=new la(this);this.c=new sa(this);this.d=new ta(this);this.b=new ua(this);this.a.updateStatus("Ready to load a ROM.");this.ui=this.a}
ga.prototype={ba:g,Ca:0,U:0,Da:0,ia:0,ja:0,ca:g,T:f,Z:g,V:g,fa:[],ga:0,la:0,da:[],xa:"",ya:"",reset:function(){var b=this.C.N,d=0;0==b||this.Z?(this.ia=60,this.U=262,d=3579545):(this.ia=50,this.U=313,d=3546893);this.Ca=Math.round(d/this.ia/this.U+1);this.C.N=b;if(this.V){b=this.c;b.m=(d<<8)/16/44100;b.e=0;b.c=0;b.h=16;b.f=32768;for(d=0;4>d;d++)b.b[d<<1]=1,b.b[(d<<1)+1]=15,b.a[d]=0,b.d[d]=1,3!=d&&(b.g[d]=va);this.la=Math.round(44100/this.ia);if(0==this.fa.length||this.fa.length!=this.la)this.fa=Array(this.la);
if(0==this.da.length||this.da.length!=this.U){this.da=Array(this.U);for(var c=0,d=0;d<this.U;d++)b=(this.la<<16)/this.U+c,c=b-(b>>16<<16),this.da[d]=b>>16}}this.ja=this.Da;this.G.reset();this.a.reset();this.C.reset();this.d.reset();this.b.reset()},start:function(){this.ba||(this.ba=f);this.a.requestAnimationFrame(this.Aa.bind(this),this.a.screen);this.a.updateStatus("Running")},stop:function(){this.ba=g},Aa:function(){if(this.ba){var b;for(var d=0;d<this.U;d++){var c=this.b;c.n+=this.Ca;if(c.L){var e=
c;e.I&&(e.P&&(e.c++,e.P=g),e.I=e.J=g,e.L=g,l(e,e.c),0==e.Q?(e.c=0==e.R||255==e.R?56:e.R,e.n-=13):1==e.Q?(e.c=56,e.n-=13):(e.c=e.q((e.X<<8)+e.R),e.n-=19))}for(;0<c.n;){var a=c,n=0,h=0,A=a.d(a.c++);a.n-=Ba[A];switch(A){case 1:var P=a.q(a.c++);a.g=P>>8;a.f=P&255;a.c++;break;case 2:a.e(p(a),a.a);break;case 3:a.f=a.f+1&255;0==a.f&&(a.g=a.g+1&255);break;case 4:a.g=q(a,a.g);break;case 5:a.g=r(a,a.g);break;case 6:a.g=a.d(a.c++);break;case 7:var da=a.a>>7;a.a=a.a<<1&255|da;a.b=a.b&236|da;break;case 8:var Q=
a.a;a.a=a.na;a.na=Q;Q=a.b;a.b=a.sa;a.sa=Q;break;case 9:La(a,s(a,w(a),p(a)));break;case 10:a.a=a.d(p(a));break;case 11:Pa(a);break;case 12:a.f=q(a,a.f);break;case 13:a.f=r(a,a.f);break;case 14:a.f=a.d(a.c++);break;case 15:var Ka=a.a&1;a.a=a.a>>1|Ka<<7;a.b=a.b&236|Ka;break;case 16:a.g=a.g-1&255;Qa(a,0!=a.g);break;case 17:var Db=a.q(a.c++);a.k=Db>>8;a.i=Db&255;a.c++;break;case 18:a.e(x(a),a.a);break;case 19:Ra(a);break;case 20:a.k=q(a,a.k);break;case 21:a.k=r(a,a.k);break;case 22:a.k=a.d(a.c++);break;
case 23:var oc=a.a>>7;a.a=(a.a<<1|a.b&1)&255;a.b=a.b&236|oc;break;case 24:a.c+=Ya(B(a)+1);break;case 25:La(a,s(a,w(a),x(a)));break;case 26:a.a=a.d(x(a));break;case 27:Za(a);break;case 28:a.i=q(a,a.i);break;case 29:a.i=r(a,a.i);break;case 30:a.i=a.d(a.c++);break;case 31:var pc=a.a&1;a.a=(a.a>>1|(a.b&1)<<7)&255;a.b=a.b&236|pc;break;case 32:Qa(a,0==(a.b&64));break;case 33:La(a,a.q(a.c++));a.c++;break;case 34:n=a.q(a.c);a.e(n,a.j);a.e(++n,a.h);a.c+=2;break;case 35:$a(a);break;case 36:a.h=q(a,a.h);break;
case 37:a.h=r(a,a.h);break;case 38:a.h=a.d(a.c++);break;case 39:var Fb=a.Ba[a.a|(a.b&1)<<8|(a.b&2)<<8|(a.b&16)<<6];a.a=Fb&255;a.b=a.b&2|Fb>>8;break;case 40:Qa(a,0!=(a.b&64));break;case 41:La(a,s(a,w(a),w(a)));break;case 42:La(a,a.q(a.q(a.c)));a.c+=2;break;case 43:ab(a);break;case 44:a.j=q(a,a.j);break;case 45:a.j=r(a,a.j);break;case 46:a.j=a.d(a.c++);break;case 47:a.a^=255;a.b|=18;break;case 48:Qa(a,0==(a.b&1));break;case 49:a.m=a.q(a.c);a.c+=2;break;case 50:a.e(a.q(a.c),a.a);a.c+=2;break;case 51:a.m++;
break;case 52:hb(a,w(a));break;case 53:vb(a,w(a));break;case 54:a.e(w(a),a.d(a.c++));break;case 55:a.b|=1;a.b&=-3;a.b&=-17;break;case 56:Qa(a,0!=(a.b&1));break;case 57:La(a,s(a,w(a),a.m));break;case 58:a.a=a.d(a.q(a.c));a.c+=2;break;case 59:a.m--;break;case 60:a.a=q(a,a.a);break;case 61:a.a=r(a,a.a);break;case 62:a.a=a.d(a.c++);break;case 63:0!=(a.b&1)?(a.b&=-2,a.b|=16):(a.b|=1,a.b&=-17);a.b&=-3;break;case 65:a.g=a.f;break;case 66:a.g=a.k;break;case 67:a.g=a.i;break;case 68:a.g=a.h;break;case 69:a.g=
a.j;break;case 70:a.g=a.d(w(a));break;case 71:a.g=a.a;break;case 72:a.f=a.g;break;case 74:a.f=a.k;break;case 75:a.f=a.i;break;case 76:a.f=a.h;break;case 77:a.f=a.j;break;case 78:a.f=a.d(w(a));break;case 79:a.f=a.a;break;case 80:a.k=a.g;break;case 81:a.k=a.f;break;case 83:a.k=a.i;break;case 84:a.k=a.h;break;case 85:a.k=a.j;break;case 86:a.k=a.d(w(a));break;case 87:a.k=a.a;break;case 88:a.i=a.g;break;case 89:a.i=a.f;break;case 90:a.i=a.k;break;case 92:a.i=a.h;break;case 93:a.i=a.j;break;case 94:a.i=
a.d(w(a));break;case 95:a.i=a.a;break;case 96:a.h=a.g;break;case 97:a.h=a.f;break;case 98:a.h=a.k;break;case 99:a.h=a.i;break;case 101:a.h=a.j;break;case 102:a.h=a.d(w(a));break;case 103:a.h=a.a;break;case 104:a.j=a.g;break;case 105:a.j=a.f;break;case 106:a.j=a.k;break;case 107:a.j=a.i;break;case 108:a.j=a.h;break;case 110:a.j=a.d(w(a));break;case 111:a.j=a.a;break;case 112:a.e(w(a),a.g);break;case 113:a.e(w(a),a.f);break;case 114:a.e(w(a),a.k);break;case 115:a.e(w(a),a.i);break;case 116:a.e(w(a),
a.h);break;case 117:a.e(w(a),a.j);break;case 118:a.n=0;a.P=f;a.c--;break;case 119:a.e(w(a),a.a);break;case 120:a.a=a.g;break;case 121:a.a=a.f;break;case 122:a.a=a.k;break;case 123:a.a=a.i;break;case 124:a.a=a.h;break;case 125:a.a=a.j;break;case 126:a.a=a.d(w(a));break;case 128:C(a,a.g);break;case 129:C(a,a.f);break;case 130:C(a,a.k);break;case 131:C(a,a.i);break;case 132:C(a,a.h);break;case 133:C(a,a.j);break;case 134:C(a,a.d(w(a)));break;case 135:C(a,a.a);break;case 136:D(a,a.g);break;case 137:D(a,
a.f);break;case 138:D(a,a.k);break;case 139:D(a,a.i);break;case 140:D(a,a.h);break;case 141:D(a,a.j);break;case 142:D(a,a.d(w(a)));break;case 143:D(a,a.a);break;case 144:E(a,a.g);break;case 145:E(a,a.f);break;case 146:E(a,a.k);break;case 147:E(a,a.i);break;case 148:E(a,a.h);break;case 149:E(a,a.j);break;case 150:E(a,a.d(w(a)));break;case 151:E(a,a.a);break;case 152:F(a,a.g);break;case 153:F(a,a.f);break;case 154:F(a,a.k);break;case 155:F(a,a.i);break;case 156:F(a,a.h);break;case 157:F(a,a.j);break;
case 158:F(a,a.d(w(a)));break;case 159:F(a,a.a);break;case 160:a.b=a.l[a.a&=a.g]|16;break;case 161:a.b=a.l[a.a&=a.f]|16;break;case 162:a.b=a.l[a.a&=a.k]|16;break;case 163:a.b=a.l[a.a&=a.i]|16;break;case 164:a.b=a.l[a.a&=a.h]|16;break;case 165:a.b=a.l[a.a&=a.j]|16;break;case 166:a.b=a.l[a.a&=a.d(w(a))]|16;break;case 167:a.b=a.l[a.a]|16;break;case 168:a.b=a.l[a.a^=a.g];break;case 169:a.b=a.l[a.a^=a.f];break;case 170:a.b=a.l[a.a^=a.k];break;case 171:a.b=a.l[a.a^=a.i];break;case 172:a.b=a.l[a.a^=a.h];
break;case 173:a.b=a.l[a.a^=a.j];break;case 174:a.b=a.l[a.a^=a.d(w(a))];break;case 175:a.b=a.l[a.a=0];break;case 176:a.b=a.l[a.a|=a.g];break;case 177:a.b=a.l[a.a|=a.f];break;case 178:a.b=a.l[a.a|=a.k];break;case 179:a.b=a.l[a.a|=a.i];break;case 180:a.b=a.l[a.a|=a.h];break;case 181:a.b=a.l[a.a|=a.j];break;case 182:a.b=a.l[a.a|=a.d(w(a))];break;case 183:a.b=a.l[a.a];break;case 184:G(a,a.g);break;case 185:G(a,a.f);break;case 186:G(a,a.k);break;case 187:G(a,a.i);break;case 188:G(a,a.h);break;case 189:G(a,
a.j);break;case 190:G(a,a.d(w(a)));break;case 191:G(a,a.a);break;case 192:wb(a,0==(a.b&64));break;case 193:var Gb=a.q(a.m);a.g=Gb>>8;a.f=Gb&255;a.m+=2;break;case 194:xb(a,0==(a.b&64));break;case 195:a.c=a.q(a.c);break;case 196:a.call(0==(a.b&64));break;case 197:yb(a,a.g,a.f);break;case 198:C(a,a.d(a.c++));break;case 199:l(a,a.c);a.c=0;break;case 200:wb(a,0!=(a.b&64));break;case 201:a.c=a.q(a.m);a.m+=2;break;case 202:xb(a,0!=(a.b&64));break;case 203:var Hb=a.d(a.c++);a.n-=zb[Hb];switch(Hb){case 0:a.g=
H(a,a.g);break;case 1:a.f=H(a,a.f);break;case 2:a.k=H(a,a.k);break;case 3:a.i=H(a,a.i);break;case 4:a.h=H(a,a.h);break;case 5:a.j=H(a,a.j);break;case 6:a.e(w(a),H(a,a.d(w(a))));break;case 7:a.a=H(a,a.a);break;case 8:a.g=I(a,a.g);break;case 9:a.f=I(a,a.f);break;case 10:a.k=I(a,a.k);break;case 11:a.i=I(a,a.i);break;case 12:a.h=I(a,a.h);break;case 13:a.j=I(a,a.j);break;case 14:a.e(w(a),I(a,a.d(w(a))));break;case 15:a.a=I(a,a.a);break;case 16:a.g=J(a,a.g);break;case 17:a.f=J(a,a.f);break;case 18:a.k=
J(a,a.k);break;case 19:a.i=J(a,a.i);break;case 20:a.h=J(a,a.h);break;case 21:a.j=J(a,a.j);break;case 22:a.e(w(a),J(a,a.d(w(a))));break;case 23:a.a=J(a,a.a);break;case 24:a.g=L(a,a.g);break;case 25:a.f=L(a,a.f);break;case 26:a.k=L(a,a.k);break;case 27:a.i=L(a,a.i);break;case 28:a.h=L(a,a.h);break;case 29:a.j=L(a,a.j);break;case 30:a.e(w(a),L(a,a.d(w(a))));break;case 31:a.a=L(a,a.a);break;case 32:a.g=M(a,a.g);break;case 33:a.f=M(a,a.f);break;case 34:a.k=M(a,a.k);break;case 35:a.i=M(a,a.i);break;case 36:a.h=
M(a,a.h);break;case 37:a.j=M(a,a.j);break;case 38:a.e(w(a),M(a,a.d(w(a))));break;case 39:a.a=M(a,a.a);break;case 40:a.g=N(a,a.g);break;case 41:a.f=N(a,a.f);break;case 42:a.k=N(a,a.k);break;case 43:a.i=N(a,a.i);break;case 44:a.h=N(a,a.h);break;case 45:a.j=N(a,a.j);break;case 46:a.e(w(a),N(a,a.d(w(a))));break;case 47:a.a=N(a,a.a);break;case 48:a.g=O(a,a.g);break;case 49:a.f=O(a,a.f);break;case 50:a.k=O(a,a.k);break;case 51:a.i=O(a,a.i);break;case 52:a.h=O(a,a.h);break;case 53:a.j=O(a,a.j);break;case 54:a.e(w(a),
O(a,a.d(w(a))));break;case 55:a.a=O(a,a.a);break;case 56:a.g=S(a,a.g);break;case 57:a.f=S(a,a.f);break;case 58:a.k=S(a,a.k);break;case 59:a.i=S(a,a.i);break;case 60:a.h=S(a,a.h);break;case 61:a.j=J(a,a.j);break;case 62:a.e(w(a),S(a,a.d(w(a))));break;case 63:a.a=S(a,a.a);break;case 64:T(a,a.g&1);break;case 65:T(a,a.f&1);break;case 66:T(a,a.k&1);break;case 67:T(a,a.i&1);break;case 68:T(a,a.h&1);break;case 69:T(a,a.j&1);break;case 70:T(a,a.d(w(a))&1);break;case 71:T(a,a.a&1);break;case 72:T(a,a.g&2);
break;case 73:T(a,a.f&2);break;case 74:T(a,a.k&2);break;case 75:T(a,a.i&2);break;case 76:T(a,a.h&2);break;case 77:T(a,a.j&2);break;case 78:T(a,a.d(w(a))&2);break;case 79:T(a,a.a&2);break;case 80:T(a,a.g&4);break;case 81:T(a,a.f&4);break;case 82:T(a,a.k&4);break;case 83:T(a,a.i&4);break;case 84:T(a,a.h&4);break;case 85:T(a,a.j&4);break;case 86:T(a,a.d(w(a))&4);break;case 87:T(a,a.a&4);break;case 88:T(a,a.g&8);break;case 89:T(a,a.f&8);break;case 90:T(a,a.k&8);break;case 91:T(a,a.i&8);break;case 92:T(a,
a.h&8);break;case 93:T(a,a.j&8);break;case 94:T(a,a.d(w(a))&8);break;case 95:T(a,a.a&8);break;case 96:T(a,a.g&16);break;case 97:T(a,a.f&16);break;case 98:T(a,a.k&16);break;case 99:T(a,a.i&16);break;case 100:T(a,a.h&16);break;case 101:T(a,a.j&16);break;case 102:T(a,a.d(w(a))&16);break;case 103:T(a,a.a&16);break;case 104:T(a,a.g&32);break;case 105:T(a,a.f&32);break;case 106:T(a,a.k&32);break;case 107:T(a,a.i&32);break;case 108:T(a,a.h&32);break;case 109:T(a,a.j&32);break;case 110:T(a,a.d(w(a))&32);
break;case 111:T(a,a.a&32);break;case 112:T(a,a.g&64);break;case 113:T(a,a.f&64);break;case 114:T(a,a.k&64);break;case 115:T(a,a.i&64);break;case 116:T(a,a.h&64);break;case 117:T(a,a.j&64);break;case 118:T(a,a.d(w(a))&64);break;case 119:T(a,a.a&64);break;case 120:T(a,a.g&128);break;case 121:T(a,a.f&128);break;case 122:T(a,a.k&128);break;case 123:T(a,a.i&128);break;case 124:T(a,a.h&128);break;case 125:T(a,a.j&128);break;case 126:T(a,a.d(w(a))&128);break;case 127:T(a,a.a&128);break;case 128:a.g&=-2;
break;case 129:a.f&=-2;break;case 130:a.k&=-2;break;case 131:a.i&=-2;break;case 132:a.h&=-2;break;case 133:a.j&=-2;break;case 134:a.e(w(a),a.d(w(a))&-2);break;case 135:a.a&=-2;break;case 136:a.g&=-3;break;case 137:a.f&=-3;break;case 138:a.k&=-3;break;case 139:a.i&=-3;break;case 140:a.h&=-3;break;case 141:a.j&=-3;break;case 142:a.e(w(a),a.d(w(a))&-3);break;case 143:a.a&=-3;break;case 144:a.g&=-5;break;case 145:a.f&=-5;break;case 146:a.k&=-5;break;case 147:a.i&=-5;break;case 148:a.h&=-5;break;case 149:a.j&=
-5;break;case 150:a.e(w(a),a.d(w(a))&-5);break;case 151:a.a&=-5;break;case 152:a.g&=-9;break;case 153:a.f&=-9;break;case 154:a.k&=-9;break;case 155:a.i&=-9;break;case 156:a.h&=-9;break;case 157:a.j&=-9;break;case 158:a.e(w(a),a.d(w(a))&-9);break;case 159:a.a&=-9;break;case 160:a.g&=-17;break;case 161:a.f&=-17;break;case 162:a.k&=-17;break;case 163:a.i&=-17;break;case 164:a.h&=-17;break;case 165:a.j&=-17;break;case 166:a.e(w(a),a.d(w(a))&-17);break;case 167:a.a&=-17;break;case 168:a.g&=-33;break;case 169:a.f&=
-33;break;case 170:a.k&=-33;break;case 171:a.i&=-33;break;case 172:a.h&=-33;break;case 173:a.j&=-33;break;case 174:a.e(w(a),a.d(w(a))&-33);break;case 175:a.a&=-33;break;case 176:a.g&=-65;break;case 177:a.f&=-65;break;case 178:a.k&=-65;break;case 179:a.i&=-65;break;case 180:a.h&=-65;break;case 181:a.j&=-65;break;case 182:a.e(w(a),a.d(w(a))&-65);break;case 183:a.a&=-65;break;case 184:a.g&=-129;break;case 185:a.f&=-129;break;case 186:a.k&=-129;break;case 187:a.i&=-129;break;case 188:a.h&=-129;break;
case 189:a.j&=-129;break;case 190:a.e(w(a),a.d(w(a))&-129);break;case 191:a.a&=-129;break;case 192:a.g|=1;break;case 193:a.f|=1;break;case 194:a.k|=1;break;case 195:a.i|=1;break;case 196:a.h|=1;break;case 197:a.j|=1;break;case 198:a.e(w(a),a.d(w(a))|1);break;case 199:a.a|=1;break;case 200:a.g|=2;break;case 201:a.f|=2;break;case 202:a.k|=2;break;case 203:a.i|=2;break;case 204:a.h|=2;break;case 205:a.j|=2;break;case 206:a.e(w(a),a.d(w(a))|2);break;case 207:a.a|=2;break;case 208:a.g|=4;break;case 209:a.f|=
4;break;case 210:a.k|=4;break;case 211:a.i|=4;break;case 212:a.h|=4;break;case 213:a.j|=4;break;case 214:a.e(w(a),a.d(w(a))|4);break;case 215:a.a|=4;break;case 216:a.g|=8;break;case 217:a.f|=8;break;case 218:a.k|=8;break;case 219:a.i|=8;break;case 220:a.h|=8;break;case 221:a.j|=8;break;case 222:a.e(w(a),a.d(w(a))|8);break;case 223:a.a|=8;break;case 224:a.g|=16;break;case 225:a.f|=16;break;case 226:a.k|=16;break;case 227:a.i|=16;break;case 228:a.h|=16;break;case 229:a.j|=16;break;case 230:a.e(w(a),
a.d(w(a))|16);break;case 231:a.a|=16;break;case 232:a.g|=32;break;case 233:a.f|=32;break;case 234:a.k|=32;break;case 235:a.i|=32;break;case 236:a.h|=32;break;case 237:a.j|=32;break;case 238:a.e(w(a),a.d(w(a))|32);break;case 239:a.a|=32;break;case 240:a.g|=64;break;case 241:a.f|=64;break;case 242:a.k|=64;break;case 243:a.i|=64;break;case 244:a.h|=64;break;case 245:a.j|=64;break;case 246:a.e(w(a),a.d(w(a))|64);break;case 247:a.a|=64;break;case 248:a.g|=128;break;case 249:a.f|=128;break;case 250:a.k|=
128;break;case 251:a.i|=128;break;case 252:a.h|=128;break;case 253:a.j|=128;break;case 254:a.e(w(a),a.d(w(a))|128);break;case 255:a.a|=128}break;case 204:a.call(0!=(a.b&64));break;case 205:l(a,a.c+2);a.c=a.q(a.c);break;case 206:D(a,a.d(a.c++));break;case 207:l(a,a.c);a.c=8;break;case 208:wb(a,0==(a.b&1));break;case 209:var Ib=a.q(a.m);a.k=Ib>>8;a.i=Ib&255;a.m+=2;break;case 210:xb(a,0==(a.b&1));break;case 211:U(a.v,a.d(a.c++),a.a);break;case 212:a.call(0==(a.b&1));break;case 213:yb(a,a.k,a.i);break;
case 214:E(a,a.d(a.c++));break;case 215:l(a,a.c);a.c=16;break;case 216:wb(a,0!=(a.b&1));break;case 217:var bb=a.g;a.g=a.oa;a.oa=bb;bb=a.f;a.f=a.pa;a.pa=bb;var cb=a.k;a.k=a.qa;a.qa=cb;cb=a.i;a.i=a.ra;a.ra=cb;var db=a.h;a.h=a.ta;a.ta=db;db=a.j;a.j=a.ua;a.ua=db;break;case 218:xb(a,0!=(a.b&1));break;case 219:a.a=V(a.v,a.d(a.c++));break;case 220:a.call(0!=(a.b&1));break;case 221:var Jb=a.d(a.c++),Ca=0,eb=0;a.n-=Ab[Jb];switch(Jb){case 9:Bb(a,s(a,W(a),p(a)));break;case 25:Bb(a,s(a,W(a),x(a)));break;case 33:Bb(a,
a.q(a.c));a.c+=2;break;case 34:Ca=a.q(a.c);a.e(Ca++,a.r);a.e(Ca,a.t);a.c+=2;break;case 35:a.r=a.r+1&255;0==a.r&&(a.t=a.t+1&255);break;case 36:a.t=q(a,a.t);break;case 37:a.t=r(a,a.t);break;case 38:a.t=a.d(a.c++);break;case 41:Bb(a,s(a,W(a),W(a)));break;case 42:Ca=a.q(a.c);a.r=a.d(Ca);a.t=a.d(++Ca);a.c+=2;break;case 43:a.r=a.r-1&255;255==a.r&&(a.t=a.t-1&255);break;case 44:a.r=q(a,a.r);break;case 45:a.r=r(a,a.r);break;case 46:a.r=a.d(a.c++);break;case 52:hb(a,W(a)+B(a));a.c++;break;case 53:vb(a,W(a)+
B(a));a.c++;break;case 54:a.e(W(a)+B(a),a.d(++a.c));a.c++;break;case 57:Bb(a,s(a,W(a),a.m));break;case 68:a.g=a.t;break;case 69:a.g=a.r;break;case 70:a.g=a.d(W(a)+B(a));a.c++;break;case 76:a.f=a.t;break;case 77:a.f=a.r;break;case 78:a.f=a.d(W(a)+B(a));a.c++;break;case 84:a.k=a.t;break;case 85:a.k=a.r;break;case 86:a.k=a.d(W(a)+B(a));a.c++;break;case 92:a.i=a.t;break;case 93:a.i=a.r;break;case 94:a.i=a.d(W(a)+B(a));a.c++;break;case 96:a.t=a.g;break;case 97:a.t=a.f;break;case 98:a.t=a.k;break;case 99:a.t=
a.i;break;case 100:break;case 101:a.t=a.r;break;case 102:a.h=a.d(W(a)+B(a));a.c++;break;case 103:a.t=a.a;break;case 104:a.r=a.g;break;case 105:a.r=a.f;break;case 106:a.r=a.k;break;case 107:a.r=a.i;break;case 108:a.r=a.t;break;case 109:break;case 110:a.j=a.d(W(a)+B(a));a.c++;break;case 111:a.r=a.a;break;case 112:a.e(W(a)+B(a),a.g);a.c++;break;case 113:a.e(W(a)+B(a),a.f);a.c++;break;case 114:a.e(W(a)+B(a),a.k);a.c++;break;case 115:a.e(W(a)+B(a),a.i);a.c++;break;case 116:a.e(W(a)+B(a),a.h);a.c++;break;
case 117:a.e(W(a)+B(a),a.j);a.c++;break;case 119:a.e(W(a)+B(a),a.a);a.c++;break;case 124:a.a=a.t;break;case 125:a.a=a.r;break;case 126:a.a=a.d(W(a)+B(a));a.c++;break;case 132:C(a,a.t);break;case 133:C(a,a.r);break;case 134:C(a,a.d(W(a)+B(a)));a.c++;break;case 140:D(a,a.t);break;case 141:D(a,a.r);break;case 142:D(a,a.d(W(a)+B(a)));a.c++;break;case 148:E(a,a.t);break;case 149:E(a,a.r);break;case 150:E(a,a.d(W(a)+B(a)));a.c++;break;case 156:F(a,a.t);break;case 157:F(a,a.r);break;case 158:F(a,a.d(W(a)+
B(a)));a.c++;break;case 164:a.b=a.l[a.a&=a.t]|16;break;case 165:a.b=a.l[a.a&=a.r]|16;break;case 166:a.b=a.l[a.a&=a.d(W(a)+B(a))]|16;a.c++;break;case 172:a.b=a.l[a.a^=a.t];break;case 173:a.b=a.l[a.a^=a.r];break;case 174:a.b=a.l[a.a^=a.d(W(a)+B(a))];a.c++;break;case 180:a.b=a.l[a.a|=a.t];break;case 181:a.b=a.l[a.a|=a.r];break;case 182:a.b=a.l[a.a|=a.d(W(a)+B(a))];a.c++;break;case 188:G(a,a.t);break;case 189:G(a,a.r);break;case 190:G(a,a.d(W(a)+B(a)));a.c++;break;case 203:Cb(a,W(a));break;case 225:Bb(a,
a.q(a.m));a.m+=2;break;case 227:eb=W(a);Bb(a,a.q(a.m));a.e(a.m,eb&255);a.e(a.m+1,eb>>8);break;case 229:yb(a,a.t,a.r);break;case 233:a.c=W(a);break;case 249:a.m=W(a);break;default:a.c--}break;case 222:F(a,a.d(a.c++));break;case 223:l(a,a.c);a.c=24;break;case 224:wb(a,0==(a.b&4));break;case 225:La(a,a.q(a.m));a.m+=2;break;case 226:xb(a,0==(a.b&4));break;case 227:h=a.h;a.h=a.d(a.m+1);a.e(a.m+1,h);h=a.j;a.j=a.d(a.m);a.e(a.m,h);break;case 228:a.call(0==(a.b&4));break;case 229:yb(a,a.h,a.j);break;case 230:a.b=
a.l[a.a&=a.d(a.c++)]|16;break;case 231:l(a,a.c);a.c=32;break;case 232:wb(a,0!=(a.b&4));break;case 233:a.c=w(a);break;case 234:xb(a,0!=(a.b&4));break;case 235:h=a.k;a.k=a.h;a.h=h;h=a.i;a.i=a.j;a.j=h;break;case 236:a.call(0!=(a.b&4));break;case 237:var Mb=B(a),m=0,z=0;a.n-=Eb[Mb];switch(Mb){case 64:a.g=V(a.v,a.f);a.b=a.b&1|a.l[a.g];a.c++;break;case 65:U(a.v,a.f,a.g);a.c++;break;case 66:Kb(a,p(a));a.c++;break;case 67:z=a.q(a.c+1);a.e(z++,a.f);a.e(z,a.g);a.c+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:m=
a.a;a.a=0;E(a,m);a.c++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:a.c=a.q(a.m);a.m+=2;a.I=a.J;break;case 70:case 78:case 102:case 110:a.Q=0;a.c++;break;case 71:a.X=a.a;a.c++;break;case 72:a.f=V(a.v,a.f);a.b=a.b&1|a.l[a.f];a.c++;break;case 73:U(a.v,a.f,a.f);a.c++;break;case 74:Lb(a,p(a));a.c++;break;case 75:var Nb=a.q(a.q(a.c+1));a.g=Nb>>8;a.f=Nb&255;a.c+=3;break;case 79:a.c++;break;case 80:a.k=V(a.v,a.f);a.b=a.b&1|a.l[a.k];a.c++;break;case 81:U(a.v,a.f,a.k);a.c++;break;
case 82:Kb(a,x(a));a.c++;break;case 83:z=a.q(a.c+1);a.e(z++,a.i);a.e(z,a.k);a.c+=3;break;case 86:case 118:a.Q=1;a.c++;break;case 87:a.a=a.X;a.b=a.b&1|a.ma[a.a]|(a.J?4:0);a.c++;break;case 88:a.i=V(a.v,a.f);a.b=a.b&1|a.l[a.i];a.c++;break;case 89:U(a.v,a.f,a.i);a.c++;break;case 90:Lb(a,x(a));a.c++;break;case 91:var Ob=a.q(a.q(a.c+1));a.k=Ob>>8;a.i=Ob&255;a.c+=3;break;case 95:a.a=Math.round(255*Math.random());a.b=a.b&1|a.ma[a.a]|(a.J?4:0);a.c++;break;case 96:a.h=V(a.v,a.f);a.b=a.b&1|a.l[a.h];a.c++;break;
case 97:U(a.v,a.f,a.h);a.c++;break;case 98:Kb(a,w(a));a.c++;break;case 99:z=a.q(a.c+1);a.e(z++,a.j);a.e(z,a.h);a.c+=3;break;case 103:z=w(a);m=a.d(z);a.e(z,m>>4|(a.a&15)<<4);a.a=a.a&240|m&15;a.b=a.b&1|a.l[a.a];a.c++;break;case 104:a.j=V(a.v,a.f);a.b=a.b&1|a.l[a.j];a.c++;break;case 105:U(a.v,a.f,a.j);a.c++;break;case 106:Lb(a,w(a));a.c++;break;case 107:La(a,a.q(a.q(a.c+1)));a.c+=3;break;case 111:z=w(a);m=a.d(z);a.e(z,(m&15)<<4|a.a&15);a.a=a.a&240|m>>4;a.b=a.b&1|a.l[a.a];a.c++;break;case 113:U(a.v,a.f,
0);a.c++;break;case 114:Kb(a,a.m);a.c++;break;case 115:z=a.q(a.c+1);a.e(z++,a.m&255);a.e(z,a.m>>8);a.c+=3;break;case 120:a.a=V(a.v,a.f);a.b=a.b&1|a.l[a.a];a.c++;break;case 121:U(a.v,a.f,a.a);a.c++;break;case 122:Lb(a,a.m);a.c++;break;case 123:a.m=a.q(a.q(a.c+1));a.c+=3;break;case 160:a.e(x(a),a.d(w(a)));Ra(a);$a(a);Pa(a);a.b=a.b&193|(0!=p(a)?4:0);a.c++;break;case 161:m=a.b&1|2;G(a,a.d(w(a)));$a(a);Pa(a);m|=0==p(a)?0:4;a.b=a.b&248|m;a.c++;break;case 162:m=V(a.v,a.f);a.e(w(a),m);a.g=r(a,a.g);$a(a);
a.b=128==(m&128)?a.b|2:a.b&-3;a.c++;break;case 163:m=a.d(w(a));U(a.v,a.f,m);$a(a);a.g=r(a,a.g);255<a.j+m?(a.b|=1,a.b|=16):(a.b&=-2,a.b&=-17);a.b=128==(m&128)?a.b|2:a.b&-3;a.c++;break;case 168:a.e(x(a),a.d(w(a)));Za(a);ab(a);Pa(a);a.b=a.b&193|(0!=p(a)?4:0);a.c++;break;case 169:m=a.b&1|2;G(a,a.d(w(a)));ab(a);Pa(a);m|=0==p(a)?0:4;a.b=a.b&248|m;a.c++;break;case 170:m=V(a.v,a.f);a.e(w(a),m);a.g=r(a,a.g);ab(a);a.b=0!=(m&128)?a.b|2:a.b&-3;a.c++;break;case 171:m=a.d(w(a));U(a.v,a.f,m);ab(a);a.g=r(a,a.g);
255<a.j+m?(a.b|=1,a.b|=16):(a.b&=-2,a.b&=-17);a.b=128==(m&128)?a.b|2:a.b&-3;a.c++;break;case 176:a.e(x(a),a.d(w(a)));Ra(a);$a(a);Pa(a);0!=p(a)?(a.b|=4,a.n-=5,a.c--):(a.b&=-5,a.c++);a.b&=-3;a.b&=-17;break;case 177:m=a.b&1|2;G(a,a.d(w(a)));$a(a);Pa(a);m|=0==p(a)?0:4;0!=(m&4)&&0==(a.b&64)?(a.n-=5,a.c--):a.c++;a.b=a.b&248|m;break;case 178:m=V(a.v,a.f);a.e(w(a),m);a.g=r(a,a.g);$a(a);0!=a.g?(a.n-=5,a.c--):a.c++;a.b=128==(m&128)?a.b|2:a.b&-3;break;case 179:m=a.d(w(a));U(a.v,a.f,m);a.g=r(a,a.g);$a(a);0!=
a.g?(a.n-=5,a.c--):a.c++;255<a.j+m?(a.b|=1,a.b|=16):(a.b&=-2,a.b&=-17);a.b=0!=(m&128)?a.b|2:a.b&-3;break;case 184:a.e(x(a),a.d(w(a)));Za(a);ab(a);Pa(a);0!=p(a)?(a.b|=4,a.n-=5,a.c--):(a.b&=-5,a.c++);a.b&=-3;a.b&=-17;break;case 185:m=a.b&1|2;G(a,a.d(w(a)));ab(a);Pa(a);m|=0==p(a)?0:4;0!=(m&4)&&0==(a.b&64)?(a.n-=5,a.c--):a.c++;a.b=a.b&248|m;break;case 186:m=V(a.v,a.f);a.e(w(a),m);a.g=r(a,a.g);ab(a);0!=a.g?(a.n-=5,a.c--):a.c++;a.b=0!=(m&128)?a.b|2:a.b&-3;break;case 187:m=a.d(w(a));U(a.v,a.f,m);a.g=r(a,
a.g);ab(a);0!=a.g?(a.n-=5,a.c--):a.c++;255<a.j+m?(a.b|=1,a.b|=16):(a.b&=-2,a.b&=-17);a.b=0!=(m&128)?a.b|2:a.b&-3;break;default:a.c++}break;case 238:a.b=a.l[a.a^=a.d(a.c++)];break;case 239:l(a,a.c);a.c=40;break;case 240:wb(a,0==(a.b&128));break;case 241:a.b=a.d(a.m++);a.a=a.d(a.m++);break;case 242:xb(a,0==(a.b&128));break;case 243:a.I=a.J=g;break;case 244:a.call(0==(a.b&128));break;case 245:yb(a,a.a,a.b);break;case 246:a.b=a.l[a.a|=a.d(a.c++)];break;case 247:l(a,a.c);a.c=48;break;case 248:wb(a,0!=
(a.b&128));break;case 249:a.m=w(a);break;case 250:xb(a,0!=(a.b&128));break;case 251:a.I=a.J=f;break;case 252:a.call(0!=(a.b&128));break;case 253:var Pb=a.d(a.c++),Da=ea,fb=ea;a.n-=Ab[Pb];switch(Pb){case 9:jc(a,s(a,Z(a),p(a)));break;case 25:jc(a,s(a,Z(a),x(a)));break;case 33:jc(a,a.q(a.c));a.c+=2;break;case 34:Da=a.q(a.c);a.e(Da++,a.s);a.e(Da,a.u);a.c+=2;break;case 35:a.s=a.s+1&255;0==a.s&&(a.u=a.u+1&255);break;case 36:a.u=q(a,a.u);break;case 37:a.u=r(a,a.u);break;case 38:a.u=a.d(a.c++);break;case 41:jc(a,
s(a,Z(a),Z(a)));break;case 42:Da=a.q(a.c);a.s=a.d(Da);a.u=a.d(++Da);a.c+=2;break;case 43:a.s=a.s-1&255;255==a.s&&(a.u=a.u-1&255);break;case 44:a.s=q(a,a.s);break;case 45:a.s=r(a,a.s);break;case 46:a.s=a.d(a.c++);break;case 52:hb(a,Z(a)+B(a));a.c++;break;case 53:vb(a,Z(a)+B(a));a.c++;break;case 54:a.e(Z(a)+B(a),a.d(++a.c));a.c++;break;case 57:jc(a,s(a,Z(a),a.m));break;case 68:a.g=a.u;break;case 69:a.g=a.s;break;case 70:a.g=a.d(Z(a)+B(a));a.c++;break;case 76:a.f=a.u;break;case 77:a.f=a.s;break;case 78:a.f=
a.d(Z(a)+B(a));a.c++;break;case 84:a.k=a.u;break;case 85:a.k=a.s;break;case 86:a.k=a.d(Z(a)+B(a));a.c++;break;case 92:a.i=a.u;break;case 93:a.i=a.s;break;case 94:a.i=a.d(Z(a)+B(a));a.c++;break;case 96:a.u=a.g;break;case 97:a.u=a.f;break;case 98:a.u=a.k;break;case 99:a.u=a.i;break;case 100:break;case 101:a.u=a.s;break;case 102:a.h=a.d(Z(a)+B(a));a.c++;break;case 103:a.u=a.a;break;case 104:a.s=a.g;break;case 105:a.s=a.f;break;case 106:a.s=a.k;break;case 107:a.s=a.i;break;case 108:a.s=a.u;break;case 109:break;
case 110:a.j=a.d(Z(a)+B(a));a.c++;break;case 111:a.s=a.a;break;case 112:a.e(Z(a)+B(a),a.g);a.c++;break;case 113:a.e(Z(a)+B(a),a.f);a.c++;break;case 114:a.e(Z(a)+B(a),a.k);a.c++;break;case 115:a.e(Z(a)+B(a),a.i);a.c++;break;case 116:a.e(Z(a)+B(a),a.h);a.c++;break;case 117:a.e(Z(a)+B(a),a.j);a.c++;break;case 119:a.e(Z(a)+B(a),a.a);a.c++;break;case 124:a.a=a.u;break;case 125:a.a=a.s;break;case 126:a.a=a.d(Z(a)+B(a));a.c++;break;case 132:C(a,a.u);break;case 133:C(a,a.s);break;case 134:C(a,a.d(Z(a)+B(a)));
a.c++;break;case 140:D(a,a.u);break;case 141:D(a,a.s);break;case 142:D(a,a.d(Z(a)+B(a)));a.c++;break;case 148:E(a,a.u);break;case 149:E(a,a.s);break;case 150:E(a,a.d(Z(a)+B(a)));a.c++;break;case 156:F(a,a.u);break;case 157:F(a,a.s);break;case 158:F(a,a.d(Z(a)+B(a)));a.c++;break;case 164:a.b=a.l[a.a&=a.u]|16;break;case 165:a.b=a.l[a.a&=a.s]|16;break;case 166:a.b=a.l[a.a&=a.d(Z(a)+B(a))]|16;a.c++;break;case 172:a.b=a.l[a.a^=a.u];break;case 173:a.b=a.l[a.a^=a.s];break;case 174:a.b=a.l[a.a^=a.d(Z(a)+
B(a))];a.c++;break;case 180:a.b=a.l[a.a|=a.u];break;case 181:a.b=a.l[a.a|=a.s];break;case 182:a.b=a.l[a.a|=a.d(Z(a)+B(a))];a.c++;break;case 188:G(a,a.u);break;case 189:G(a,a.s);break;case 190:G(a,a.d(Z(a)+B(a)));a.c++;break;case 203:Cb(a,Z(a));break;case 225:jc(a,a.q(a.m));a.m+=2;break;case 227:fb=Z(a);jc(a,a.q(a.m));a.e(a.m,fb&255);a.e(a.m+1,fb>>8);break;case 229:yb(a,a.u,a.s);break;case 233:a.c=Z(a);break;case 249:a.m=Z(a);break;default:a.c--}break;case 254:G(a,a.d(a.c++));break;case 255:l(a,a.c),
a.c=56}}if(this.V){var Qb=d;0==Qb&&(this.ga=0);for(var Rb=this.da[Qb],k=this.c,sc=this.ga,tc=Rb,Sb=[],gb=0,v=0;gb<tc;gb++){for(v=0;3>v;v++)k.l[v]=k.g[v]!=va?kc[k.b[(v<<1)+1]]*k.g[v]>>8:kc[k.b[(v<<1)+1]]*k.d[v];k.l[3]=kc[k.b[7]]*(k.f&1)<<1;var Ma=k.l[0]+k.l[1]+k.l[2]+k.l[3];127<Ma?Ma=127:-128>Ma&&(Ma=-128);Sb[sc+gb]=Ma;k.e+=k.m;var wa=k.e>>8,ib=wa<<8;k.e-=ib;k.a[0]-=wa;k.a[1]-=wa;k.a[2]-=wa;k.a[3]=128==k.h?k.a[2]:k.a[3]-wa;for(v=0;3>v;v++){var Tb=k.a[v];if(0>=Tb){var jb=k.b[v<<1];6<jb?(k.g[v]=(ib-
k.e+512*Tb<<8)*k.d[v]/(ib+k.e),k.d[v]=-k.d[v]):(k.d[v]=1,k.g[v]=va);k.a[v]+=jb*(wa/jb+1)}else k.g[v]=va}if(0>=k.a[3]&&(k.d[3]=-k.d[3],128!=k.h&&(k.a[3]+=k.h*(wa/k.h+1)),1==k.d[3])){var Ub=0,Ub=0!=(k.b[6]&4)?0!=(k.f&9)&&0!=(k.f&9^9)?1:0:k.f&1;k.f=k.f>>1|Ub<<15}}this.fa=Sb;this.ga+=Rb}this.C.q=d;if(0==this.ja&&192>d){var y=this.C,xa=d,Ea=0,Sa=0,Ta=0;if(!y.o.Z||!(24>xa||168<=xa))if(0!=(y.c[1]&64)){if(-1!=y.n){for(var aa=y,Fa=aa.s;Fa<=aa.n;Fa++)if(aa.v[Fa]){aa.v[Fa]=g;for(var uc=aa.I[Fa],vc=0,Ua=Fa<<
5,Vb=0;8>Vb;Vb++)for(var wc=aa.d[Ua++],xc=aa.d[Ua++],yc=aa.d[Ua++],zc=aa.d[Ua++],ya=128;0!=ya;ya>>=1){var ha=0;0!=(wc&ya)&&(ha|=1);0!=(xc&ya)&&(ha|=2);0!=(yc&ya)&&(ha|=4);0!=(zc&ya)&&(ha|=8);uc[vc++]=ha}}aa.s=512;aa.n=-1}var u=y,Ga=xa,ma=0,Ha=0,na=0,oa=0,kb=u.c[8],Wb=u.c[9];16>Ga&&0!=(u.c[0]&64)&&(kb=0);var Ac=u.c[0]&128,Xb=32-(kb>>3)+u.A,Na=Ga+Wb>>3;27<Na&&(Na-=28);for(var lb=(Ga+(Wb&7)&7)<<3,Yb=Ga<<8,Va=u.A;Va<u.L;Va++){var Zb=u.J+((Xb&31)<<1)+(Na<<6),Ia=u.d[Zb+1],$b=(Ia&8)<<1,pa=(Va<<3)+(kb&7),
ac=0==(Ia&4)?lb:56-lb,bc=u.I[(u.d[Zb]&255)+((Ia&1)<<8)];if(0==(Ia&2))for(ma=0;8>ma&&256>pa;ma++,pa++)Ha=bc[ma+ac],na=4*(pa+Yb),oa=3*(Ha+$b),u.t[pa]=0!=(Ia&16)&&0!=Ha,u.b[na]=u.a[oa],u.b[na+1]=u.a[oa+1],u.b[na+2]=u.a[oa+2];else for(ma=7;0<=ma&&256>pa;ma--,pa++)Ha=bc[ma+ac],na=4*(pa+Yb),oa=3*(Ha+$b),u.t[pa]=0!=(Ia&16)&&0!=Ha,u.b[na]=u.a[oa],u.b[na+1]=u.a[oa+1],u.b[na+2]=u.a[oa+2];Xb++;0!=Ac&&23==Va&&(Na=Ga>>3,lb=(Ga&7)<<3)}if(y.h){var ba=y;ba.h=g;for(var mb=0;mb<ba.r.length;mb++)ba.r[mb][0]=0;var nb=
0==(ba.c[1]&2)?8:16;1==(ba.c[1]&1)&&(nb<<=1);for(var Wa=0;64>Wa;Wa++){var qa=ba.d[ba.g+Wa]&255;if(208==qa)break;qa++;240<qa&&(qa-=256);for(var Xa=qa;192>Xa;Xa++)if(Xa-qa<nb){var za=ba.r[Xa];if(!za||8<=za[0])break;var ob=3*za[0]+1,cc=ba.g+(Wa<<1)+128;za[ob++]=ba.d[cc++]&255;za[ob++]=qa;za[ob++]=ba.d[cc]&255;za[0]++}}}if(0!=y.r[xa][0]){for(var t=y,pb=xa,ra=0,X=0,Y=0,dc=0,Oa=t.r[pb],ec=Math.min(8,Oa[0]),fc=t.c[1]&1,qb=pb<<8,rb=3*ec;dc<ec;dc++){var sb=Oa[rb--]|(t.c[6]&4)<<6,Bc=Oa[rb--],R=Oa[rb--]-(t.c[0]&
8),gc=pb-Bc>>fc;0!=(t.c[1]&2)&&(sb&=-2);var hc=t.I[sb+((gc&8)>>3)],Ja=0;0>R&&(Ja=-R,R=0);var ic=Ja+((gc&7)<<3);if(0==fc)for(;8>Ja&&256>R;Ja++,R++)ra=hc[ic++],0!=ra&&!t.t[R]&&(X=4*(R+qb),Y=3*(ra+16),t.b[X]=t.a[Y],t.b[X+1]=t.a[Y+1],t.b[X+2]=t.a[Y+2]);else for(;8>Ja&&256>R;Ja++,R+=2)ra=hc[ic++],0!=ra&&!t.t[R]&&(X=4*(R+qb),Y=3*(ra+16),t.b[X]=t.a[Y],t.b[X+1]=t.a[Y+1],t.b[X+2]=t.a[Y+2]),0!=ra&&!t.t[R+1]&&(X=4*(R+qb+1),Y=3*(ra+16),t.b[X]=t.a[Y],t.b[X+1]=t.a[Y+1],t.b[X+2]=t.a[Y+2])}8<=Oa[0]&&(t.e|=64)}if(y.o.T&&
0!=(y.c[0]&32)){Sa=4*(xa<<8);Ta=3*((y.c[7]&15)+16);for(Ea=0;8>Ea;Ea++)y.b[Sa+Ea]=y.a[Ta],y.b[Sa+Ea+1]=y.a[Ta+1],y.b[Sa+Ea+2]=y.a[Ta+2]}}else for(var Aa=y,ia=xa<<8,Cc=4*(ia+1024),tb=3*((Aa.c[7]&15)+16),ia=4*ia;ia<Cc;ia+=4)Aa.b[ia]=Aa.a[tb],Aa.b[ia+1]=Aa.a[tb+1],Aa.b[ia+2]=Aa.a[tb+2]}var K=this.C,ub=d;192>=ub?(192==ub&&(K.e|=128),0==K.u?(K.u=K.c[10],K.e|=4):K.u--,0!=(K.e&4)&&0!=(K.c[0]&16)&&(K.o.b.L=f)):(K.u=K.c[10],0!=(K.e&128)&&(0!=(K.c[1]&32)&&224>ub)&&(K.o.b.L=f))}if(this.ca){var ca=this.b;ca.J=
ca.I;ca.I=g;ca.P&&(ca.c++,ca.P=g);l(ca,ca.c);ca.c=102;ca.n-=11;this.ca=g}0==this.ja--?(this.ja=this.Da,b=f):b=g;b&&this.a.Fa();this.a.requestAnimationFrame(this.Aa.bind(this),this.a.screen)}},wa:function(b,d){0!=d%1024&&(b=b.substr(512),d-=512);var c,e,a=Math.round(d/16384),n=Array(a);for(c=0;c<a;c++)if(n[c]=lc(16384),fa)for(e=0;16384>e;e++)n[c].setUint8(e,b.charCodeAt(16384*c+e));else for(e=0;16384>e;e++)n[c][e]=b.charCodeAt(16384*c+e)&255;return n}};
function mc(b,d,c){var e,a=".gg"==c.substr(-3).toLowerCase()?2:1;e=d.length;1==a?(b.T=f,b.Z=g,b.C.A=0,b.C.L=32):2==a&&(b.Z=f,b.T=g,b.C.A=5,b.C.L=27);if(16384>=e)return g;e=b.wa(d,e);if(null==e)return g;a=b.b;e&&(a.B=e);if(a.B.length){a.S=a.B.length;a.F=a.S-1;for(e=0;3>e;e++)a.p[e]=e%a.S;a.p[3]=0}else a.S=0,a.F=0;b.xa=d;b.ya=c;return f};var lc=fa?function(b){b||(b=0);return new DataView(new ArrayBuffer(b))}:Array,nc=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function qc(b,d){var c=g;d==ea&&(d=document);b.some(function(b){return b in d?(c=b,f):g});return c};var Ba=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],zb=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Ab=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],rc=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Eb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function ua(b){this.o=b;this.C=b.C;this.v=b.d;this.Q=this.m=this.c=0;this.L=this.P=this.J=this.I=g;this.n=this.sa=this.b=this.X=this.u=this.s=this.t=this.r=this.ua=this.ta=this.j=this.h=this.ra=this.qa=this.i=this.k=this.pa=this.oa=this.f=this.g=this.na=this.a=this.R=0;this.B=[];this.K=lc(32768);this.p=Array(4);this.S=this.F=0;this.H=lc(8192);this.Ba=Array(2048);this.ma=Array(256);this.l=Array(256);this.N=Array(256);this.M=Array(256);this.A=Array(131072);this.z=Array(131072);this.W=Array(256);var d,
c,e,a,n,h;for(b=0;256>b;b++)d=0!=(b&128)?128:0,c=0==b?64:0,e=b&32,a=b&8,n=Dc(b)?4:0,this.ma[b]=d|c|e|a,this.l[b]=d|c|e|a|n,this.N[b]=d|c|e|a,this.N[b]|=128==b?4:0,this.N[b]|=0==(b&15)?16:0,this.M[b]=d|c|e|a|2,this.M[b]|=127==b?4:0,this.M[b]|=15==(b&15)?16:0,this.W[b]=0!=b?b&128:68,this.W[b]|=e|a|16;b=0;d=65536;c=0;e=65536;for(n=0;256>n;n++)for(h=0;256>h;h++)a=h-n,this.A[b]=0!=h?0!=(h&128)?128:0:64,this.A[b]|=h&40,(h&15)<(n&15)&&(this.A[b]|=16),h<n&&(this.A[b]|=1),0!=((a^n^128)&(a^h)&128)&&(this.A[b]|=
4),b++,a=h-n-1,this.A[d]=0!=h?0!=(h&128)?128:0:64,this.A[d]|=h&40,(h&15)<=(n&15)&&(this.A[d]|=16),h<=n&&(this.A[d]|=1),0!=((a^n^128)&(a^h)&128)&&(this.A[d]|=4),d++,a=n-h,this.z[c]=0!=h?0!=(h&128)?130:2:66,this.z[c]|=h&40,(h&15)>(n&15)&&(this.z[c]|=16),h>n&&(this.z[c]|=1),0!=((a^n)&(n^h)&128)&&(this.z[c]|=4),c++,a=n-h-1,this.z[e]=0!=h?0!=(h&128)?130:2:66,this.z[e]|=h&40,(h&15)>=(n&15)&&(this.z[e]|=16),h>=n&&(this.z[e]|=1),0!=((a^n)&(n^h)&128)&&(this.z[e]|=4),e++;for(b=256;b--;)for(d=0;1>=d;d++)for(c=
0;1>=c;c++)for(e=0;1>=e;e++){a=this.Ba;n=d<<8|e<<9|c<<10|b;h=d|e<<1|c<<4;this.a=b;this.b=h;var A=this.a,P=0,da=h&1,Q=da;if(0!=(h&16)||9<(A&15))P|=6;if(1==da||159<A||143<A&&9<(A&15))P|=96,Q=1;153<A&&(Q=1);0!=(h&2)?E(this,P):C(this,P);h=this.b&254|Q;h=Dc(this.a)?h&251|4:h&251;a[n]=this.a|h<<8}this.a=this.b=0;if(fa)for(b=0;8192>b;b++)this.H.setUint8(b,0);else for(b=0;8192>b;b++)this.H[b]=0;if(fa)for(b=0;32768>b;b++)this.K.setUint8(b,0);else for(b=0;32768>b;b++)this.K[b]=0;this.S=2;for(b=0;4>b;b++)this.p[b]=
b%3}
ua.prototype={reset:function(){this.c=this.sa=this.b=this.X=this.s=this.u=this.r=this.t=this.h=this.j=this.ta=this.ua=this.k=this.i=this.qa=this.ra=this.g=this.f=this.oa=this.pa=this.a=this.na=0;this.m=57328;this.Q=this.n=0;this.J=this.I=g;this.R=0;this.P=g},call:function(b){b?(l(this,this.c+2),this.c=this.q(this.c),this.n-=7):this.c+=2},e:fa?function(b,d){65535>=b&&(this.H.setInt8(b&8191,d),65532==b?this.p[3]=d:65533==b?this.p[0]=d:65534==b?this.p[1]=d:65535==b&&(this.p[2]=d))}:function(b,d){65535>=b&&
(this.H[b&8191]=d,65532==b?this.p[3]=d:65533==b?this.p[0]=d:65534==b?this.p[1]=d:65535==b&&(this.p[2]=d))},d:fa?function(b){return 1024>b?this.B[0].getUint8(b):16384>b?this.B[this.p[0]&this.F].getUint8(b):32768>b?this.B[this.p[1]&this.F].getUint8(b-16384):49152>b?8==(this.p[3]&12)?this.K.getUint8(b-32768):12==(this.p[3]&12)?this.K.getUint8(b-16384):this.B[this.p[2]&this.F].getUint8(b-32768):57344>b?this.H.getUint8(b-49152):65532>b?this.H.getUint8(b-57344):65532==b?this.p[3]:65533==b?this.p[0]:65534==
b?this.p[1]:65535==b?this.p[2]:0}:function(b){return 1024>b?this.B[0][b]:16384>b?this.B[this.p[0]&this.F][b]:32768>b?this.B[this.p[1]&this.F][b-16384]:49152>b?8==(this.p[3]&12)?this.K[b-32768]:12==(this.p[3]&12)?this.K[b-16384]:this.B[this.p[2]&this.F][b-32768]:57344>b?this.H[b-49152]:65532>b?this.H[b-57344]:65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0},q:fa?function(b){return 1024>b?this.B[0].getUint16(b,f):16384>b?this.B[this.p[0]&this.F].getUint16(b,f):32768>b?
this.B[this.p[1]&this.F].getUint16(b-16384,f):49152>b?8==(this.p[3]&12)?this.K[b-32768]:12==(this.p[3]&12)?this.K[b-16384]:this.B[this.p[2]&this.F].getUint16(b-32768,f):57344>b?this.H.getUint16(b-49152,f):65532>b?this.H.getUint16(b-57344,f):65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0}:function(b){return 1024>b?this.B[0][b]|this.B[0][++b]<<8:16384>b?this.B[this.p[0]&this.F][b]|this.B[this.p[0]&this.F][++b]<<8:32768>b?this.B[this.p[1]&this.F][b-16384]|this.B[this.p[1]&
this.F][++b-16384]<<8:49152>b?8==(this.p[3]&12)?this.K[b-32768]|this.K[++b-32768]<<8:12==(this.p[3]&12)?this.K[b-16384]|this.K[++b-16384]<<8:this.B[this.p[2]&this.F][b-32768]|this.B[this.p[2]&this.F][++b-32768]<<8:57344>b?this.H[b-49152]|this.H[++b-49152]<<8:65532>b?this.H[b-57344]|this.H[++b-57344]<<8:65532==b?this.p[3]:65533==b?this.p[0]:65534==b?this.p[1]:65535==b?this.p[2]:0}};function B(b){return b.d(b.c)}function Dc(b){var d=f,c;for(c=0;8>c;c++)0!=(b&1<<c)&&(d=!d);return d}
function Kb(b,d){var c=w(b),e=c-d-(b.b&1);b.b=(c^e^d)>>8&16|2|e>>16&1|e>>8&128|(0!=(e&65535)?0:64)|((d^c)&(c^e)&32768)>>13;b.h=e>>8&255;b.j=e&255}function Lb(b,d){var c=w(b),e=c+d+(b.b&1);b.b=(c^e^d)>>8&16|e>>16&1|e>>8&128|(0!=(e&65535)?0:64)|((d^c^32768)&(d^e)&32768)>>13;b.h=e>>8&255;b.j=e&255}function s(b,d,c){var e=d+c;b.b=b.b&196|(d^e^c)>>8&16|e>>16&1;return e&65535}function r(b,d){d=d-1&255;b.b=b.b&1|b.M[d];return d}function q(b,d){d=d+1&255;b.b=b.b&1|b.N[d];return d}
function ab(b){b.j=b.j-1&255;255==b.j&&(b.h=b.h-1&255)}function Za(b){b.i=b.i-1&255;255==b.i&&(b.k=b.k-1&255)}function Pa(b){b.f=b.f-1&255;255==b.f&&(b.g=b.g-1&255)}function $a(b){b.j=b.j+1&255;0==b.j&&(b.h=b.h+1&255)}function Ra(b){b.i=b.i+1&255;0==b.i&&(b.k=b.k+1&255)}function jc(b,d){b.u=d>>8;b.s=d&255}function Bb(b,d){b.t=d>>8;b.r=d&255}function La(b,d){b.h=d>>8;b.j=d&255}function Z(b){return b.u<<8|b.s}function W(b){return b.t<<8|b.r}function w(b){return b.h<<8|b.j}
function x(b){return b.k<<8|b.i}function p(b){return b.g<<8|b.f}function G(b,d){b.b=b.z[b.a<<8|b.a-d&255]}function F(b,d){var c=b.b&1,e=b.a-d-c&255;b.b=b.z[c<<16|b.a<<8|e];b.a=e}function E(b,d){var c=b.a-d&255;b.b=b.z[b.a<<8|c];b.a=c}function D(b,d){var c=b.b&1,e=b.a+d+c&255;b.b=b.A[c<<16|b.a<<8|e];b.a=e}function C(b,d){var c=b.a+d&255;b.b=b.A[b.a<<8|c];b.a=c}
function Cb(b,d){var c=d+B(b)&65535,e=b.d(++b.c);b.n-=rc[e];switch(e){case 0:b.g=H(b,b.d(c));b.e(c,b.g);break;case 1:b.f=H(b,b.d(c));b.e(c,b.f);break;case 2:b.k=H(b,b.d(c));b.e(c,b.k);break;case 3:b.i=H(b,b.d(c));b.e(c,b.i);break;case 4:b.h=H(b,b.d(c));b.e(c,b.h);break;case 5:b.j=H(b,b.d(c));b.e(c,b.j);break;case 6:b.e(c,H(b,b.d(c)));break;case 7:b.a=H(b,b.d(c));b.e(c,b.a);break;case 8:b.g=I(b,b.d(c));b.e(c,b.g);break;case 9:b.f=I(b,b.d(c));b.e(c,b.f);break;case 10:b.k=I(b,b.d(c));b.e(c,b.k);break;
case 11:b.i=I(b,b.d(c));b.e(c,b.i);break;case 12:b.h=I(b,b.d(c));b.e(c,b.h);break;case 13:b.j=I(b,b.d(c));b.e(c,b.j);break;case 14:b.e(c,I(b,b.d(c)));break;case 15:b.a=I(b,b.d(c));b.e(c,b.a);break;case 16:b.g=J(b,b.d(c));b.e(c,b.g);break;case 17:b.f=J(b,b.d(c));b.e(c,b.f);break;case 18:b.k=J(b,b.d(c));b.e(c,b.k);break;case 19:b.i=J(b,b.d(c));b.e(c,b.i);break;case 20:b.h=J(b,b.d(c));b.e(c,b.h);break;case 21:b.j=J(b,b.d(c));b.e(c,b.j);break;case 22:b.e(c,J(b,b.d(c)));break;case 23:b.a=J(b,b.d(c));b.e(c,
b.a);break;case 24:b.g=L(b,b.d(c));b.e(c,b.g);break;case 25:b.f=L(b,b.d(c));b.e(c,b.f);break;case 26:b.k=L(b,b.d(c));b.e(c,b.k);break;case 27:b.i=L(b,b.d(c));b.e(c,b.i);break;case 28:b.h=L(b,b.d(c));b.e(c,b.h);break;case 29:b.j=L(b,b.d(c));b.e(c,b.j);break;case 30:b.e(c,L(b,b.d(c)));break;case 31:b.a=L(b,b.d(c));b.e(c,b.a);break;case 32:b.g=M(b,b.d(c));b.e(c,b.g);break;case 33:b.f=M(b,b.d(c));b.e(c,b.f);break;case 34:b.k=M(b,b.d(c));b.e(c,b.k);break;case 35:b.i=M(b,b.d(c));b.e(c,b.i);break;case 36:b.h=
M(b,b.d(c));b.e(c,b.h);break;case 37:b.j=M(b,b.d(c));b.e(c,b.j);break;case 38:b.e(c,M(b,b.d(c)));break;case 39:b.a=M(b,b.d(c));b.e(c,b.a);break;case 40:b.g=N(b,b.d(c));b.e(c,b.g);break;case 41:b.f=N(b,b.d(c));b.e(c,b.f);break;case 42:b.k=N(b,b.d(c));b.e(c,b.k);break;case 43:b.i=N(b,b.d(c));b.e(c,b.i);break;case 44:b.h=N(b,b.d(c));b.e(c,b.h);break;case 45:b.j=N(b,b.d(c));b.e(c,b.j);break;case 46:b.e(c,N(b,b.d(c)));break;case 47:b.a=N(b,b.d(c));b.e(c,b.a);break;case 48:b.g=O(b,b.d(c));b.e(c,b.g);break;
case 49:b.f=O(b,b.d(c));b.e(c,b.f);break;case 50:b.k=O(b,b.d(c));b.e(c,b.k);break;case 51:b.i=O(b,b.d(c));b.e(c,b.i);break;case 52:b.h=O(b,b.d(c));b.e(c,b.h);break;case 53:b.j=O(b,b.d(c));b.e(c,b.j);break;case 54:b.e(c,O(b,b.d(c)));break;case 55:b.a=O(b,b.d(c));b.e(c,b.a);break;case 56:b.g=S(b,b.d(c));b.e(c,b.g);break;case 57:b.f=S(b,b.d(c));b.e(c,b.f);break;case 58:b.k=S(b,b.d(c));b.e(c,b.k);break;case 59:b.i=S(b,b.d(c));b.e(c,b.i);break;case 60:b.h=S(b,b.d(c));b.e(c,b.h);break;case 61:b.j=S(b,b.d(c));
b.e(c,b.j);break;case 62:b.e(c,S(b,b.d(c)));break;case 63:b.a=S(b,b.d(c));b.e(c,b.a);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:T(b,b.d(c)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:T(b,b.d(c)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:T(b,b.d(c)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:T(b,b.d(c)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:T(b,b.d(c)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:T(b,b.d(c)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:T(b,b.d(c)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:T(b,b.d(c)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:b.e(c,b.d(c)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:b.e(c,b.d(c)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:b.e(c,
b.d(c)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:b.e(c,b.d(c)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:b.e(c,b.d(c)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:b.e(c,b.d(c)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:b.e(c,b.d(c)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:b.e(c,b.d(c)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:b.e(c,
b.d(c)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:b.e(c,b.d(c)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:b.e(c,b.d(c)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:b.e(c,b.d(c)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:b.e(c,b.d(c)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:b.e(c,b.d(c)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:b.e(c,
b.d(c)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:b.e(c,b.d(c)|128)}b.c++}function T(b,d){b.b=b.b&1|b.W[d]}function S(b,d){var c=d&1;d=d>>1&255;b.b=c|b.l[d];return d}function N(b,d){var c=d&1;d=d>>1|d&128;b.b=c|b.l[d];return d}function O(b,d){var c=(d&128)>>7;d=(d<<1|1)&255;b.b=c|b.l[d];return d}function M(b,d){var c=(d&128)>>7;d=d<<1&255;b.b=c|b.l[d];return d}function L(b,d){var c=d&1;d=(d>>1|b.b<<7)&255;b.b=c|b.l[d];return d}
function J(b,d){var c=(d&128)>>7;d=(d<<1|b.b&1)&255;b.b=c|b.l[d];return d}function I(b,d){var c=d&1;d=(d>>1|d<<7)&255;b.b=c|b.l[d];return d}function H(b,d){var c=(d&128)>>7;d=(d<<1|d>>7)&255;b.b=c|b.l[d];return d}function vb(b,d){b.e(d,r(b,b.d(d)))}function hb(b,d){b.e(d,q(b,b.d(d)))}function yb(b,d,c){b.e(--b.m,d);b.e(--b.m,c)}function l(b,d){b.e(--b.m,d>>8);b.e(--b.m,d&255)}function wb(b,d){d&&(b.c=b.q(b.m),b.m+=2,b.n-=6)}function Ya(b){128<=b&&(b-=256);return b}
function Qa(b,d){d?(b.c+=Ya(B(b)+1),b.n-=5):b.c++}function xb(b,d){d?b.c=b.q(b.c):b.c+=2};function ka(b){this.o=b;this.O=this.a=this.w=0}
ka.prototype={reset:function(){this.O=this.a=this.w=255;this.ca=g},keydown:function(b){switch(b.keyCode){case 38:this.w&=-2;break;case 40:this.w&=-3;break;case 37:this.w&=-5;break;case 39:this.w&=-9;break;case 88:this.w&=-17;break;case 90:this.w&=-33;break;case 13:this.o.T?this.o.ca=f:this.O&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}b.preventDefault()},
keyup:function(b){switch(b.keyCode){case 38:this.w|=1;break;case 40:this.w|=2;break;case 37:this.w|=4;break;case 39:this.w|=8;break;case 88:this.w|=16;break;case 90:this.w|=32;break;case 13:this.o.T||(this.O|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}b.preventDefault()}};var va=Number.MIN_VALUE,kc=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function sa(b){this.o=b;this.e=this.m=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.l=Array(4)}sa.prototype={};function la(b){this.o=b;var d=0;this.N=0;this.d=Array(16384);this.a=Array(96);for(d=0;96>d;d++)this.a[d]=255;this.c=Array(16);this.e=0;this.m=g;this.u=this.q=this.M=this.z=this.f=this.l=0;this.t=Array(256);this.J=0;this.b=b.a.va.data;this.X=Array(64);this.W=Array(64);this.S=Array(64);this.R=Array(256);this.Q=Array(256);this.P=Array(16);this.g=this.L=this.A=0;this.h=g;this.r=Array(192);for(d=0;192>d;d++)this.r[d]=Array(25);this.I=Array(512);this.v=Array(512);for(b=this.n=this.s=0;512>b;b++)this.I[b]=
Array(64);var c,e;for(b=0;64>b;b++)d=b&3,c=b>>2&3,e=b>>4&3,this.X[b]=85*d&255,this.W[b]=85*c&255,this.S[b]=85*e&255;for(b=0;256>b;b++)c=b&15,e=b>>4&15,this.R[b]=(c<<4|c)&255,this.Q[b]=(e<<4|e)&255;for(b=0;16>b;b++)this.P[b]=(b<<4|b)&255}
la.prototype={reset:function(){var b;this.m=f;for(b=this.z=this.e=this.u=this.f=0;16>b;b++)this.c[b]=0;this.c[2]=14;this.c[5]=126;this.o.b.L=g;this.h=f;this.s=512;this.n=-1;for(b=0;16384>b;b++)this.d[b]=0;for(b=0;196608>b;b+=4)this.b[b]=0,this.b[b+1]=0,this.b[b+2]=0,this.b[b+3]=255}};function Ec(b){b.J=(b.c[2]&14)<<10;b.s=0;b.n=511;for(var d=0,c=b.v.length;d<c;d++)b.v[d]=f;b.g=(b.c[5]&-130)<<7;b.h=f};function ja(b){this.o=b;this.enable=function(){};this.updateStatus=function(){};this.Fa=function(){}}
window.$&&($.fn.JSSMSUI=function(b){function d(d){this.o=d;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(c).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var a=this;d=$("<div></div>");var n=$('<div id="screen"></div>'),h=$('<div class="gamepad"><div class="direction"><div class="up"></div><div class="right"></div><div class="left"></div><div class="down"></div></div><div class="buttons"><div class="start"></div><div class="fire1"></div><div class="fire2"></div></div></div>'),A=
$('<div id="controls"></div>'),P=qc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),da=qc(["requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window),Q;if(da)this.requestAnimationFrame=window[da].bind(window);else{var Ka=0;this.requestAnimationFrame=function(a){var b=nc(),c=Math.max(0,16-(b-Ka));window.setTimeout(function(){a(b+c)},c);Ka=b+c}}this.screen=$("<canvas width=256 height=192></canvas>");this.ha=this.screen[0].getContext("2d");
if(this.ha.getImageData){this.va=this.ha.getImageData(0,0,256,192);this.ka={Ja:{i:$(".up",h),Y:1},Ia:{i:$(".right",h),Y:8},k:{i:$(".down",h),Y:2},j:{i:$(".left",h),Y:4},1:{i:$(".fire1",h),Y:16},2:{i:$(".fire2",h),Y:32}};da=$(".start",h);this.Ea=$('<div id="romSelector"></div>');this.aa=$("<select></select>").change(function(){a.wa()});this.D=Object.create(null);this.D.start=$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){a.o.ba?(a.o.stop(),a.updateStatus("Paused"),
a.D.start.attr("value","Start")):(a.o.start(),a.D.start.attr("value","Pause"))});this.D.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=a.o.xa&&""!=a.o.ya&&mc(a.o,a.o.xa,a.o.ya)?(a.o.reset(),Ec(a.o.C),a.o.start()):$(this).attr("disabled","disabled")});this.o.V&&(this.D.ea=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){a.o.V?(a.o.V=g,a.D.ea.attr("value","Enable sound")):(a.o.V=f,a.D.ea.attr("value",
"Disable sound"))}));P?this.D.Ha=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=n[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.za=g,this.D.zoom=$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){a.za?(a.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),a.D.zoom.attr("value","Zoom in")):
(a.screen.animate({width:"512px",height:"384px"}),a.D.zoom.attr("value","Zoom out"));a.za=!a.za}));for(Q in this.D)this.D[Q].appendTo(A);this.log=$('<div id="status"></div>');this.screen.appendTo(n);h.appendTo(n);n.appendTo(d);this.Ea.appendTo(d);A.appendTo(d);this.log.appendTo(d);d.appendTo($(c));b!=ea&&this.Ga(b);$(document).bind("keydown",function(b){a.o.G.keydown(b)}).bind("keyup",function(b){a.o.G.keyup(b)});for(Q in this.ka)this.ka[Q].i.on("mousedown touchstart",function(b){return function(c){a.o.G.w&=
~b;c.preventDefault()}}(this.ka[Q].Y)).on("mouseup touchend",function(b){return function(c){a.o.G.w|=b;c.preventDefault()}}(this.ka[Q].Y));da.on("mousedown touchstart",function(b){a.o.T?a.o.ca=f:a.o.G.O&=-129;b.preventDefault()}).on("mouseup touchend",function(b){a.o.T||(a.o.G.O|=128);b.preventDefault()})}else $(c).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}
var c=this;d.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.empty()},Ga:function(b){var a,c,d,A,P=0;this.aa.children().remove();$("<option>Select a ROM...</option>").appendTo(this.aa);for(a in b){if(b.hasOwnProperty(a)){c=$("<optgroup></optgroup>").attr("label",a);d=b[a].length;for(A=0;A<d;A++)$("<option>"+b[a][A][0]+"</option>").attr("value",b[a][A][1]).appendTo(c);c.appendTo(this.aa)}P++}P&&this.aa.appendTo(this.Ea)},wa:function(){var b=this;this.updateStatus("Downloading...");
$.ajax({url:escape(this.aa.val()),xhr:function(){var a=$.ajaxSettings.xhr();a.overrideMimeType!=ea&&a.overrideMimeType("text/plain; charset=x-user-defined");return b.xhr=a},complete:function(a,c){var d;"error"==c?b.updateStatus("The selected rom could not be loaded."):(d=a.responseText,b.o.stop(),mc(b.o,d,b.aa.val()),b.o.reset(),Ec(b.o.C),b.enable())}})},enable:function(){this.D.start.removeAttr("disabled");this.D.start.attr("value","Start");this.D.reset.removeAttr("disabled");this.o.V&&(this.D.ea?
this.D.ea.attr("value","Disable sound"):this.D.ea.attr("value","Enable sound"))},updateStatus:function(b){this.log.text(b)},Fa:function(){var b=qc(["hidden","mozHidden","webkitHidden","msHidden"]);return b?function(){document[b]||this.ha.putImageData(this.va,0,0)}:function(){this.ha.putImageData(this.va,0,0)}}()};return d});function ta(b){this.o=b;this.C=b.C;this.b=b.c;this.G=b.G;this.a=[]}ta.prototype={reset:function(){this.a=Array(2)}};
function V(b,d){if(b.o.Z&&7>d)switch(d){case 0:return b.G.O&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(d&193){case 64:var c;a:{c=b.C;if(0==c.N){if(218<c.q){c=c.q-6;break a}}else if(242<c.q){c=c.q-57;break a}c=c.q}return c;case 65:return 0;case 128:c=b.C;c.m=f;var e=c.M;c.M=c.d[c.f++&16383]&255;return e;case 129:return c=b.C,c.m=f,e=c.e,c.e=0,c.o.b.L=g,e;case 192:return b.G.w;case 193:return b.G.a&63|b.a[0]|b.a[1]}return 255}
function U(b,d,c){if(!(b.o.Z&&7>d))switch(d&193){case 1:b.a[0]=(c&32)<<1;b.a[1]=c&128;break;case 128:b=b.C;d=0;b.m=f;switch(b.z){case 0:case 1:case 2:d=b.f&16383;if(c!=(b.d[d]&255)){if(d>=b.g&&d<b.g+64)b.h=f;else if(d>=b.g+128&&d<b.g+256)b.h=f;else{var e=d>>5;b.v[e]=f;e<b.s&&(b.s=e);e>b.n&&(b.n=e)}b.d[d]=c}break;case 3:b.o.T?(d=3*(b.f&31),b.a[d]=b.X[c],b.a[d+1]=b.W[c],b.a[d+2]=b.S[c]):(d=3*((b.f&63)>>1),0==(b.f&1)?(b.a[d]=b.R[c],b.a[d+1]=b.Q[c]):b.a[d+2]=b.P[c])}b.f++;break;case 129:b=b.C;if(b.m)b.m=
g,b.l=c,b.f=b.f&16128|c;else if(b.m=f,b.z=c>>6&3,b.f=b.l|c<<8,0==b.z)b.M=b.d[b.f++&16383]&255;else if(2==b.z){c&=15;switch(c){case 1:0!=(b.e&128)&&0!=(b.l&32)&&(b.o.b.L=f);(b.l&3)!=(b.c[c]&3)&&(b.h=f);break;case 2:b.J=(b.l&14)<<10;break;case 5:d=b.g,b.g=(b.l&-130)<<7,d!=b.g&&(b.h=f)}b.c[c]=b.l}break;case 64:case 65:if(b.o.V)switch(b=b.b,0!=(c&128)?(b.c=c>>4&7,b.b[b.c]=b.b[b.c]&1008|c&15):b.b[b.c]=0==b.c||2==b.c||4==b.c?b.b[b.c]&15|(c&63)<<4:c&15,b.c){case 0:case 2:case 4:0==b.b[b.c]&&(b.b[b.c]=1);
break;case 6:b.h=16<<(b.b[6]&3),b.f=32768}}};window.JSSMS=ga;})(window);
